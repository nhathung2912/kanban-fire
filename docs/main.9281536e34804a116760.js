(self.webpackChunkkanban_fire=self.webpackChunkkanban_fire||[]).push([[179],{8255:Qe=>{function we(L){return Promise.resolve().then(()=>{var u=new Error("Cannot find module '"+L+"'");throw u.code="MODULE_NOT_FOUND",u})}we.keys=()=>[],we.resolve=we,we.id=8255,Qe.exports=we},7716:(Qe,we,L)=>{"use strict";L.d(we,{AFp:()=>M_,ip1:()=>wh,CZH:()=>fc,hGG:()=>W_,z2F:()=>Ih,sBO:()=>ix,_Vd:()=>oc,EJc:()=>Pu,SBq:()=>Nn,qLn:()=>Ya,vpe:()=>pa,gxx:()=>vo,XFs:()=>We,OlP:()=>dn,zs3:()=>wn,ZZ4:()=>Iu,aQg:()=>hp,soG:()=>x_,h0i:()=>sl,PXZ:()=>jp,R0b:()=>Bi,FiY:()=>na,Lbi:()=>EE,g9A:()=>bE,Qsj:()=>cN,FYo:()=>xb,JOm:()=>y,Tiy:()=>cp,q3G:()=>Hn,tp0:()=>go,Rgc:()=>Tu,dDg:()=>pc,DyG:()=>En,q4F:()=>Y0,GfV:()=>K0,s_b:()=>Fb,ifc:()=>Fe,eFA:()=>kE,G48:()=>SR,Gpc:()=>K,f3M:()=>Ws,X6Q:()=>F_,_c5:()=>FR,VLi:()=>ME,c2e:()=>rT,zSh:()=>Xd,wAp:()=>ot,vHH:()=>Te,EiD:()=>Uy,mCW:()=>Hl,qzn:()=>iu,JVY:()=>Lw,pB0:()=>jw,eBb:()=>Bw,L6k:()=>Vw,LAX:()=>Uw,cg1:()=>c0,Tjo:()=>zp,kL8:()=>vM,yhl:()=>_f,dqk:()=>ft,sIi:()=>mu,CqO:()=>ab,QGY:()=>Nm,F4k:()=>CD,RDi:()=>co,AaK:()=>ne,z3N:()=>ia,qOj:()=>wm,TTD:()=>Yr,_Bn:()=>Tb,xp6:()=>WS,uIk:()=>eh,ekj:()=>Um,Suo:()=>yt,Xpm:()=>br,lG2:()=>Rc,Yz7:()=>ln,cJS:()=>_n,oAB:()=>so,Yjl:()=>di,Y36:()=>_i,_UZ:()=>Kf,BQk:()=>sb,ynx:()=>Yf,qZA:()=>Pm,TgZ:()=>ib,EpF:()=>ob,n5z:()=>Nl,Ikx:()=>bb,LFG:()=>On,$8M:()=>Qc,NdJ:()=>Fm,CRH:()=>Ap,oxw:()=>Zf,ALo:()=>xI,lcZ:()=>RI,Hsn:()=>ID,F$t:()=>DD,Q6J:()=>nb,VKq:()=>II,WLB:()=>Kx,iGM:()=>ze,MAs:()=>hD,CHM:()=>Sl,kYT:()=>ml,Udp:()=>da,WFA:()=>lb,d8E:()=>Hm,YNc:()=>dD,_uU:()=>qD,Oqu:()=>mb,hij:()=>ep,Gf:()=>y_});var u=L(9765),re=L(5319),F=L(7574),pe=L(6682),ae=L(3522);function X(i){for(let s in i)if(i[s]===X)return s;throw Error("Could not find renamed property on target object.")}function se(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function ne(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ne).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function te(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const B=X({__forward_ref__:X});function K(i){return i.__forward_ref__=K,i.toString=function(){return ne(this())},i}function U(i){return ce(i)?i():i}function ce(i){return"function"==typeof i&&i.hasOwnProperty(B)&&i.__forward_ref__===K}class Te extends Error{constructor(s,a){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,a)),this.code=s}}function q(i){return"string"==typeof i?i:null==i?"":String(i)}function de(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():q(i)}function Rt(i,s){const a=s?` in ${s}`:"";throw new Te("201",`No provider for ${de(i)} found${a}`)}function jt(i,s){null==i&&function(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function ln(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function _n(i){return{providers:i.providers||[],imports:i.imports||[]}}function Jn(i){return Ft(i,$i)||Ft(i,Xn)}function Ft(i,s){return i.hasOwnProperty(s)?i[s]:null}function Di(i){return i&&(i.hasOwnProperty(Se)||i.hasOwnProperty(Bn))?i[Se]:null}const $i=X({\u0275prov:X}),Se=X({\u0275inj:X}),Xn=X({ngInjectableDef:X}),Bn=X({ngInjectorDef:X});var We=(()=>((We=We||{})[We.Default=0]="Default",We[We.Host=1]="Host",We[We.Self=2]="Self",We[We.SkipSelf=4]="SkipSelf",We[We.Optional=8]="Optional",We))();let Gt;function $r(i){const s=Gt;return Gt=i,s}function tt(i,s,a){const l=Jn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&We.Optional?null:void 0!==s?s:void Rt(ne(i),"Injector")}function At(i){return{toString:i}.toString()}var Mt=(()=>((Mt=Mt||{})[Mt.OnPush=0]="OnPush",Mt[Mt.Default=1]="Default",Mt))(),Fe=(()=>((Fe=Fe||{})[Fe.Emulated=0]="Emulated",Fe[Fe.None=2]="None",Fe[Fe.ShadowDom=3]="ShadowDom",Fe))();const et="undefined"!=typeof globalThis&&globalThis,Mc="undefined"!=typeof window&&window,Os="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ft=et||"undefined"!=typeof global&&global||Mc||Os,W={},j=[],Q=X({\u0275cmp:X}),Ee=X({\u0275dir:X}),le=X({\u0275pipe:X}),je=X({\u0275mod:X}),pt=X({\u0275loc:X}),Lt=X({\u0275fac:X}),Dn=X({__NG_ELEMENT_ID__:X});let In=0;function br(i){return At(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Mt.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||j,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Fe.Emulated,id:"c",styles:i.styles||j,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,f=i.features,m=i.pipes;return l.id+=In++,l.inputs=oo(i.inputs,a),l.outputs=oo(i.outputs),f&&f.forEach(v=>v(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(lr):null,l.pipeDefs=m?()=>("function"==typeof m?m():m).map(io):null,l})}function lr(i){return zn(i)||function(i){return i[Ee]||null}(i)}function io(i){return function(i){return i[le]||null}(i)}const gl={};function so(i){return At(()=>{const s={type:i.type,bootstrap:i.bootstrap||j,declarations:i.declarations||j,imports:i.imports||j,exports:i.exports||j,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(gl[i.id]=i.type),s})}function ml(i,s){return At(()=>{const a=hi(i,!0);a.declarations=s.declarations||j,a.imports=s.imports||j,a.exports=s.exports||j})}function oo(i,s){if(null==i)return W;const a={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=l,s&&(s[d]=f)}return a}const Rc=br;function di(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function zn(i){return i[Q]||null}function hi(i,s){const a=i[je]||null;if(!a&&!0===s)throw new Error(`Type ${ne(i)} does not have '\u0275mod' property.`);return a}function un(i){return Array.isArray(i)&&"object"==typeof i[1]}function cr(i){return Array.isArray(i)&&!0===i[1]}function sd(i){return 0!=(8&i.flags)}function Da(i){return 2==(2&i.flags)}function _l(i){return 1==(1&i.flags)}function Ai(i){return null!==i.template}function Mi(i){return 0!=(512&i[2])}function zi(i,s){return i.hasOwnProperty(Lt)?i[Lt]:null}class Ma{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Yr(){return xa}function xa(i){return i.type.prototype.ngOnChanges&&(i.setInput=Cr),vg}function vg(){const i=vl(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===W)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Cr(i,s,a,l){const d=vl(i)||function(i,s){return i[qi]=s}(i,{previous:W,current:null}),f=d.current||(d.current={}),m=d.previous,v=this.declaredInputs[a],w=m[v];f[v]=new Ma(w&&w.currentValue,s,m===W),i[l]=s}Yr.ngInherit=!0;const qi="__ngSimpleChanges__";function vl(i){return i[qi]||null}let Bo;function co(i){Bo=i}function Xt(i){return!!i.listen}const Wi={createRenderer:(i,s)=>void 0!==Bo?Bo:"undefined"!=typeof document?document:void 0};function Kt(i){for(;Array.isArray(i);)i=i[0];return i}function uo(i,s){return Kt(s[i])}function Qr(i,s){return Kt(s[i.index])}function Fs(i,s){return i.data[s]}function Ls(i,s){return i[s]}function ur(i,s){const a=s[i];return un(a)?a:a[0]}function Cl(i){return 4==(4&i[2])}function Dl(i){return 128==(128&i[2])}function Sn(i,s){return null==s?null:i[s]}function Ra(i){i[18]=0}function ka(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const it={lFrame:$c(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Oa(){return it.bindingsEnabled}function Ce(){return it.lFrame.lView}function Dt(){return it.lFrame.tView}function Sl(i){return it.lFrame.contextLView=i,i[8]}function rn(){let i=Al();for(;null!==i&&64===i.type;)i=i.parent;return i}function Al(){return it.lFrame.currentTNode}function Dr(i,s){const a=it.lFrame;a.currentTNode=i,a.isParent=s}function jo(){return it.lFrame.isParent}function Pa(){it.lFrame.isParent=!1}function Ho(){return it.isInCheckNoChangesMode}function Go(i){it.isInCheckNoChangesMode=i}function An(){const i=it.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function gi(){return it.lFrame.bindingIndex++}function Fa(i,s){const a=it.lFrame;a.bindingIndex=a.bindingRootIndex=i,La(s)}function La(i){it.lFrame.currentDirectiveIndex=i}function Va(i){const s=it.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function xl(){return it.lFrame.currentQueryIndex}function $o(i){it.lFrame.currentQueryIndex=i}function zo(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Gc(i,s,a){if(a&We.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||a&We.Host||(d=zo(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;s=d,i=f}const l=it.lFrame=md();return l.currentTNode=s,l.lView=i,!0}function ho(i){const s=md(),a=i[1];it.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function md(){const i=it.lFrame,s=null===i?null:i.child;return null===s?$c(i):s}function $c(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function _d(){const i=it.lFrame;return it.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const yd=_d;function hs(){const i=_d();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function qn(){return it.lFrame.selectedIndex}function qo(i){it.lFrame.selectedIndex=i}function vn(){const i=it.lFrame;return Fs(i.tView,i.selectedIndex)}function Rl(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:w,ngAfterViewChecked:I,ngOnDestroy:x}=f;m&&(i.contentHooks||(i.contentHooks=[])).push(-a,m),v&&((i.contentHooks||(i.contentHooks=[])).push(a,v),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,v)),w&&(i.viewHooks||(i.viewHooks=[])).push(-a,w),I&&((i.viewHooks||(i.viewHooks=[])).push(a,I),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,I)),null!=x&&(i.destroyHooks||(i.destroyHooks=[])).push(a,x)}}function Us(i,s,a){qc(i,s,3,a)}function Ba(i,s,a,l){(3&i[2])===a&&qc(i,s,a,l)}function bn(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function qc(i,s,a,l){const f=null!=l?l:-1,m=s.length-1;let v=0;for(let w=void 0!==l?65535&i[18]:0;w<m;w++)if("number"==typeof s[w+1]){if(v=s[w],null!=l&&v>=l)break}else s[w]<0&&(i[18]+=65536),(v<f||-1==f)&&(nf(i,a,s,w),i[18]=(4294901760&i[18])+w+2),w++}function nf(i,s,a,l){const d=a[l]<0,f=a[l+1],v=i[d?-a[l]:a[l]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(v)}finally{}}}else try{f.call(v)}finally{}}class Ko{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Ed(i,s,a){const l=Xt(i);let d=0;for(;d<a.length;){const f=a[d];if("number"==typeof f){if(0!==f)break;d++;const m=a[d++],v=a[d++],w=a[d++];l?i.setAttribute(s,v,w,m):s.setAttributeNS(m,v,w)}else{const m=f,v=a[++d];ps(m)?l&&i.setProperty(s,m,v):l?i.setAttribute(s,m,v):s.setAttribute(m,v),d++}}return d}function rf(i){return 3===i||4===i||6===i}function ps(i){return 64===i.charCodeAt(0)}function kl(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?a=d:0===a||sf(i,a,d,null,-1===a||2===a?s[++l]:null)}}return i}function sf(i,s,a,l,d){let f=0,m=i.length;if(-1===s)m=-1;else for(;f<i.length;){const v=i[f++];if("number"==typeof v){if(v===s){m=-1;break}if(v>s){m=f-1;break}}}for(;f<i.length;){const v=i[f];if("number"==typeof v)break;if(v===a){if(null===l)return void(null!==d&&(i[f+1]=d));if(l===i[f+1])return void(i[f+2]=d)}f++,null!==l&&f++,null!==d&&f++}-1!==m&&(i.splice(m,0,s),f=m+1),i.splice(f++,0,a),null!==l&&i.splice(f++,0,l),null!==d&&i.splice(f++,0,d)}function Yc(i){return-1!==i}function Hs(i){return 32767&i}function Jr(i,s){let a=function(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let Ua=!0;function Zo(i){const s=Ua;return Ua=i,s}let Dd=0;function ja(i,s){const a=Zt(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,fo(l.data,i),fo(s,null),fo(l.blueprint,null));const d=Mn(i,s),f=i.injectorIndex;if(Yc(d)){const m=Hs(d),v=Jr(d,s),w=v[1].data;for(let I=0;I<8;I++)s[f+I]=v[m+I]|w[m+I]}return s[f+8]=d,f}function fo(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Zt(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Mn(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,d=s;for(;null!==d;){const f=d[1],m=f.type;if(l=2===m?f.declTNode:1===m?d[6]:null,null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Ha(i,s,a){!function(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Dn)&&(l=a[Dn]),null==l&&(l=a[Dn]=Dd++);const d=255&l;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function hn(i,s,a){if(a&We.Optional)return i;Rt(s,"NodeInjector")}function sn(i,s,a,l){if(a&We.Optional&&void 0===l&&(l=null),0==(a&(We.Self|We.Host))){const d=i[9],f=$r(void 0);try{return d?d.get(s,l,a&We.Optional):tt(s,l,a&We.Optional)}finally{$r(f)}}return hn(l,s,a)}function af(i,s,a,l=We.Default,d){if(null!==i){const f=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Dn)?i[Dn]:void 0;return"number"==typeof s?s>=0?255&s:xn:s}(a);if("function"==typeof f){if(!Gc(s,i,l))return l&We.Host?hn(d,a,l):sn(s,a,l,d);try{const m=f(l);if(null!=m||l&We.Optional)return m;Rt(a)}finally{yd()}}else if("number"==typeof f){let m=null,v=Zt(i,s),w=-1,I=l&We.Host?s[16][6]:null;for((-1===v||l&We.SkipSelf)&&(w=-1===v?Mn(i,s):s[v+8],-1!==w&&Gs(l,!1)?(m=s[1],v=Hs(w),s=Jr(w,s)):v=-1);-1!==v;){const x=s[1];if(Zc(f,v,x.data)){const P=Tr(v,s,a,m,l,I);if(P!==Ge)return P}w=s[v+8],-1!==w&&Gs(l,s[1].data[v+8]===I)&&Zc(f,v,s)?(m=x,v=Hs(w),s=Jr(w,s)):v=-1}}}return sn(s,a,l,d)}const Ge={};function xn(){return new gs(rn(),Ce())}function Tr(i,s,a,l,d,f){const m=s[1],v=m.data[i+8],x=Yi(v,m,a,null==l?Da(v)&&Ua:l!=m&&0!=(3&v.type),d&We.Host&&f===v);return null!==x?Ga(s,m,x,v):Ge}function Yi(i,s,a,l,d){const f=i.providerIndexes,m=s.data,v=1048575&f,w=i.directiveStart,x=f>>20,N=d?v+x:i.directiveEnd;for(let H=l?v:v+x;H<N;H++){const Y=m[H];if(H<w&&a===Y||H>=w&&Y.type===a)return H}if(d){const H=m[w];if(H&&Ai(H)&&H.type===a)return w}return null}function Ga(i,s,a,l){let d=i[a];const f=s.data;if(function(i){return i instanceof Ko}(d)){const m=d;m.resolving&&function(i,s){throw new Te("200",`Circular dependency in DI detected for ${i}`)}(de(f[a]));const v=Zo(m.canSeeViewProviders);m.resolving=!0;const w=m.injectImpl?$r(m.injectImpl):null;Gc(i,l,We.Default);try{d=i[a]=m.factory(void 0,f,i,l),s.firstCreatePass&&a>=l.directiveStart&&function(i,s,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(l){const m=xa(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,m),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,m)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==w&&$r(w),Zo(v),m.resolving=!1,yd()}}return d}function Zc(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Gs(i,s){return!(i&We.Self||i&We.Host&&s)}class gs{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return af(this._tNode,this._lView,s,l,a)}}function Nl(i){return At(()=>{const s=i.prototype.constructor,a=s[Lt]||$a(s),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const f=d[Lt]||$a(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function $a(i){return ce(i)?()=>{const s=$a(U(i));return s&&s()}:zi(i)}function Qc(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const f=a[d];if(rf(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(f===s)return a[d+1];d+=2}}}return null}(rn(),i)}const Qo="__parameters__";function _s(i,s,a){return At(()=>{const l=function(i){return function(...a){if(i){const l=i(...a);for(const d in l)this[d]=l[d]}}}(s);function d(...f){if(this instanceof d)return l.apply(this,f),this;const m=new d(...f);return v.annotation=m,v;function v(w,I,x){const P=w.hasOwnProperty(Qo)?w[Qo]:Object.defineProperty(w,Qo,{value:[]})[Qo];for(;P.length<=x;)P.push(null);return(P[x]=P[x]||[]).push(m),w}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class dn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=ln({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const En=Function;function Xr(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),Xr(l,s)):s!==i&&s.push(l)}return s}function Ni(i,s){i.forEach(a=>Array.isArray(a)?Ni(a,s):s(a))}function Ar(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Mr(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function ys(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}function hr(i,s,a){let l=ta(i,s);return l>=0?i[1|l]=a:(l=~l,function(i,s,a,l){let d=i.length;if(d==s)i.push(a,l);else if(1===d)i.push(l,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function po(i,s){const a=ta(i,s);if(a>=0)return i[1|a]}function ta(i,s){return function(i,s,a){let l=0,d=i.length>>a;for(;d!==l;){const f=l+(d-l>>1),m=i[f<<a];if(s===m)return f<<a;m>s?d=f:l=f+1}return~(d<<a)}(i,s,1)}const xt={},Ot="__NG_DI_FLAG__",fn="ngTempTokenPath",Wn=/\n/gm,vs="__source",ei=X({provide:String,useValue:X});let ti;function kn(i){const s=ti;return ti=i,s}function Xc(i,s=We.Default){if(void 0===ti)throw new Error("inject() must be called from an injection context");return null===ti?tt(i,void 0,s):ti.get(i,s&We.Optional?null:void 0,s)}function On(i,s=We.Default){return(Gt||Xc)(U(i),s)}const Ws=On;function Vl(i){const s=[];for(let a=0;a<i.length;a++){const l=U(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let d,f=We.Default;for(let m=0;m<l.length;m++){const v=l[m],w=uf(v);"number"==typeof w?-1===w?d=v.token:f|=w:d=v}s.push(On(d,f))}else s.push(On(l))}return s}function bs(i,s){return i[Ot]=s,i.prototype[Ot]=s,i}function uf(i){return i[Ot]}function Nd(i,s,a,l){const d=i[fn];throw s[vs]&&d.unshift(s[vs]),i.message=function(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=ne(s);if(Array.isArray(s))d=s.map(ne).join(" -> ");else if("object"==typeof s){let f=[];for(let m in s)if(s.hasOwnProperty(m)){let v=s[m];f.push(m+":"+("string"==typeof v?JSON.stringify(v):ne(v)))}d=`{${f.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${i.replace(Wn,"\n  ")}`}("\n"+i.message,d,a,l),i.ngTokenPath=d,i[fn]=null,i}const Bl=bs(_s("Inject",i=>({token:i})),-1),na=bs(_s("Optional"),8),go=bs(_s("SkipSelf"),4);let qa;function Wa(i){var s;return(null===(s=function(){if(void 0===qa&&(qa=null,ft.trustedTypes))try{qa=ft.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return qa}())||void 0===s?void 0:s.createHTML(i))||i}class jl{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Pw extends jl{getTypeName(){return"HTML"}}class kg extends jl{getTypeName(){return"Style"}}class Ny extends jl{getTypeName(){return"Script"}}class Nw extends jl{getTypeName(){return"URL"}}class Fw extends jl{getTypeName(){return"ResourceURL"}}function ia(i){return i instanceof jl?i.changingThisBreaksApplicationSecurity:i}function iu(i,s){const a=_f(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function _f(i){return i instanceof jl&&i.getTypeName()||null}function Lw(i){return new Pw(i)}function Vw(i){return new kg(i)}function Bw(i){return new Ny(i)}function Uw(i){return new Nw(i)}function jw(i){return new Fw(i)}class Hw{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Wa(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class Gw{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Wa(s),a;const l=this.inertDocument.createElement("body");return l.innerHTML=Wa(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const a=s.attributes;for(let d=a.length-1;0<d;d--){const m=a.item(d).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&s.removeAttribute(m)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const zw=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,qw=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Hl(i){return(i=String(i)).match(zw)||i.match(qw)?i:"unsafe:"+i}function Ys(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function Ld(...i){const s={};for(const a of i)for(const l in a)a.hasOwnProperty(l)&&(s[l]=!0);return s}const yf=Ys("area,br,col,hr,img,wbr"),Vy=Ys("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pg=Ys("rp,rt"),Ng=Ld(yf,Ld(Vy,Ys("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ld(Pg,Ys("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ld(Pg,Vy)),By=Ys("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),sa=Ys("srcset"),vf=Ld(By,sa,Ys("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ys("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Kw=Ys("script,style,template");class Fg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Ng.hasOwnProperty(a))return this.sanitizedSomething=!0,!Kw.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=s.attributes;for(let d=0;d<l.length;d++){const f=l.item(d),m=f.name,v=m.toLowerCase();if(!vf.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let w=f.value;By[v]&&(w=Hl(w)),sa[v]&&(i=w,w=(i=String(i)).split(",").map(s=>Hl(s.trim())).join(", ")),this.buf.push(" ",m,'="',bf(w),'"')}var i;return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Ng.hasOwnProperty(a)&&!yf.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(bf(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Yw=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zw=/([^\#-~ |!])/g;function bf(i){return i.replace(/&/g,"&amp;").replace(Yw,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Zw,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ef;function Uy(i,s){let a=null;try{Ef=Ef||function(i){const s=new Gw(i);return function(){try{return!!(new window.DOMParser).parseFromString(Wa(""),"text/html")}catch(i){return!1}}()?new Hw(s):s}(i);let l=s?String(s):"";a=Ef.getInertBodyElement(l);let d=5,f=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=f,f=a.innerHTML,a=Ef.getInertBodyElement(l)}while(l!==f);return Wa((new Fg).sanitizeChildren(Vd(a)||a))}finally{if(a){const l=Vd(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Vd(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Hn=(()=>((Hn=Hn||{})[Hn.NONE=0]="NONE",Hn[Hn.HTML=1]="HTML",Hn[Hn.STYLE=2]="STYLE",Hn[Hn.SCRIPT=3]="SCRIPT",Hn[Hn.URL=4]="URL",Hn[Hn.RESOURCE_URL=5]="RESOURCE_URL",Hn))();const Hg="__ngContext__";function ni(i,s){i[Hg]=s}function Gg(i){const s=function(i){return i[Hg]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Ud(i){return i.ngOriginalError}function qg(i,...s){i.error(...s)}class Ya{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),l=this._findContext(s),d=(i=s)&&i.ngErrorLogger||qg;var i;d(this._console,"ERROR",s),a&&d(this._console,"ORIGINAL ERROR",a),l&&d(this._console,"ERROR CONTEXT",l)}_findContext(s){return s?s.ngDebugContext||this._findContext(Ud(s)):null}_findOriginalError(s){let a=s&&Ud(s);for(;a&&Ud(a);)a=Ud(a);return a||null}}const ev=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ft))();function Cs(i){return i instanceof Function?i():i}var y=(()=>((y=y||{})[y.Important=1]="Important",y[y.DashCase=2]="DashCase",y))();function g(i,s){return undefined(i,s)}function R(i){const s=i[3];return cr(s)?s[3]:s}function Pe(i){return qe(i[13])}function Re(i){return qe(i[4])}function qe(i){for(;null!==i&&!cr(i);)i=i[4];return i}function Tt(i,s,a,l,d){if(null!=l){let f,m=!1;cr(l)?f=l:un(l)&&(m=!0,l=l[0]);const v=Kt(l);0===i&&null!==a?null==d?LS(s,a,v):zd(s,a,v,d||null,!0):1===i&&null!==a?zd(s,a,v,d||null,!0):2===i?function(i,s,a){const l=rv(i,s);l&&function(i,s,a,l){Xt(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}(s,v,m):3===i&&s.destroyNode(v),null!=f&&function(i,s,a,l,d){const f=a[7];f!==Kt(a)&&Tt(s,i,l,f,d);for(let v=10;v<a.length;v++){const w=a[v];Of(w[1],w,i,s,l,f)}}(s,i,f,a,d)}}function ou(i,s,a){return Xt(i)?i.createElement(s,a):null===a?i.createElement(s):i.createElementNS(a,s)}function Kg(i,s){const a=i[9],l=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,ka(d,-1)),a.splice(l,1)}function $d(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const d=l[17];null!==d&&d!==i&&Kg(d,l),s>0&&(i[a-1][4]=l[4]);const f=Mr(i,10+s);!function(i,s){Of(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const m=f[19];null!==m&&m.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Rf(i,s){if(!(256&s[2])){const a=s[11];Xt(a)&&a.destroyNode&&Of(i,s,a,3,null,null),function(i){let s=i[13];if(!s)return kf(i[1],i);for(;s;){let a=null;if(un(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)un(s)&&kf(s[1],s),s=s[3];null===s&&(s=i),un(s)&&kf(s[1],s),a=s&&s[4]}s=a}}(s)}}function kf(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const d=s[a[l]];if(!(d instanceof Ko)){const f=a[l+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const v=d[f[m]],w=f[m+1];try{w.call(v)}finally{}}else try{f.call(d)}finally{}}}}(i,s),function(i,s){const a=i.cleanup,l=s[7];let d=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const m=a[f+1],v="function"==typeof m?m(s):Kt(s[m]),w=l[d=a[f+2]],I=a[f+3];"boolean"==typeof I?v.removeEventListener(a[f],w,I):I>=0?l[d=I]():l[d=-I].unsubscribe(),f+=2}else{const m=l[d=a[f+1]];a[f].call(m)}if(null!==l){for(let f=d+1;f<l.length;f++)l[f]();s[7]=null}}(i,s),1===s[1].type&&Xt(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&cr(s[3])){a!==s[3]&&Kg(a,s);const l=s[19];null!==l&&l.detachView(i)}}}function NS(i,s,a){return function(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const d=i.data[l.directiveStart].encapsulation;if(d===Fe.None||d===Fe.Emulated)return null}return Qr(l,a)}(i,s.parent,a)}function zd(i,s,a,l,d){Xt(i)?i.insertBefore(s,a,l,d):s.insertBefore(a,l,d)}function LS(i,s,a){Xt(i)?i.appendChild(s,a):s.appendChild(a)}function VS(i,s,a,l,d){null!==l?zd(i,s,a,l,d):LS(i,s,a)}function rv(i,s){return Xt(i)?i.parentNode(s):s.parentNode}function BS(i,s,a){return cC(i,s,a)}let cC=function(i,s,a){return 40&i.type?Qr(i,a):null};function Yg(i,s,a,l){const d=NS(i,l,s),f=s[11],v=BS(l.parent||s[6],l,s);if(null!=d)if(Array.isArray(a))for(let w=0;w<a.length;w++)VS(f,d,a[w],v,!1);else VS(f,d,a,v,!1)}function Zg(i,s){if(null!==s){const a=s.type;if(3&a)return Qr(s,i);if(4&a)return ov(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return Zg(i,l);{const d=i[s.index];return cr(d)?ov(-1,d):Kt(d)}}if(32&a)return g(s,i)()||Kt(i[s.index]);{const l=dC(i,s);return null!==l?Array.isArray(l)?l[0]:Zg(R(i[16]),l):Zg(i,s.next)}}return null}function dC(i,s){return null!==s?i[16][6].projection[s.projection]:null}function ov(i,s){const a=10+i+1;if(a<s.length){const l=s[a],d=l[1].firstChild;if(null!==d)return Zg(l,d)}return s[7]}function Qg(i,s,a,l,d,f,m){for(;null!=a;){const v=l[a.index],w=a.type;if(m&&0===s&&(v&&ni(Kt(v),l),a.flags|=4),64!=(64&a.flags))if(8&w)Qg(i,s,a.child,l,d,f,!1),Tt(s,i,d,v,f);else if(32&w){const I=g(a,l);let x;for(;x=I();)Tt(s,i,d,x,f);Tt(s,i,d,v,f)}else 16&w?hC(i,s,l,a,d,f):Tt(s,i,d,v,f);a=m?a.projectionNext:a.next}}function Of(i,s,a,l,d,f){Qg(a,l,i.firstChild,s,d,f,!1)}function hC(i,s,a,l,d,f){const m=a[16],w=m[6].projection[l.projection];if(Array.isArray(w))for(let I=0;I<w.length;I++)Tt(s,i,d,w[I],f);else Qg(i,s,w,m[3],d,f,!0)}function HS(i,s,a){Xt(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function pC(i,s,a){Xt(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function GS(i,s,a){let l=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===l||i.charCodeAt(d+f)<=32)return d}a=d+1}}const gC="ng-template";function $S(i,s,a){let l=0;for(;l<i.length;){let d=i[l++];if(a&&"class"===d){if(d=i[l],-1!==GS(d.toLowerCase(),s,0))return!0}else if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function mC(i){return 4===i.type&&i.value!==gC}function pP(i,s,a){return s===(4!==i.type||a?i.value:gC)}function gP(i,s,a){let l=4;const d=i.attrs||[],f=function(i){for(let s=0;s<i.length;s++)if(rf(i[s]))return s;return i.length}(d);let m=!1;for(let v=0;v<s.length;v++){const w=s[v];if("number"!=typeof w){if(!m)if(4&l){if(l=2|1&l,""!==w&&!pP(i,w,a)||""===w&&1===s.length){if(aa(l))return!1;m=!0}}else{const I=8&l?w:s[++v];if(8&l&&null!==i.attrs){if(!$S(i.attrs,I,a)){if(aa(l))return!1;m=!0}continue}const P=lv(8&l?"class":w,d,mC(i),a);if(-1===P){if(aa(l))return!1;m=!0;continue}if(""!==I){let N;N=P>f?"":d[P+1].toLowerCase();const H=8&l?N:null;if(H&&-1!==GS(H,I,0)||2&l&&I!==N){if(aa(l))return!1;m=!0}}}}else{if(!m&&!aa(l)&&!aa(w))return!1;if(m&&aa(w))continue;m=!1,l=w|1&l}}return aa(l)||m}function aa(i){return 0==(1&i)}function lv(i,s,a,l){if(null===s)return-1;let d=0;if(l||!a){let f=!1;for(;d<s.length;){const m=s[d];if(m===i)return d;if(3===m||6===m)f=!0;else{if(1===m||2===m){let v=s[++d];for(;"string"==typeof v;)v=s[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=f?1:2}return-1}return function(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function Jg(i,s,a=!1){for(let l=0;l<s.length;l++)if(gP(i,s[l],a))return!0;return!1}function qd(i,s){e:for(let a=0;a<s.length;a++){const l=s[a];if(i.length===l.length){for(let d=0;d<i.length;d++)if(i[d]!==l[d])continue e;return!0}}return!1}function cv(i,s){return i?":not("+s.trim()+")":s}function vC(i){let s=i[0],a=1,l=2,d="",f=!1;for(;a<i.length;){let m=i[a];if("string"==typeof m)if(2&l){const v=i[++a];d+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&l?d+="."+m:4&l&&(d+=" "+m);else""!==d&&!aa(m)&&(s+=cv(f,d),d=""),l=m,f=f||!aa(l);a++}return""!==d&&(s+=cv(f,d)),s}const vt={};function WS(i){uv(Dt(),Ce(),qn()+i,Ho())}function uv(i,s,a,l){if(!l)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&Us(s,f,a)}else{const f=i.preOrderHooks;null!==f&&Ba(s,f,0,a)}qo(a)}function au(i,s){return i<<17|s<<2}function Qi(i){return i>>17&32767}function Xg(i){return 2|i}function _o(i){return(131068&i)>>2}function em(i,s){return-131069&i|s<<2}function dv(i){return 1|i}function bv(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],f=a[l+1];if(-1!==f){const m=i.data[f];$o(d),m.contentQueries(2,s[f],f)}}}function Yd(i,s,a,l,d,f,m,v,w,I){const x=s.blueprint.slice();return x[0]=d,x[2]=140|l,Ra(x),x[3]=x[15]=i,x[8]=a,x[10]=m||i&&i[10],x[11]=v||i&&i[11],x[12]=w||i&&i[12]||null,x[9]=I||i&&i[9]||null,x[6]=f,x[16]=2==s.type?i[16]:x,x}function Zd(i,s,a,l,d){let f=i.data[s];if(null===f)f=function(i,s,a,l,d){const f=Al(),m=jo(),w=i.data[s]=function(i,s,a,l,d,f){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,a,s,l,d);return null===i.firstChild&&(i.firstChild=w),null!==f&&(m?null==f.child&&null!==w.parent&&(f.child=w):null===f.next&&(f.next=w)),w}(i,s,a,l,d),it.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=l,f.attrs=d;const m=function(){const i=it.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===m?-1:m.injectorIndex}return Dr(f,!0),f}function $l(i,s,a,l){if(0===a)return-1;const d=s.length;for(let f=0;f<a;f++)s.push(l),i.blueprint.push(l),i.data.push(null);return d}function cu(i,s,a){ho(s);try{const l=i.viewQuery;null!==l&&uu(1,l,a);const d=i.template;null!==d&&oA(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&bv(i,s),i.staticViewQueries&&uu(2,i.viewQuery,a);const f=i.components;null!==f&&function(i,s){for(let a=0;a<s.length;a++)_A(i,s[a])}(s,f)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,hs()}}function Ff(i,s,a,l){const d=s[2];if(256==(256&d))return;ho(s);const f=Ho();try{Ra(s),function(i){it.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&oA(i,s,a,2,l);const m=3==(3&d);if(!f)if(m){const I=i.preOrderCheckHooks;null!==I&&Us(s,I,null)}else{const I=i.preOrderHooks;null!==I&&Ba(s,I,0,null),bn(s,0)}if(function(i){for(let s=Pe(i);null!==s;s=Re(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const d=a[l],f=d[3];0==(1024&d[2])&&ka(f,1),d[2]|=1024}}}(s),function(i){for(let s=Pe(i);null!==s;s=Re(s))for(let a=10;a<s.length;a++){const l=s[a],d=l[1];Dl(l)&&Ff(d,l,d.template,l[8])}}(s),null!==i.contentQueries&&bv(i,s),!f)if(m){const I=i.contentCheckHooks;null!==I&&Us(s,I)}else{const I=i.contentHooks;null!==I&&Ba(s,I,1),bn(s,1)}!function(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)qo(~d);else{const f=d,m=a[++l],v=a[++l];Fa(m,f),v(2,s[f])}}}finally{qo(-1)}}(i,s);const v=i.components;null!==v&&function(i,s){for(let a=0;a<s.length;a++)jC(i,s[a])}(s,v);const w=i.viewQuery;if(null!==w&&uu(2,w,l),!f)if(m){const I=i.viewCheckHooks;null!==I&&Us(s,I)}else{const I=i.viewHooks;null!==I&&Ba(s,I,2),bn(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,ka(s[3],-1))}finally{hs()}}function xC(i,s,a,l){const d=s[10],f=!Ho(),m=Cl(s);try{f&&!m&&d.begin&&d.begin(),m&&cu(i,s,l),Ff(i,s,a,l)}finally{f&&!m&&d.end&&d.end()}}function oA(i,s,a,l,d){const f=qn(),m=2&l;try{qo(-1),m&&s.length>20&&uv(i,s,20,Ho()),a(l,d)}finally{qo(f)}}function RC(i,s,a){if(sd(s)){const d=s.directiveEnd;for(let f=s.directiveStart;f<d;f++){const m=i.data[f];m.contentQueries&&m.contentQueries(1,a[f],f)}}}function am(i,s,a){!Oa()||(function(i,s,a,l){const d=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||ja(a,s),ni(l,s);const m=a.initialInputs;for(let v=d;v<f;v++){const w=i.data[v],I=Ai(w);I&&gA(s,a,w);const x=Ga(s,i,v,a);ni(x,s),null!==m&&VC(0,v-d,x,w,0,m),I&&(ur(a.index,s)[8]=x)}}(i,s,a,Qr(a,s)),128==(128&a.flags)&&function(i,s,a){const l=a.directiveStart,d=a.directiveEnd,m=a.index,v=it.lFrame.currentDirectiveIndex;try{qo(m);for(let w=l;w<d;w++){const I=i.data[w],x=s[w];La(w),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&hA(I,x)}}finally{qo(-1),La(v)}}(i,s,a))}function Ev(i,s,a=Qr){const l=s.localNames;if(null!==l){let d=s.index+1;for(let f=0;f<l.length;f+=2){const m=l[f+1],v=-1===m?a(s,i):i[m];i[d++]=v}}}function kC(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Qd(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Qd(i,s,a,l,d,f,m,v,w,I){const x=20+l,P=x+d,N=function(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:vt);return a}(x,P),H="function"==typeof I?I():I;return N[1]={type:i,blueprint:N,template:a,queries:null,viewQuery:v,declTNode:s,data:N.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:w,consts:H,incompleteFirstPass:!1}}function aA(i,s,a,l){const d=qC(s);null===a?d.push(l):(d.push(a),i.firstCreatePass&&kv(i).push(l,d.length-1))}function OC(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const d=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,d):a[l]=[s,d]}return a}function Qs(i,s,a,l,d,f,m,v){const w=Qr(s,a);let x,I=s.inputs;!v&&null!=I&&(x=I[l])?(Pv(i,a,x,l,d),Da(s)&&function(i,s){const a=ur(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(l=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=m?m(d,s.value||"",l):d,Xt(f)?f.setProperty(w,l,d):ps(l)||(w.setProperty?w.setProperty(l,d):w[l]=d))}function Jd(i,s,a,l){let d=!1;if(Oa()){const f=function(i,s,a){const l=i.directiveRegistry;let d=null;if(l)for(let f=0;f<l.length;f++){const m=l[f];Jg(a,m.selectors,!1)&&(d||(d=[]),Ha(ja(a,s),i,m.type),Ai(m)?(fA(i,a),d.unshift(m)):d.push(m))}return d}(i,s,a),m=null===l?null:{"":-1};if(null!==f){d=!0,Tv(a,i.data.length,f.length);for(let x=0;x<f.length;x++){const P=f[x];P.providersResolver&&P.providersResolver(P)}let v=!1,w=!1,I=$l(i,s,f.length,null);for(let x=0;x<f.length;x++){const P=f[x];a.mergedAttrs=kl(a.mergedAttrs,P.hostAttrs),pA(i,a,s,I,P),DP(I,P,m),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const N=P.type.prototype;!v&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),v=!0),!w&&(N.ngOnChanges||N.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),w=!0),I++}!function(i,s){const l=s.directiveEnd,d=i.data,f=s.attrs,m=[];let v=null,w=null;for(let I=s.directiveStart;I<l;I++){const x=d[I],P=x.inputs,N=null===f||mC(s)?null:mA(P,f);m.push(N),v=OC(P,I,v),w=OC(x.outputs,I,w)}null!==v&&(v.hasOwnProperty("class")&&(s.flags|=16),v.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=m,s.inputs=v,s.outputs=w}(i,a)}m&&function(i,s,a){if(s){const l=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=a[s[d+1]];if(null==f)throw new Te("301",`Export of name '${s[d+1]}' not found!`);l.push(s[d],f)}}}(a,l,m)}return a.mergedAttrs=kl(a.mergedAttrs,a.attrs),d}function FC(i,s,a,l,d,f){const m=f.hostBindings;if(m){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const w=~s.index;(function(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(v)!=w&&v.push(w),v.push(l,d,m)}}function hA(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function fA(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function DP(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;Ai(s)&&(a[""]=i)}}function Tv(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function pA(i,s,a,l,d){i.data[l]=d;const f=d.factory||(d.factory=zi(d.type)),m=new Ko(f,Ai(d),null);i.blueprint[l]=m,a[l]=m,FC(i,s,0,l,$l(i,a,d.hostVars,vt),d)}function gA(i,s,a){const l=Qr(s,i),d=kC(a),f=i[10],m=cm(i,Yd(i,d,null,a.onPush?64:16,l,s,f,f.createRenderer(l,a),null,null));i[s.index]=m}function la(i,s,a,l,d,f){const m=Qr(i,s);!function(i,s,a,l,d,f,m){if(null==f)Xt(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const v=null==m?q(f):m(f,l||"",d);Xt(i)?i.setAttribute(s,d,v,a):a?s.setAttributeNS(a,d,v):s.setAttribute(d,v)}}(s[11],m,f,i.value,a,l,d)}function VC(i,s,a,l,d,f){const m=f[s];if(null!==m){const v=l.setInput;for(let w=0;w<m.length;){const I=m[w++],x=m[w++],P=m[w++];null!==v?l.setInput(a,P,I,x):a[x]=P}}}function mA(i,s){let a=null,l=0;for(;l<s.length;){const d=s[l];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[l+1])),l+=2}else l+=2;else l+=4}return a}function BC(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function jC(i,s){const a=ur(s,i);if(Dl(a)){const l=a[1];80&a[2]?Ff(l,a,l.template,a[8]):a[5]>0&&Mv(a)}}function Mv(i){for(let l=Pe(i);null!==l;l=Re(l))for(let d=10;d<l.length;d++){const f=l[d];if(1024&f[2]){const m=f[1];Ff(m,f,m.template,f[8])}else f[5]>0&&Mv(f)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=ur(a[l],i);Dl(d)&&d[5]>0&&Mv(d)}}function _A(i,s){const a=ur(s,i),l=a[1];(function(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),cu(l,a,a[8])}function cm(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function HC(i){for(;i;){i[2]|=64;const s=R(i);if(Mi(i)&&!s)return i;i=s}return null}function $C(i,s,a){const l=s[10];l.begin&&l.begin();try{Ff(i,s,i.template,a)}catch(d){throw Ov(s,d),d}finally{l.end&&l.end()}}function Rv(i){!function(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=Gg(a),d=l[1];xC(d,l,d.template,a)}}(i[8])}function uu(i,s,a){$o(0),s(i,a)}const zC=(()=>Promise.resolve(null))();function qC(i){return i[7]||(i[7]=[])}function kv(i){return i.cleanup||(i.cleanup=[])}function zl(i,s,a){return(null===i||Ai(i))&&(a=function(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(a[s.index])),a[11]}function Ov(i,s){const a=i[9],l=a?a.get(Ya,null):null;l&&l.handleError(s)}function Pv(i,s,a,l,d){for(let f=0;f<a.length;){const m=a[f++],v=a[f++],w=s[m],I=i.data[m];null!==I.setInput?I.setInput(w,d,l,v):w[v]=d}}function Xa(i,s,a){const l=uo(s,i);!function(i,s,a){Xt(i)?i.setValue(s,a):s.textContent=a}(i[11],l,a)}function Lf(i,s,a){let l=a?i.styles:null,d=a?i.classes:null,f=0;if(null!==s)for(let m=0;m<s.length;m++){const v=s[m];"number"==typeof v?f=v:1==f?d=te(d,v):2==f&&(l=te(l,v+": "+s[++m]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=d:i.classesWithoutHost=d}const vo=new dn("INJECTOR",-1);class WC{get(s,a=xt){if(a===xt){const l=new Error(`NullInjectorError: No provider for ${ne(s)}!`);throw l.name="NullInjectorError",l}return a}}const Xd=new dn("Set Injector scope."),um={},SP={};let Nv;function KC(){return void 0===Nv&&(Nv=new WC),Nv}function DA(i,s=null,a=null,l){return new YC(i,a,s||KC(),l)}class YC{constructor(s,a,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];a&&Ni(a,v=>this.processProvider(v,s,a)),Ni([s],v=>this.processInjectorType(v,[],f)),this.records.set(vo,ql(void 0,this));const m=this.records.get(Xd);this.scope=null!=m?m.value:null,this.source=d||("object"==typeof s?null:ne(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=xt,l=We.Default){this.assertNotDestroyed();const d=kn(this),f=$r(void 0);try{if(!(l&We.SkipSelf)){let v=this.records.get(s);if(void 0===v){const w=("function"==typeof(i=s)||"object"==typeof i&&i instanceof dn)&&Jn(s);v=w&&this.injectableDefInScope(w)?ql(dm(s),um):null,this.records.set(s,v)}if(null!=v)return this.hydrate(s,v)}return(l&We.Self?KC():this.parent).get(s,a=l&We.Optional&&a===xt?null:a)}catch(m){if("NullInjectorError"===m.name){if((m[fn]=m[fn]||[]).unshift(ne(s)),d)throw m;return Nd(m,s,"R3InjectorError",this.source)}throw m}finally{$r(f),kn(d)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,d)=>s.push(ne(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,a,l){if(!(s=U(s)))return!1;let d=Di(s);const f=null==d&&s.ngModule||void 0,m=void 0===f?s:f,v=-1!==l.indexOf(m);if(void 0!==f&&(d=Di(f)),null==d)return!1;if(null!=d.imports&&!v){let x;l.push(m);try{Ni(d.imports,P=>{this.processInjectorType(P,a,l)&&(void 0===x&&(x=[]),x.push(P))})}finally{}if(void 0!==x)for(let P=0;P<x.length;P++){const{ngModule:N,providers:H}=x[P];Ni(H,Y=>this.processProvider(Y,N,H||j))}}this.injectorDefTypes.add(m);const w=zi(m)||(()=>new m);this.records.set(m,ql(w,um));const I=d.providers;if(null!=I&&!v){const x=s;Ni(I,P=>this.processProvider(P,x,I))}return void 0!==f&&void 0!==s.providers}processProvider(s,a,l){let d=Kl(s=U(s))?s:U(s&&s.provide);const f=TA(i=s)?ql(void 0,i.useValue):ql(Fv(i),um);var i;if(Kl(s)||!0!==s.multi)this.records.get(d);else{let m=this.records.get(d);m||(m=ql(void 0,um,!0),m.factory=()=>Vl(m.multi),this.records.set(d,m)),d=s,m.multi.push(s)}this.records.set(d,f)}hydrate(s,a){return a.value===um&&(a.value=SP,a.value=a.factory()),"object"==typeof a.value&&a.value&&null!==(i=a.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(a.value),a.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const a=U(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function dm(i){const s=Jn(i),a=null!==s?s.factory:zi(i);if(null!==a)return a;if(i instanceof dn)throw new Error(`Token ${ne(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const l=ys(s,"?");throw new Error(`Can't resolve all parameters for ${ne(i)}: (${l.join(", ")}).`)}const a=function(i){const s=i&&(i[$i]||i[Xn]);if(s){const a=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Error("unreachable")}function Fv(i,s,a){let l;if(Kl(i)){const d=U(i);return zi(d)||dm(d)}if(TA(i))l=()=>U(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...Vl(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))l=()=>On(U(i.useExisting));else{const d=U(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return zi(d)||dm(d);l=()=>new d(...Vl(i.deps))}return l}function ql(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function TA(i){return null!==i&&"object"==typeof i&&ei in i}function Kl(i){return"function"==typeof i}const SA=function(i,s,a){return function(i,s=null,a=null,l){const d=DA(i,s,a,l);return d._resolveInjectorDefTypes(),d}({name:a},s,i,a)};let wn=(()=>{class i{static create(a,l){return Array.isArray(a)?SA(a,l,""):SA(a.providers,a.parent,a.name||"")}}return i.THROW_IF_NOT_FOUND=xt,i.NULL=new WC,i.\u0275prov=ln({token:i,providedIn:"any",factory:()=>On(vo)}),i.__NG_ELEMENT_ID__=-1,i})();function Em(i,s){Rl(Gg(i)[1],rn())}function wm(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let d;if(Ai(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(a){l.push(d);const m=i;m.inputs=Cm(i.inputs),m.declaredInputs=Cm(i.declaredInputs),m.outputs=Cm(i.outputs);const v=d.hostBindings;v&&gu(i,v);const w=d.viewQuery,I=d.contentQueries;if(w&&sD(i,w),I&&ua(i,I),se(i.inputs,d.inputs),se(i.declaredInputs,d.declaredInputs),se(i.outputs,d.outputs),Ai(d)&&d.data.animation){const x=i.data;x.animation=(x.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let m=0;m<f.length;m++){const v=f[m];v&&v.ngInherit&&v(i),v===wm&&(a=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=s+=d.hostVars,d.hostAttrs=kl(d.hostAttrs,a=kl(a,d.hostAttrs))}}(l)}function Cm(i){return i===W?{}:i===j?[]:i}function sD(i,s){const a=i.viewQuery;i.viewQuery=a?(l,d)=>{s(l,d),a(l,d)}:s}function ua(i,s){const a=i.contentQueries;i.contentQueries=a?(l,d,f)=>{s(l,d,f),a(l,d,f)}:s}function gu(i,s){const a=i.hostBindings;i.hostBindings=a?(l,d)=>{s(l,d),a(l,d)}:s}let jf=null;function tl(){if(!jf){const i=ft.Symbol;if(i&&i.iterator)jf=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(jf=l)}}}return jf}class Eo{constructor(s){this.wrapped=s}static wrap(s){return new Eo(s)}static unwrap(s){return Eo.isWrapped(s)?s.wrapped:s}static isWrapped(s){return s instanceof Eo}}function mu(i){return!!Dm(i)&&(Array.isArray(i)||!(i instanceof Map)&&tl()in i)}function Dm(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Yn(i,s,a){return i[s]=a}function xr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function eh(i,s,a,l){const d=Ce();return xr(d,gi(),s)&&(Dt(),la(vn(),d,i,s,a,l)),eh}function dD(i,s,a,l,d,f,m,v){const w=Ce(),I=Dt(),x=i+20,P=I.firstCreatePass?function(i,s,a,l,d,f,m,v,w){const I=s.consts,x=Zd(s,i,4,m||null,Sn(I,v));Jd(s,a,x,Sn(I,w)),Rl(s,x);const P=x.tViews=Qd(2,x,l,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,I);return null!==s.queries&&(s.queries.template(s,x),P.queries=s.queries.embeddedTView(x)),x}(x,I,w,s,a,l,d,f,m):I.data[x];Dr(P,!1);const N=w[11].createComment("");Yg(I,w,N,P),ni(N,w),cm(w,w[x]=BC(N,w,N,P)),_l(P)&&am(I,w,P),null!=m&&Ev(w,P,v)}function hD(i){return Ls(it.lFrame.contextLView,20+i)}function _i(i,s=We.Default){const a=Ce();return null===a?On(i,s):af(rn(),a,U(i),s)}function nb(i,s,a){const l=Ce();return xr(l,gi(),s)&&Qs(Dt(),vn(),l,i,s,l[11],a,!1),nb}function rb(i,s,a,l,d){const m=d?"class":"style";Pv(i,a,s.inputs[m],m,l)}function ib(i,s,a,l){const d=Ce(),f=Dt(),m=20+i,v=d[11],w=d[m]=ou(v,s,it.lFrame.currentNamespace),I=f.firstCreatePass?function(i,s,a,l,d,f,m){const v=s.consts,I=Zd(s,i,2,d,Sn(v,f));return Jd(s,a,I,Sn(v,m)),null!==I.attrs&&Lf(I,I.attrs,!1),null!==I.mergedAttrs&&Lf(I,I.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,I),I}(m,f,d,0,s,a,l):f.data[m];Dr(I,!0);const x=I.mergedAttrs;null!==x&&Ed(v,w,x);const P=I.classes;null!==P&&pC(v,w,P);const N=I.styles;null!==N&&HS(v,w,N),64!=(64&I.flags)&&Yg(f,d,w,I),0===it.lFrame.elementDepthCount&&ni(w,d),it.lFrame.elementDepthCount++,_l(I)&&(am(f,d,I),RC(f,I,d)),null!==l&&Ev(d,I)}function Pm(){let i=rn();jo()?Pa():(i=i.parent,Dr(i,!1));const s=i;it.lFrame.elementDepthCount--;const a=Dt();a.firstCreatePass&&(Rl(a,i),sd(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&rb(a,s,Ce(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&rb(a,s,Ce(),s.stylesWithoutHost,!1)}function Kf(i,s,a,l){ib(i,s,a,l),Pm()}function Yf(i,s,a){const l=Ce(),d=Dt(),f=i+20,m=d.firstCreatePass?function(i,s,a,l,d){const f=s.consts,m=Sn(f,l),v=Zd(s,i,8,"ng-container",m);return null!==m&&Lf(v,m,!0),Jd(s,a,v,Sn(f,d)),null!==s.queries&&s.queries.elementStart(s,v),v}(f,d,l,s,a):d.data[f];Dr(m,!0);const v=l[f]=l[11].createComment("");Yg(d,l,v,m),ni(v,l),_l(m)&&(am(d,l,m),RC(d,m,l)),null!=a&&Ev(l,m)}function sb(){let i=rn();const s=Dt();jo()?Pa():(i=i.parent,Dr(i,!1)),s.firstCreatePass&&(Rl(s,i),sd(i)&&s.queries.elementEnd(i))}function ob(){return Ce()}function Nm(i){return!!i&&"function"==typeof i.then}function CD(i){return!!i&&"function"==typeof i.subscribe}const ab=CD;function Fm(i,s,a,l){const d=Ce(),f=Dt(),m=rn();return cb(f,d,d[11],m,i,s,!!a,l),Fm}function lb(i,s){const a=rn(),l=Ce(),d=Dt();return cb(d,l,zl(Va(d.data),a,l),a,i,s,!1),lb}function cb(i,s,a,l,d,f,m,v){const w=_l(l),x=i.firstCreatePass&&kv(i),P=s[8],N=qC(s);let H=!0;if(3&l.type||v){const ie=Qr(l,s),Oe=v?v(ie):ie,ve=N.length,Ke=v?rt=>v(Kt(rt[l.index])):l.index;if(Xt(a)){let rt=null;if(!v&&w&&(rt=function(i,s,a,l){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const m=d[f];if(m===a&&d[f+1]===l){const v=s[7],w=d[f+2];return v.length>w?v[w]:null}"string"==typeof m&&(f+=2)}return null}(i,s,d,l.index)),null!==rt)(rt.__ngLastListenerFn__||rt).__ngNextListenerFn__=f,rt.__ngLastListenerFn__=f,H=!1;else{f=Vm(l,s,P,f,!1);const Pt=a.listen(Oe,d,f);N.push(f,Pt),x&&x.push(d,Ke,ve,ve+1)}}else f=Vm(l,s,P,f,!0),Oe.addEventListener(d,f,m),N.push(f),x&&x.push(d,Ke,ve,m)}else f=Vm(l,s,P,f,!1);const Y=l.outputs;let fe;if(H&&null!==Y&&(fe=Y[d])){const ie=fe.length;if(ie)for(let Oe=0;Oe<ie;Oe+=2){const Cn=s[fe[Oe]][fe[Oe+1]].subscribe(f),As=N.length;N.push(f,Cn),x&&x.push(d,l.index,As,-(As+1))}}}function Lm(i,s,a,l){try{return!1!==a(l)}catch(d){return Ov(i,d),!1}}function Vm(i,s,a,l,d){return function f(m){if(m===Function)return l;const v=2&i.flags?ur(i.index,s):s;0==(32&s[2])&&HC(v);let w=Lm(s,0,l,m),I=f.__ngNextListenerFn__;for(;I;)w=Lm(s,0,I,m)&&w,I=I.__ngNextListenerFn__;return d&&!1===w&&(m.preventDefault(),m.returnValue=!1),w}}function Zf(i=1){return function(i){return(it.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,it.lFrame.contextLView))[8]}(i)}function ub(i,s){let a=null;const l=function(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let d=0;d<s.length;d++){const f=s[d];if("*"!==f){if(null===l?Jg(i,f,!0):qd(l,f))return d}else a=d}return a}function DD(i){const s=Ce()[16][6];if(!s.projection){const l=s.projection=ys(i?i.length:1,null),d=l.slice();let f=s.child;for(;null!==f;){const m=i?ub(f,i):0;null!==m&&(d[m]?d[m].projectionNext=f:l[m]=f,d[m]=f),f=f.next}}}function ID(i,s=0,a){const l=Ce(),d=Dt(),f=Zd(d,20+i,16,null,a||null);null===f.projection&&(f.projection=s),Pa(),64!=(64&f.flags)&&function(i,s,a){hC(s[11],0,s,a,NS(i,a,s),BS(a.parent||s[6],a,s))}(d,l,f)}function OD(i,s,a,l,d){const f=i[a+1],m=null===s;let v=l?Qi(f):_o(f),w=!1;for(;0!==v&&(!1===w||m);){const x=i[v+1];PD(i[v],s)&&(w=!0,i[v+1]=l?dv(x):Xg(x)),v=l?Qi(x):_o(x)}w&&(i[a+1]=l?Xg(f):dv(f))}function PD(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&ta(i,s)>=0}function da(i,s,a){return Co(i,s,a,!1),da}function Um(i,s){return Co(i,s,null,!0),Um}function Co(i,s,a,l){const d=Ce(),f=Dt(),m=function(i){const s=it.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);f.firstUpdatePass&&function(i,s,a,l){const d=i.data;if(null===d[a+1]){const f=d[qn()],m=function(i,s){return s>=i.expandoStartIndex}(i,a);(function(i,s){return 0!=(i.flags&(s?16:32))})(f,l)&&null===s&&!m&&(s=!1),s=function(i,s,a,l){const d=Va(i);let f=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(a=Jf(a=jm(null,i,s,a,l),s.attrs,l),f=null);else{const m=s.directiveStylingLast;if(-1===m||i[m]!==d)if(a=jm(d,i,s,a,l),null===f){let w=function(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==_o(l))return i[Qi(l)]}(i,s,l);void 0!==w&&Array.isArray(w)&&(w=jm(null,i,s,w[1],l),w=Jf(w,s.attrs,l),function(i,s,a,l){i[Qi(a?s.classBindings:s.styleBindings)]=l}(i,s,l,w))}else f=function(i,s,a){let l;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)l=Jf(l,i[f].hostAttrs,a);return Jf(l,s.attrs,a)}(i,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),a}(d,f,s,l),function(i,s,a,l,d,f){let m=f?s.classBindings:s.styleBindings,v=Qi(m),w=_o(m);i[l]=a;let x,I=!1;if(Array.isArray(a)){const P=a;x=P[1],(null===x||ta(P,x)>0)&&(I=!0)}else x=a;if(d)if(0!==w){const N=Qi(i[v+1]);i[l+1]=au(N,v),0!==N&&(i[N+1]=em(i[N+1],l)),i[v+1]=function(i,s){return 131071&i|s<<17}(i[v+1],l)}else i[l+1]=au(v,0),0!==v&&(i[v+1]=em(i[v+1],l)),v=l;else i[l+1]=au(w,0),0===v?v=l:i[w+1]=em(i[w+1],l),w=l;I&&(i[l+1]=Xg(i[l+1])),OD(i,x,l,!0),OD(i,x,l,!1),function(i,s,a,l,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&ta(f,s)>=0&&(a[l+1]=dv(a[l+1]))}(s,x,i,l,f),m=au(v,w),f?s.classBindings=m:s.styleBindings=m}(d,f,s,a,m,l)}}(f,i,m,l),s!==vt&&xr(d,m,s)&&function(i,s,a,l,d,f,m,v){if(!(3&s.type))return;const w=i.data,I=w[v+1];gb(function(i){return 1==(1&i)}(I)?zD(w,s,a,d,_o(I),m):void 0)||(gb(f)||function(i){return 2==(2&i)}(I)&&(f=zD(w,null,a,d,v,m)),function(i,s,a,l,d){const f=Xt(i);if(s)d?f?i.addClass(a,l):a.classList.add(l):f?i.removeClass(a,l):a.classList.remove(l);else{let m=-1===l.indexOf("-")?void 0:y.DashCase;if(null==d)f?i.removeStyle(a,l,m):a.style.removeProperty(l);else{const v="string"==typeof d&&d.endsWith("!important");v&&(d=d.slice(0,-10),m|=y.Important),f?i.setStyle(a,l,d,m):a.style.setProperty(l,d,v?"important":"")}}}(l,m,uo(qn(),a),d,f))}(f,f.data[qn()],d,d[11],i,d[m+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ne(ia(i)))),i}(s,a),l,m)}function jm(i,s,a,l,d){let f=null;const m=a.directiveEnd;let v=a.directiveStylingLast;for(-1===v?v=a.directiveStart:v++;v<m&&(f=s[v],l=Jf(l,f.hostAttrs,d),f!==i);)v++;return null!==i&&(a.directiveStylingLast=v),l}function Jf(i,s,a){const l=a?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const m=s[f];"number"==typeof m?d=m:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),hr(i,m,!!a||s[++f]))}return void 0===i?null:i}function zD(i,s,a,l,d,f){const m=null===s;let v;for(;d>0;){const w=i[d],I=Array.isArray(w),x=I?w[1]:w,P=null===x;let N=a[d+1];N===vt&&(N=P?j:void 0);let H=P?po(N,l):x===l?N:void 0;if(I&&!gb(H)&&(H=po(w,l)),gb(H)&&(v=H,m))return v;const Y=i[d+1];d=m?Qi(Y):_o(Y)}if(null!==s){let w=f?s.residualClasses:s.residualStyles;null!=w&&(v=po(w,l))}return v}function gb(i){return void 0!==i}function qD(i,s=""){const a=Ce(),l=Dt(),d=i+20,f=l.firstCreatePass?Zd(l,d,1,s,null):l.data[d],m=a[d]=function(i,s){return Xt(i)?i.createText(s):i.createTextNode(s)}(a[11],s);Yg(l,a,m,f),Dr(f,!1)}function mb(i){return ep("",i,""),mb}function ep(i,s,a){const l=Ce(),d=function(i,s,a,l){return xr(i,gi(),a)?s+q(a)+l:vt}(l,i,s,a);return d!==vt&&Xa(l,qn(),d),ep}function bb(i,s,a){const l=Ce();return xr(l,gi(),s)&&Qs(Dt(),vn(),l,i,s,l[11],a,!0),bb}function Hm(i,s,a){const l=Ce();if(xr(l,gi(),s)){const f=Dt(),m=vn();Qs(f,m,l,i,s,zl(Va(f.data),m,l),a,!0)}return Hm}const tc=void 0;var yM=["en",[["a","p"],["AM","PM"],tc],[["AM","PM"],tc,tc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],tc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],tc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",tc,"{1} 'at' {0}",tc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),a=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let ah={};function c0(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=bM(s);if(a)return a;const l=s.split("-")[0];if(a=bM(l),a)return a;if("en"===l)return yM;throw new Error(`Missing locale data for the locale "${i}".`)}function vM(i){return c0(i)[ot.PluralCase]}function bM(i){return i in ah||(ah[i]=ft.ng&&ft.ng.common&&ft.ng.common.locales&&ft.ng.common.locales[i]),ah[i]}var ot=(()=>((ot=ot||{})[ot.LocaleId=0]="LocaleId",ot[ot.DayPeriodsFormat=1]="DayPeriodsFormat",ot[ot.DayPeriodsStandalone=2]="DayPeriodsStandalone",ot[ot.DaysFormat=3]="DaysFormat",ot[ot.DaysStandalone=4]="DaysStandalone",ot[ot.MonthsFormat=5]="MonthsFormat",ot[ot.MonthsStandalone=6]="MonthsStandalone",ot[ot.Eras=7]="Eras",ot[ot.FirstDayOfWeek=8]="FirstDayOfWeek",ot[ot.WeekendRange=9]="WeekendRange",ot[ot.DateFormat=10]="DateFormat",ot[ot.TimeFormat=11]="TimeFormat",ot[ot.DateTimeFormat=12]="DateTimeFormat",ot[ot.NumberSymbols=13]="NumberSymbols",ot[ot.NumberFormats=14]="NumberFormats",ot[ot.CurrencyCode=15]="CurrencyCode",ot[ot.CurrencySymbol=16]="CurrencySymbol",ot[ot.CurrencyName=17]="CurrencyName",ot[ot.Currencies=18]="Currencies",ot[ot.Directionality=19]="Directionality",ot[ot.PluralCase=20]="PluralCase",ot[ot.ExtraData=21]="ExtraData",ot))();const Gm="en-US";let u0=Gm;function zm(i){jt(i,"Expected localeId to be defined"),"string"==typeof i&&(u0=i.toLowerCase().replace(/_/g,"-"))}function Zm(i,s,a,l,d){if(i=U(i),Array.isArray(i))for(let f=0;f<i.length;f++)Zm(i[f],s,a,l,d);else{const f=Dt(),m=Ce();let v=Kl(i)?i:U(i.provide),w=Fv(i);const I=rn(),x=1048575&I.providerIndexes,P=I.directiveStart,N=I.providerIndexes>>20;if(Kl(i)||!i.multi){const H=new Ko(w,d,_i),Y=Jm(v,s,d?x:x+N,P);-1===Y?(Ha(ja(I,m),f,v),Qm(f,i,s.length),s.push(v),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),a.push(H),m.push(H)):(a[Y]=H,m[Y]=H)}else{const H=Jm(v,s,x+N,P),Y=Jm(v,s,x,x+N),fe=H>=0&&a[H],ie=Y>=0&&a[Y];if(d&&!ie||!d&&!fe){Ha(ja(I,m),f,v);const Oe=function(i,s,a,l,d){const f=new Ko(i,a,_i);return f.multi=[],f.index=s,f.componentProviders=0,Ib(f,d,l&&!a),f}(d?sc:B0,a.length,d,l,w);!d&&ie&&(a[Y].providerFactory=Oe),Qm(f,i,s.length,0),s.push(v),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),a.push(Oe),m.push(Oe)}else Qm(f,i,H>-1?H:Y,Ib(a[d?Y:H],w,!d&&l));!d&&l&&ie&&a[Y].componentProviders++}}}function Qm(i,s,a,l){const d=Kl(s);if(d||function(i){return!!i.useClass}(s)){const m=(s.useClass||s).prototype.ngOnDestroy;if(m){const v=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const w=v.indexOf(a);-1===w?v.push(a,[l,m]):v[w+1].push(l,m)}else v.push(a,m)}}}function Ib(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Jm(i,s,a,l){for(let d=a;d<l;d++)if(s[d]===i)return d;return-1}function B0(i,s,a,l){return Xm(this.multi,[])}function sc(i,s,a,l){const d=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=Ga(a,a[1],this.providerFactory.index,l);f=v.slice(0,m),Xm(d,f);for(let w=m;w<v.length;w++)f.push(v[w])}else f=[],Xm(d,f);return f}function Xm(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function Tb(i,s=[]){return a=>{a.providersResolver=(l,d)=>function(i,s,a){const l=Dt();if(l.firstCreatePass){const d=Ai(i);Zm(a,l.data,l.blueprint,d,!0),Zm(s,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,s)}}class H0{}const Ab="ngComponent";class $0{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${ne(i)}. Did you add it to @NgModule.entryComponents?`);return s[Ab]=i,s}(s)}}let oc=(()=>{class i{}return i.NULL=new $0,i})();function lp(...i){}function il(i,s){return new Nn(Qr(i,s))}const q0=function(){return il(rn(),Ce())};let Nn=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=q0,i})();function fa(i){return i instanceof Nn?i.nativeElement:i}class xb{}let cN=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>Rb(),i})();const Rb=function(){const i=Ce(),a=ur(rn().index,i);return function(i){return i[11]}(un(a)?a:i)};let cp=(()=>{class i{}return i.\u0275prov=ln({token:i,providedIn:"root",factory:()=>null}),i})();class K0{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Y0=new K0("12.2.13");class XM{constructor(){}supports(s){return mu(s)}create(s){return new hN(s)}}const dN=(i,s)=>s;class hN{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||dN}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,d=0,f=null;for(;a||l;){const m=!l||a&&a.currentIndex<uh(l,d,f)?a:l,v=uh(m,d,f),w=m.currentIndex;if(m===l)d--,l=l._nextRemoved;else if(a=a._next,null==m.previousIndex)d++;else{f||(f=[]);const I=v-d,x=w-d;if(I!=x){for(let N=0;N<I;N++){const H=N<f.length?f[N]:f[N]=0,Y=H+N;x<=Y&&Y<I&&(f[N]=H+1)}f[m.previousIndex]=x-I}}v!==w&&s(m,v,w)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!mu(s))throw new Error(`Error trying to diff '${ne(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,m,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let v=0;v<this.length;v++)f=s[v],m=this._trackByFn(v,f),null!==a&&Object.is(a.trackById,m)?(l&&(a=this._verifyReinsertion(a,f,m,v)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,m,v),l=!0),a=a._next}else d=0,function(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[tl()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,v=>{m=this._trackByFn(d,v),null!==a&&Object.is(a.trackById,m)?(l&&(a=this._verifyReinsertion(a,v,m,d)),Object.is(a.item,v)||this._addIdentityChange(a,v)):(a=this._mismatch(a,v,m,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,d)):s=this._addAfter(new fN(a,l),f,d),s}_verifyReinsertion(s,a,l,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new up),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new up),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class fN{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ex{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class up{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new ex,this.map.set(a,l)),l.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uh(i,s,a){const l=i.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+s+d}class dp{constructor(){}supports(s){return s instanceof Map||Dm(s)}create(){return new n_}}class n_{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Dm(s)))throw new Error(`Error trying to diff '${ne(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const f=d._prev,m=d._next;return f&&(f._next=m),m&&(m._prev=f),d._next=null,d._prev=null,d}const l=new tx(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class tx{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function r_(){return new Iu([new XM])}let Iu=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||r_()),deps:[[i,new go,new na]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${a}' of type '${function(i){return i.name||typeof i}(a)}'`)}}return i.\u0275prov=ln({token:i,providedIn:"root",factory:r_}),i})();function Z0(){return new hp([new dp])}let hp=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Z0()),deps:[[i,new go,new na]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(l)return l;throw new Error(`Cannot find a differ supporting object '${a}'`)}}return i.\u0275prov=ln({token:i,providedIn:"root",factory:Z0}),i})();function i_(i,s,a,l,d=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&l.push(Kt(f)),cr(f))for(let v=10;v<f.length;v++){const w=f[v],I=w[1].firstChild;null!==I&&i_(w[1],w,I,l)}const m=a.type;if(8&m)i_(i,s,a.child,l);else if(32&m){const v=g(a,s);let w;for(;w=v();)l.push(w)}else if(16&m){const v=dC(s,a);if(Array.isArray(v))l.push(...v);else{const w=R(s[16]);i_(w[1],w,v,l,!0)}}a=d?a.projectionNext:a.next}return l}class dh{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return i_(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(cr(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&($d(s,l),Mr(a,l))}this._attachedToViewContainer=!1}Rf(this._lView[1],this._lView)}onDestroy(s){aA(this._lView[1],this._lView,null,s)}markForCheck(){HC(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){$C(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,a){Go(!0);try{$C(i,s,a)}finally{Go(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,Of(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class rx extends dh{constructor(s){super(s),this._view=s}detectChanges(){Rv(this._view)}checkNoChanges(){!function(i){Go(!0);try{Rv(i)}finally{Go(!1)}}(this._view)}get context(){return null}}const kb=function(i){return function(i,s,a){if(Da(i)&&!a){const l=ur(i.index,s);return new dh(l,l)}return 47&i.type?new dh(s[16],s):null}(rn(),Ce(),16==(16&i))};let ix=(()=>{class i{}return i.__NG_ELEMENT_ID__=kb,i})();const s_=[new dp],fp=new Iu([new XM]),o_=new hp(s_),sx=function(){return fh(rn(),Ce())};let Tu=(()=>{class i{}return i.__NG_ELEMENT_ID__=sx,i})();const J0=Tu,Pb=class extends J0{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s){const a=this._declarationTContainer.tViews,l=Yd(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(l[19]=f.createEmbeddedView(a)),cu(a,l,s),new dh(l)}};function fh(i,s){return 4&i.type?new Pb(s,i,il(i,s)):null}class sl{}const ox=function(){return lx(rn(),Ce())};let Fb=(()=>{class i{}return i.__NG_ELEMENT_ID__=ox,i})();const c_=Fb,Lb=class extends c_{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return il(this._hostTNode,this._hostLView)}get injector(){return new gs(this._hostTNode,this._hostLView)}get parentInjector(){const s=Mn(this._hostTNode,this._hostLView);if(Yc(s)){const a=Jr(s,this._hostLView),l=Hs(s);return new gs(a[1].data[l+8],a)}return new gs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=ax(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){const d=s.createEmbeddedView(a||{});return this.insert(d,l),d}createComponent(s,a,l,d,f){const m=l||this.parentInjector;if(!f&&null==s.ngModule&&m){const w=m.get(sl,null);w&&(f=w)}const v=s.create(m,d,void 0,f);return this.insert(v.hostView,a),v}insert(s,a){const l=s._lView,d=l[1];if(cr(l[3])){const x=this.indexOf(s);if(-1!==x)this.detach(x);else{const P=l[3],N=new Lb(P,P[6],P[3]);N.detach(N.indexOf(s))}}const f=this._adjustIndex(a),m=this._lContainer;!function(i,s,a,l){const d=10+l,f=a.length;l>0&&(a[d-1][4]=s),l<f-10?(s[4]=a[d],Ar(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const m=s[17];null!==m&&a!==m&&function(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(m,s);const v=s[19];null!==v&&v.insertView(i),s[2]|=128}(d,l,m,f);const v=ov(f,m),w=l[11],I=rv(w,m[7]);return null!==I&&function(i,s,a,l,d,f){l[0]=d,l[6]=s,Of(i,l,a,1,d,f)}(d,m[6],w,l,I,v),s.attachToViewContainerRef(),Ar(eI(m),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=ax(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=$d(this._lContainer,a);l&&(Mr(eI(this._lContainer),a),Rf(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=$d(this._lContainer,a);return l&&null!=Mr(eI(this._lContainer),a)?new dh(l):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function ax(i){return i[8]}function eI(i){return i[8]||(i[8]=[])}function lx(i,s){let a;const l=s[i.index];if(cr(l))a=l;else{let d;if(8&i.type)d=Kt(l);else{const f=s[11];d=f.createComment("");const m=Qr(i,s);zd(f,rv(f,m),d,function(i,s){return Xt(i)?i.nextSibling(s):s.nextSibling}(f,m),!1)}s[i.index]=a=BC(l,s,d,i),cm(s,a)}return new Lb(a,i,s)}const cc={};class EI extends oc{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=zn(s);return new $x(a,this.ngModule)}}function Gx(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const kN=new dn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ev});class $x extends H0{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=s.selectors.map(vC).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Gx(this.componentDef.inputs)}get outputs(){return Gx(this.componentDef.outputs)}create(s,a,l,d){const f=(d=d||this.ngModule)?function(i,s){return{get:(a,l,d)=>{const f=i.get(a,cc,d);return f!==cc||l===cc?f:s.get(a,l,d)}}}(s,d.injector):s,m=f.get(xb,Wi),v=f.get(cp,null),w=m.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",x=l?function(i,s,a){if(Xt(i))return i.selectRootElement(s,a===Fe.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(w,l,this.componentDef.encapsulation):ou(m.createRenderer(null,this.componentDef),I,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(I)),P=this.componentDef.onPush?576:528,N=function(i,s){return{components:[],scheduler:i||ev,clean:zC,playerHandler:s||null,flags:0}}(),H=Qd(0,null,null,1,0,null,null,null,null,null),Y=Yd(null,H,N,P,null,null,m,w,v,f);let fe,ie;ho(Y);try{const Oe=function(i,s,a,l,d,f){const m=a[1];a[20]=i;const w=Zd(m,20,2,"#host",null),I=w.mergedAttrs=s.hostAttrs;null!==I&&(Lf(w,I,!0),null!==i&&(Ed(d,i,I),null!==w.classes&&pC(d,i,w.classes),null!==w.styles&&HS(d,i,w.styles)));const x=l.createRenderer(i,s),P=Yd(a,kC(s),null,s.onPush?64:16,a[20],w,l,x,f||null,null);return m.firstCreatePass&&(Ha(ja(w,a),m,s.type),fA(m,w),Tv(w,a.length,1)),cm(a,P),a[20]=P}(x,this.componentDef,Y,m,w);if(x)if(l)Ed(w,x,["ng-version",Y0.full]);else{const{attrs:ve,classes:Ke}=function(i){const s=[],a=[];let l=1,d=2;for(;l<i.length;){let f=i[l];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++l]):8===d&&a.push(f);else{if(!aa(d))break;d=f}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);ve&&Ed(w,x,ve),Ke&&Ke.length>0&&pC(w,x,Ke.join(" "))}if(ie=Fs(H,20),void 0!==a){const ve=ie.projection=[];for(let Ke=0;Ke<this.ngContentSelectors.length;Ke++){const rt=a[Ke];ve.push(null!=rt?Array.from(rt):null)}}fe=function(i,s,a,l,d){const f=a[1],m=function(i,s,a){const l=rn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),pA(i,l,s,$l(i,s,1,null),a));const d=Ga(s,i,l.directiveStart,l);ni(d,s);const f=Qr(l,s);return f&&ni(f,s),d}(f,a,s);if(l.components.push(m),i[8]=m,d&&d.forEach(w=>w(m,s)),s.contentQueries){const w=rn();s.contentQueries(1,m,w.directiveStart)}const v=rn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(qo(v.index),FC(a[1],v,0,v.directiveStart,v.directiveEnd,s),hA(s,m)),m}(Oe,this.componentDef,Y,N,[Em]),cu(H,Y,null)}finally{hs()}return new zx(this.componentType,fe,il(ie,Y),Y,ie)}}class zx extends class{}{constructor(s,a,l,d,f){super(),this.location=l,this._rootLView=d,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new rx(d),this.componentType=s}get injector(){return new gs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Ru=new Map;class Wx extends sl{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new EI(this);const l=hi(s),d=s[pt]||null;d&&zm(d),this._bootstrapComponents=Cs(l.bootstrap),this._r3Injector=DA(s,a,[{provide:sl,useValue:this},{provide:oc,useValue:this.componentFactoryResolver}],ne(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=wn.THROW_IF_NOT_FOUND,l=We.Default){return s===wn||s===sl||s===vo?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class DI extends class{}{constructor(s){super(),this.moduleType=s,null!==hi(s)&&function(i){const s=new Set;!function a(l){const d=hi(l,!0),f=d.id;null!==f&&(function(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${ne(s)} vs ${ne(s.name)}`)}(f,Ru.get(f),l),Ru.set(f,l));const m=Cs(d.imports);for(const v of m)s.has(v)||(s.add(v),a(v))}(i)}(s)}create(s){return new Wx(this.moduleType,s)}}function II(i,s,a,l){return Dp(Ce(),An(),i,s,a,l)}function Kx(i,s,a,l,d){return function(i,s,a,l,d,f,m){const v=s+a;return function(i,s,a,l){const d=xr(i,s,a);return xr(i,s+1,l)||d}(i,v,d,f)?Yn(i,v+2,m?l.call(m,d,f):l(d,f)):To(i,v+2)}(Ce(),An(),i,s,a,l,d)}function To(i,s){const a=i[s];return a===vt?void 0:a}function Dp(i,s,a,l,d,f){const m=s+a;return xr(i,m,d)?Yn(i,m+1,f?l.call(f,d):l(d)):To(i,m+1)}function xI(i,s){const a=Dt();let l;const d=i+20;a.firstCreatePass?(l=function(i,s){if(s)for(let a=s.length-1;a>=0;a--){const l=s[a];if(i===l.name)return l}throw new Te("302",`The pipe '${i}' could not be found!`)}(s,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,l.onDestroy)):l=a.data[d];const f=l.factory||(l.factory=zi(l.type)),m=$r(_i);try{const v=Zo(!1),w=f();return Zo(v),function(i,s,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=l}(a,Ce(),d,w),w}finally{$r(m)}}function RI(i,s,a){const l=i+20,d=Ce(),f=Ls(d,l);return function(i,s){Eo.isWrapped(s)&&(s=Eo.unwrap(s),i[it.lFrame.bindingIndex]=vt);return s}(d,function(i,s){return i[1].data[s].pure}(d,l)?Dp(d,An(),s,f.transform,a,f):f.transform(a))}function Xb(i){return s=>{setTimeout(i,void 0,s)}}const pa=class extends u.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){var d,f,m;let v=s,w=a||(()=>null),I=l;if(s&&"object"==typeof s){const P=s;v=null===(d=P.next)||void 0===d?void 0:d.bind(P),w=null===(f=P.error)||void 0===f?void 0:f.bind(P),I=null===(m=P.complete)||void 0===m?void 0:m.bind(P)}this.__isAsync&&(w=Xb(w),v&&(v=Xb(v)),I&&(I=Xb(I)));const x=super.subscribe({next:v,error:w,complete:I});return s instanceof re.w&&s.add(x),x}};function rR(){return this._results[tl()]()}class Sp{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=tl(),l=Sp.prototype;l[a]||(l[a]=rR)}get changes(){return this._changes||(this._changes=new pa)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const d=Xr(s);(this._changesDetected=!function(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],f=s[l];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class tE{constructor(s){this.queryList=s,this.matches=null}clone(){return new tE(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ts{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let f=0;f<l;f++){const m=a.getByIndex(f);d.push(this.queries[m.indexInDeclarationView].clone())}return new Ts(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==NI(s,a).matches&&this.queries[a].setDirty()}}class iR{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class nE{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,f=this.getByIndex(l).embeddedTView(s,d);f&&(f.indexInDeclarationView=l,null!==a?a.push(f):a=[f])}return null!==a?new nE(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class ye{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new ye(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const f=l[d];this.matchTNodeWithReadOption(s,a,ku(a,f)),this.matchTNodeWithReadOption(s,a,Yi(a,s,f,!1,!1))}else l===Tu?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Yi(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Nn||d===Fb||d===Tu&&4&a.type)this.addMatch(a.index,-2);else{const f=Yi(a,s,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function ku(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function uc(i,s,a,l){return-1===a?function(i,s){return 11&i.type?il(i,s):4&i.type?fh(i,s):null}(s,i):-2===a?function(i,s,a){return a===Nn?il(s,i):a===Tu?fh(s,i):a===Fb?lx(s,i):void 0}(i,s,l):Ga(i,i[1],a,s)}function OI(i,s,a,l){const d=s[19].queries[l];if(null===d.matches){const f=i.data,m=a.matches,v=[];for(let w=0;w<m.length;w+=2){const I=m[w];v.push(I<0?null:uc(s,f[I],m[w+1],a.metadata.read))}d.matches=v}return d.matches}function So(i,s,a,l){const d=i.queries.getByIndex(a),f=d.matches;if(null!==f){const m=OI(i,s,d,a);for(let v=0;v<f.length;v+=2){const w=f[v];if(w>0)l.push(m[v/2]);else{const I=f[v+1],x=s[-w];for(let P=10;P<x.length;P++){const N=x[P];N[17]===N[3]&&So(N[1],N,I,l)}if(null!==x[9]){const P=x[9];for(let N=0;N<P.length;N++){const H=P[N];So(H[1],H,I,l)}}}}}return l}function ze(i){const s=Ce(),a=Dt(),l=xl();$o(l+1);const d=NI(a,l);if(i.dirty&&Cl(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?So(a,s,l,[]):OI(a,s,d,l);i.reset(f,fa),i.notifyOnChanges()}return!0}return!1}function y_(i,s,a){const l=Dt();l.firstCreatePass&&(PI(l,new iR(i,s,a),-1),2==(2&s)&&(l.staticViewQueries=!0)),Eh(l,Ce(),s)}function yt(i,s,a,l){const d=Dt();if(d.firstCreatePass){const f=rn();PI(d,new iR(s,a,l),f.index),function(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}Eh(d,Ce(),a)}function Ap(){return i=Ce(),s=xl(),i[19].queries[s].queryList;var i,s}function Eh(i,s,a){const l=new Sp(4==(4&a));aA(i,s,l,l.destroy),null===s[19]&&(s[19]=new Ts),s[19].queries.push(new tE(l))}function PI(i,s,a){null===i.queries&&(i.queries=new nE),i.queries.track(new ye(s,a))}function NI(i,s){return i.queries.getByIndex(s)}const wh=new dn("Application Initializer");let fc=(()=>{class i{constructor(a){this.appInits=a,this.resolve=lp,this.reject=lp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(Nm(f))a.push(f);else if(ab(f)){const m=new Promise((v,w)=>{f.subscribe({complete:v,error:w})});a.push(m)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(On(wh,8))},i.\u0275prov=ln({token:i,factory:i.\u0275fac}),i})();const M_=new dn("AppId"),bR={provide:M_,useFactory:function(){return`${Ou()}${Ou()}${Ou()}`},deps:[]};function Ou(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bE=new dn("Platform Initializer"),EE=new dn("Platform ID"),nT=new dn("appBootstrapListener");let rT=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=ln({token:i,factory:i.\u0275fac}),i})();const x_=new dn("LocaleId"),Pu=new dn("DefaultCurrencyCode");class Pp{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}const R_=function(i){return new DI(i)},Np=R_,IE=function(i){return Promise.resolve(R_(i))},TE=function(i){const s=R_(i),l=Cs(hi(i).declarations).reduce((d,f)=>{const m=zn(f);return m&&d.push(new $x(m)),d},[]);return new Pp(s,l)},Fp=TE,SE=function(i){return Promise.resolve(TE(i))};let Nu=(()=>{class i{constructor(){this.compileModuleSync=Np,this.compileModuleAsync=IE,this.compileModuleAndAllComponentsSync=Fp,this.compileModuleAndAllComponentsAsync=SE}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=ln({token:i,factory:i.\u0275fac}),i})();const DR=(()=>Promise.resolve(0))();function Vp(i){"undefined"==typeof Zone?DR.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Bi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pa(!1),this.onMicrotaskEmpty=new pa(!1),this.onStable=new pa(!1),this.onError=new pa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let i=ft.requestAnimationFrame,s=ft.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(ft,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Fu(i),i.isCheckStableRunning=!0,O_(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Fu(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,f,m,v)=>{try{return AE(i),a.invokeTask(d,f,m,v)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),Bp(i)}},onInvoke:(a,l,d,f,m,v,w)=>{try{return AE(i),a.invoke(d,f,m,v,w)}finally{i.shouldCoalesceRunChangeDetection&&s(),Bp(i)}},onHasTask:(a,l,d,f)=>{a.hasTask(d,f),l===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,Fu(i),O_(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,l,d,f)=>(a.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Bi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,d){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+d,s,lT,lp,lp);try{return f.runTask(m,a,l)}finally{f.cancelTask(m)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const lT={};function O_(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Fu(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function AE(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Bp(i){i._nesting--,O_(i)}class Up{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pa,this.onMicrotaskEmpty=new pa,this.onStable=new pa,this.onError=new pa}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,d){return s.apply(a,l)}}let pc=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bi.assertNotInAngularZone(),Vp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Vp(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==f),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(On(Bi))},i.\u0275prov=ln({token:i,factory:i.\u0275fac}),i})(),P_=(()=>{class i{constructor(){this._applications=new Map,gc.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return gc.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=ln({token:i,factory:i.\u0275fac}),i})();class TR{addToWindow(s){}findTestabilityInTree(s,a,l){return null}}function ME(i){gc=i}let gc=new TR,N_=!0,mc=!1;function F_(){return mc=!0,N_}function SR(){if(mc)throw new Error("Cannot enable prod mode after platform setup.");N_=!1}let li;const Dh=new dn("AllowMultipleToken");class jp{constructor(s,a){this.name=s,this.token=a}}function kE(i,s,a=[]){const l=`Platform: ${s}`,d=new dn(l);return(f=[])=>{let m=dT();if(!m||m.injector.get(Dh,!1))if(i)i(a.concat(f).concat({provide:d,useValue:!0}));else{const v=a.concat(f).concat({provide:d,useValue:!0},{provide:Xd,useValue:"platform"});!function(i){if(li&&!li.destroyed&&!li.injector.get(Dh,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");li=i.get(hT);const s=i.get(bE,null);s&&s.forEach(a=>a())}(wn.create({providers:v,name:l}))}return function(i){const s=dT();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function dT(){return li&&!li.destroyed?li:null}let hT=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const v=function(i,s){let a;return a="noop"===i?new Up:("zone.js"===i?void 0:i)||new Bi({enableLongStackTrace:F_(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),w=[{provide:Bi,useValue:v}];return v.run(()=>{const I=wn.create({providers:w,parent:this.injector,name:a.moduleType.name}),x=a.create(I),P=x.injector.get(Ya,null);if(!P)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const N=v.onError.subscribe({next:H=>{P.handleError(H)}});x.onDestroy(()=>{B_(this._modules,x),N.unsubscribe()})}),function(i,s,a){try{const l=a();return Nm(l)?l.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(P,v,()=>{const N=x.injector.get(fc);return N.runInitializers(),N.donePromise.then(()=>(zm(x.injector.get(x_,Gm)||Gm),this._moduleDoBootstrap(x),x))})})}bootstrapModule(a,l=[]){const d=OE({},l);return function(i,s,a){const l=new DI(a);return Promise.resolve(l)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const l=a.injector.get(Ih);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Error(`The module ${ne(a.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(On(wn))},i.\u0275prov=ln({token:i,factory:i.\u0275fac}),i})();function OE(i,s){return Array.isArray(s)?s.reduce(OE,i):Object.assign(Object.assign({},i),s)}let Ih=(()=>{class i{constructor(a,l,d,f,m){this._zone=a,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new F.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),w=new F.y(I=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Bi.assertNotInAngularZone(),Vp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{Bi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{x.unsubscribe(),P.unsubscribe()}});this.isStable=(0,pe.T)(v,w.pipe((0,ae.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=a instanceof H0?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const f=function(i){return i.isBoundToModule}(d)?void 0:this._injector.get(sl),v=d.create(wn.NULL,[],l||d.selector,f),w=v.location.nativeElement,I=v.injector.get(pc,null),x=I&&v.injector.get(P_);return I&&x&&x.registerApplication(w,I),v.onDestroy(()=>{this.detachView(v.hostView),B_(this.components,v),x&&x.unregisterApplication(w)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;B_(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(nT,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(On(Bi),On(wn),On(Ya),On(oc),On(fc))},i.\u0275prov=ln({token:i,factory:i.\u0275fac}),i})();function B_(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}const zp=function(i){return null},FR=kE(null,"core",[{provide:EE,useValue:"unknown"},{provide:hT,deps:[wn]},{provide:P_,deps:[]},{provide:rT,deps:[]}]),UE=[{provide:Ih,useClass:Ih,deps:[Bi,wn,Ya,oc,fc]},{provide:kN,deps:[Bi],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:fc,useClass:fc,deps:[[new na,wh]]},{provide:Nu,useClass:Nu,deps:[]},bR,{provide:Iu,useFactory:function(){return fp},deps:[]},{provide:hp,useFactory:function(){return o_},deps:[]},{provide:x_,useFactory:function(i){return zm(i=i||"undefined"!=typeof $localize&&$localize.locale||Gm),i},deps:[[new Bl(x_),new na,new go]]},{provide:Pu,useValue:"USD"}];let W_=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(On(Ih))},i.\u0275mod=so({type:i}),i.\u0275inj=_n({providers:UE}),i})()},8939:(Qe,we,L)=>{"use strict";L.d(we,{hO:()=>ce,xv:()=>te,Dh:()=>ne,GT:()=>X,cc:()=>_e,on:()=>B,pX:()=>ae});var u=L(7716),re=L(7841),F=L(251);Qe=L.hmd(Qe);const pe=["ngOnDestroy"],ae=(q,de,xe,ke={})=>new Proxy(q,{get:(ut,Rt)=>xe.runOutsideAngular(()=>{var $t;if(q[Rt])return(null===($t=null==ke?void 0:ke.spy)||void 0===$t?void 0:$t.get)&&ke.spy.get(Rt,q[Rt]),q[Rt];if(pe.indexOf(Rt)>-1)return()=>{};const Et=de.toPromise().then(mn=>{const wt=mn&&mn[Rt];return"function"==typeof wt?wt.bind(mn):wt&&wt.then?wt.then(dt=>xe.run(()=>dt)):xe.run(()=>wt)});return new Proxy(()=>{},{get:(mn,wt)=>Et[wt],apply:(mn,wt,dt)=>Et.then(zt=>{var ht;const Nt=zt&&zt(...dt);return(null===(ht=null==ke?void 0:ke.spy)||void 0===ht?void 0:ht.apply)&&ke.spy.apply(Rt,dt,Nt),Nt})})})}),X=(q,de)=>{de.forEach(xe=>{Object.getOwnPropertyNames(xe.prototype||xe).forEach(ke=>{Object.defineProperty(q.prototype,ke,Object.getOwnPropertyDescriptor(xe.prototype||xe,ke))})})};class se{constructor(de){return de}}const ne=new u.OlP("angularfire2.app.options"),te=new u.OlP("angularfire2.app.name");function B(q,de,xe){const ut="object"==typeof xe&&xe||{};ut.name=ut.name||"string"==typeof xe&&xe||"[DEFAULT]";const $t=re.Z.apps.filter(Et=>Et&&Et.name===ut.name)[0]||de.runOutsideAngular(()=>re.Z.initializeApp(q,ut));try{JSON.stringify(q)!==JSON.stringify($t.options)&&K("error",`${$t.name} Firebase App already initialized with different options${Qe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Et){}return new se($t)}const K=(q,...de)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[q](...de)},U={provide:se,useFactory:B,deps:[ne,u.R0b,[new u.FiY,te]]};let ce=(()=>{class q{constructor(xe){re.Z.registerVersion("angularfire",F.q4.full,"core"),re.Z.registerVersion("angularfire",F.q4.full,"app-compat"),re.Z.registerVersion("angular",u.q4F.full,xe.toString())}static initializeApp(xe,ke){return{ngModule:q,providers:[{provide:ne,useValue:xe},{provide:te,useValue:ke}]}}}return q.\u0275fac=function(xe){return new(xe||q)(u.LFG(u.Lbi))},q.\u0275mod=u.oAB({type:q}),q.\u0275inj=u.cJS({providers:[U]}),q})();function _e(q,de,xe,ke,ut){const[,Rt,$t]=globalThis.\u0275AngularfireInstanceCache.find(Et=>Et[0]===q)||[];if(Rt)return function(q,de){try{return q.toString()===de.toString()}catch(xe){return q===de}}(ut,$t)||(ue("error",`${de} was already initialized on the ${xe} Firebase App with different settings.${be?" You may need to reload as Firebase is not HMR aware.":""}`),ue("warn",{is:ut,was:$t})),Rt;{const Et=ke();return globalThis.\u0275AngularfireInstanceCache.push([q,Et,ut]),Et}}const be=!!Qe.hot,ue=(q,...de)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[q](...de)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},251:(Qe,we,L)=>{"use strict";L.d(we,{q4:()=>Rd,iC:()=>po,HU:()=>Fi,vb:()=>Ar,JM:()=>Ni});var u=L(7716),re=L(2329),F=L(8239),pe=L(8026),ae=L(3854),X=L(3910),se=L(5422),ne=L(6676);const te="@firebase/installations",B="0.5.4",U=`w:${B}`,ce="FIS_v2",de=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xe(D){return D instanceof ae.ZR&&D.code.includes("request-failed")}function ke({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function ut(D){return{token:D.token,requestStatus:2,expiresIn:zt(D.expiresIn),creationTime:Date.now()}}function Rt(D,S){return $t.apply(this,arguments)}function $t(){return($t=(0,F.Z)(function*(D,S){const V=(yield S.json()).error;return de.create("request-failed",{requestName:D,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function Et({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function mn(D,{refreshToken:S}){const k=Et(D);return k.append("Authorization",function(D){return`${ce} ${D}`}(S)),k}function wt(D){return dt.apply(this,arguments)}function dt(){return(dt=(0,F.Z)(function*(D){const S=yield D();return S.status>=500&&S.status<600?D():S})).apply(this,arguments)}function zt(D){return Number(D.replace("s","000"))}function Nt(D,S){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,F.Z)(function*(D,{fid:S}){const k=ke(D),he={method:"POST",headers:Et(D),body:JSON.stringify({fid:S,authVersion:ce,appId:D.appId,sdkVersion:U})},De=yield wt(()=>fetch(k,he));if(De.ok){const Be=yield De.json();return{fid:Be.fid||S,registrationStatus:2,refreshToken:Be.refreshToken,authToken:ut(Be.authToken)}}throw yield Rt("Create Installation",De)})).apply(this,arguments)}function fl(D){return new Promise(S=>{setTimeout(S,D)})}const ks=/^[cdef][\w-]{21}$/;function jt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const k=function(D){return function(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return ks.test(k)?k:""}catch(D){return""}}function as(D){return`${D.appName}!${D.appId}`}const ro=new Map;function ls(D,S){const k=as(D);_n(k,S),function(D,S){const k=(!Ft&&"BroadcastChannel"in self&&(Ft=new BroadcastChannel("[Firebase] FID Change"),Ft.onmessage=D=>{_n(D.data.key,D.data.fid)}),Ft);k&&k.postMessage({key:D,fid:S}),0===ro.size&&Ft&&(Ft.close(),Ft=null)}(k,S)}function _n(D,S){const k=ro.get(D);if(k)for(const V of k)V(S)}let Ft=null;const Se="firebase-installations-store";let Xn=null;function Bn(){return Xn||(Xn=(0,ne.openDb)("firebase-installations-database",1,D=>{switch(D.oldVersion){case 0:D.createObjectStore(Se)}})),Xn}function We(D,S){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,F.Z)(function*(D,S){const k=as(D),ee=(yield Bn()).transaction(Se,"readwrite"),he=ee.objectStore(Se),De=yield he.get(k);return yield he.put(S,k),yield ee.complete,(!De||De.fid!==S.fid)&&ls(D,S.fid),S})).apply(this,arguments)}function Ii(D){return $r.apply(this,arguments)}function $r(){return($r=(0,F.Z)(function*(D){const S=as(D),V=(yield Bn()).transaction(Se,"readwrite");yield V.objectStore(Se).delete(S),yield V.complete})).apply(this,arguments)}function tt(D,S){return nt.apply(this,arguments)}function nt(){return(nt=(0,F.Z)(function*(D,S){const k=as(D),ee=(yield Bn()).transaction(Se,"readwrite"),he=ee.objectStore(Se),De=yield he.get(k),Be=S(De);return void 0===Be?yield he.delete(k):yield he.put(Be,k),yield ee.complete,Be&&(!De||De.fid!==Be.fid)&&ls(D,Be.fid),Be})).apply(this,arguments)}function At(D){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,F.Z)(function*(D){let S;const k=yield tt(D,V=>{const ee=zr(V),he=qt(D,ee);return S=he.registrationPromise,he.installationEntry});return""===k.fid?{installationEntry:yield S}:{installationEntry:k,registrationPromise:S}})).apply(this,arguments)}function zr(D){return ft(D||{fid:jt(),registrationStatus:0})}function qt(D,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(de.create("app-offline"))};const k={fid:S.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:k,registrationPromise:function(D,S){return et.apply(this,arguments)}(D,k)}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Mc(D)}:{installationEntry:S}}function et(){return(et=(0,F.Z)(function*(D,S){try{return We(D,yield Nt(D,S))}catch(k){throw xe(k)&&409===k.customData.serverCode?yield Ii(D):yield We(D,{fid:S.fid,registrationStatus:0}),k}})).apply(this,arguments)}function Mc(D){return Os.apply(this,arguments)}function Os(){return(Os=(0,F.Z)(function*(D){let S=yield Yt(D);for(;1===S.registrationStatus;)yield fl(100),S=yield Yt(D);if(0===S.registrationStatus){const{installationEntry:k,registrationPromise:V}=yield At(D);return V||k}return S})).apply(this,arguments)}function Yt(D){return tt(D,S=>{if(!S)throw de.create("installation-not-found");return ft(S)})}function ft(D){return function(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function xc(D,S){return W.apply(this,arguments)}function W(){return(W=(0,F.Z)(function*({appConfig:D,platformLoggerProvider:S},k){const V=j(D,k),ee=mn(D,k),he=S.getImmediate({optional:!0});he&&ee.append("x-firebase-client",he.getPlatformInfoString());const Be={method:"POST",headers:ee,body:JSON.stringify({installation:{sdkVersion:U}})},Ue=yield wt(()=>fetch(V,Be));if(Ue.ok)return ut(yield Ue.json());throw yield Rt("Generate Auth Token",Ue)})).apply(this,arguments)}function j(D,{fid:S}){return`${ke(D)}/${S}/authTokens:generate`}function Q(D){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,F.Z)(function*(D,S=!1){let k;const V=yield tt(D.appConfig,he=>{if(!In(he))throw de.create("not-registered");const De=he.authToken;if(!S&&br(De))return he;if(1===De.requestStatus)return k=le(D,S),he;{if(!navigator.onLine)throw de.create("app-offline");const Be=lr(he);return k=Lt(D,Be),Be}});return k?yield k:V.authToken})).apply(this,arguments)}function le(D,S){return je.apply(this,arguments)}function je(){return(je=(0,F.Z)(function*(D,S){let k=yield pt(D.appConfig);for(;1===k.authToken.requestStatus;)yield fl(100),k=yield pt(D.appConfig);const V=k.authToken;return 0===V.requestStatus?Q(D,S):V})).apply(this,arguments)}function pt(D){return tt(D,S=>{if(!In(S))throw de.create("not-registered");return function(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Lt(D,S){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,F.Z)(function*(D,S){try{const k=yield xc(D,S),V=Object.assign(Object.assign({},S),{authToken:k});return yield We(D.appConfig,V),k}catch(k){if(!xe(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const V=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield We(D.appConfig,V)}else yield Ii(D.appConfig);throw k}})).apply(this,arguments)}function In(D){return void 0!==D&&2===D.registrationStatus}function br(D){return 2===D.requestStatus&&!function(D){const S=Date.now();return S<D.creationTime||D.creationTime+D.expiresIn<S+36e5}(D)}function lr(D){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:S})}function so(){return(so=(0,F.Z)(function*(D){const S=D,{installationEntry:k,registrationPromise:V}=yield At(S.appConfig);return V?V.catch(console.error):Q(S).catch(console.error),k.fid})).apply(this,arguments)}function oo(){return(oo=(0,F.Z)(function*(D,S=!1){const k=D;return yield Rc(k.appConfig),(yield Q(k,S)).token})).apply(this,arguments)}function Rc(D){return di.apply(this,arguments)}function di(){return(di=(0,F.Z)(function*(D){const{registrationPromise:S}=yield At(D);S&&(yield S)})).apply(this,arguments)}function Qt(D){return de.create("missing-app-config-values",{valueName:D})}const Lr="installations";(0,pe._registerComponent)(new X.wA(Lr,D=>{const S=D.getProvider("app").getImmediate();return{app:S,appConfig:function(D){if(!D||!D.options)throw Qt("App Configuration");if(!D.name)throw Qt("App Name");const S=["projectId","apiKey","appId"];for(const k of S)if(!D.options[k])throw Qt(k);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(S),platformLoggerProvider:(0,pe._getProvider)(S,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,pe._registerComponent)(new X.wA("installations-internal",D=>{const S=D.getProvider("app").getImmediate(),k=(0,pe._getProvider)(S,Lr).getImmediate();return{getId:()=>function(D){return so.apply(this,arguments)}(k),getToken:ee=>function(D){return oo.apply(this,arguments)}(k,ee)}},"PRIVATE")),(0,pe.registerVersion)(te,B),(0,pe.registerVersion)(te,B,"esm2017");const Kr="@firebase/remote-config",er=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _l{constructor(S,k,V,ee){this.client=S,this.storage=k,this.storageCache=V,this.logger=ee}isCachedDataFresh(S,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-k,ee=V<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${ee}.`),ee}fetch(S){var k=this;return(0,F.Z)(function*(){const[V,ee]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(ee&&k.isCachedDataFresh(S.cacheMaxAgeMillis,V))return ee;S.eTag=ee&&ee.eTag;const he=yield k.client.fetch(S),De=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===he.status&&De.push(k.storage.setLastSuccessfulFetchResponse(he)),yield Promise.all(De),he})()}}function Ai(D=navigator){return D.languages&&D.languages[0]||D.language}class Mi{constructor(S,k,V,ee,he,De){this.firebaseInstallations=S,this.sdkVersion=k,this.namespace=V,this.projectId=ee,this.apiKey=he,this.appId=De}fetch(S){var k=this;return(0,F.Z)(function*(){const[V,ee]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),De=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Be={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},Ue={sdk_version:k.sdkVersion,app_instance_id:V,app_instance_id_token:ee,app_id:k.appId,language_code:Ai()},xt={method:"POST",headers:Be,body:JSON.stringify(Ue)},Ot=fetch(De,xt),fn=new Promise((ei,ti)=>{S.signal.addEventListener(()=>{const kn=new Error("The operation was aborted.");kn.name="AbortError",ti(kn)})});let jn;try{yield Promise.race([Ot,fn]),jn=yield Ot}catch(ei){let ti="fetch-client-network";throw"AbortError"===ei.name&&(ti="fetch-timeout"),er.create(ti,{originalErrorMessage:ei.message})}let Wn=jn.status;const qs=jn.headers.get("ETag")||void 0;let vs,Ll;if(200===jn.status){let ei;try{ei=yield jn.json()}catch(ti){throw er.create("fetch-client-parse",{originalErrorMessage:ti.message})}vs=ei.entries,Ll=ei.state}if("INSTANCE_STATE_UNSPECIFIED"===Ll?Wn=500:"NO_CHANGE"===Ll?Wn=304:("NO_TEMPLATE"===Ll||"EMPTY_CONFIG"===Ll)&&(vs={}),304!==Wn&&200!==Wn)throw er.create("fetch-status",{httpStatus:Wn});return{status:Wn,eTag:qs,config:vs}})()}}class Oc{constructor(S,k){this.client=S,this.storage=k}fetch(S){var k=this;return(0,F.Z)(function*(){const V=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(S,V)})()}attemptFetch(S,{throttleEndTimeMillis:k,backoffCount:V}){var ee=this;return(0,F.Z)(function*(){yield function(D,S){return new Promise((k,V)=>{const ee=Math.max(S-Date.now(),0),he=setTimeout(k,ee);D.addEventListener(()=>{clearTimeout(he),V(er.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,k);try{const he=yield ee.client.fetch(S);return yield ee.storage.deleteThrottleMetadata(),he}catch(he){if(!function(D){if(!(D instanceof ae.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}(he))throw he;const De={throttleEndTimeMillis:Date.now()+(0,ae.$s)(V),backoffCount:V+1};return yield ee.storage.setThrottleMetadata(De),ee.attemptFetch(S,De)}})()}}class gg{constructor(S,k,V,ee,he){this.app=S,this._client=k,this._storageCache=V,this._storage=ee,this._logger=he,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ta(D,S){const k=D.target.error||void 0;return er.create(S,{originalErrorMessage:k&&k.message})}const Vo="app_namespace_store";class mg{constructor(S,k,V,ee=function(){return new Promise((D,S)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=V=>{S(Ta(V,"storage-open"))},k.onsuccess=V=>{D(V.target.result)},k.onupgradeneeded=V=>{const ee=V.target.result;switch(V.oldVersion){case 0:ee.createObjectStore(Vo,{keyPath:"compositeKey"})}}}catch(k){S(er.create("storage-open",{originalErrorMessage:k}))}})}()){this.appId=S,this.appName=k,this.namespace=V,this.openDbPromise=ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var k=this;return(0,F.Z)(function*(){const V=yield k.openDbPromise;return new Promise((ee,he)=>{const Be=V.transaction([Vo],"readonly").objectStore(Vo),Ue=k.createCompositeKey(S);try{const xt=Be.get(Ue);xt.onerror=Ot=>{he(Ta(Ot,"storage-get"))},xt.onsuccess=Ot=>{const fn=Ot.target.result;ee(fn?fn.value:void 0)}}catch(xt){he(er.create("storage-get",{originalErrorMessage:xt&&xt.message}))}})})()}set(S,k){var V=this;return(0,F.Z)(function*(){const ee=yield V.openDbPromise;return new Promise((he,De)=>{const Ue=ee.transaction([Vo],"readwrite").objectStore(Vo),xt=V.createCompositeKey(S);try{const Ot=Ue.put({compositeKey:xt,value:k});Ot.onerror=fn=>{De(Ta(fn,"storage-set"))},Ot.onsuccess=()=>{he()}}catch(Ot){De(er.create("storage-set",{originalErrorMessage:Ot&&Ot.message}))}})})()}delete(S){var k=this;return(0,F.Z)(function*(){const V=yield k.openDbPromise;return new Promise((ee,he)=>{const Be=V.transaction([Vo],"readwrite").objectStore(Vo),Ue=k.createCompositeKey(S);try{const xt=Be.delete(Ue);xt.onerror=Ot=>{he(Ta(Ot,"storage-delete"))},xt.onsuccess=()=>{ee()}}catch(xt){he(er.create("storage-delete",{originalErrorMessage:xt&&xt.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class cd{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,F.Z)(function*(){const k=S.storage.getLastFetchStatus(),V=S.storage.getLastSuccessfulFetchTimestampMillis(),ee=S.storage.getActiveConfig(),he=yield k;he&&(S.lastFetchStatus=he);const De=yield V;De&&(S.lastSuccessfulFetchTimestampMillis=De);const Be=yield ee;Be&&(S.activeConfig=Be)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Fc(){return yl.apply(this,arguments)}function yl(){return(yl=(0,F.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(D){return!1}})).apply(this,arguments)}(0,pe._registerComponent)(new X.wA("remote-config",function(S,{instanceIdentifier:k}){const V=S.getProvider("app").getImmediate(),ee=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw er.create("registration-window");if(!(0,ae.hl)())throw er.create("indexed-db-unavailable");const{projectId:he,apiKey:De,appId:Be}=V.options;if(!he)throw er.create("registration-project-id");if(!De)throw er.create("registration-api-key");if(!Be)throw er.create("registration-app-id");const Ue=new mg(Be,V.name,k=k||"firebase"),xt=new cd(Ue),Ot=new se.Yd(Kr);Ot.logLevel=se.in.ERROR;const fn=new Mi(ee,pe.SDK_VERSION,k,he,De,Be),jn=new Oc(fn,Ue),Wn=new _l(jn,Ue,xt,Ot),qs=new gg(V,Wn,xt,Ue,Ot);return function(D){const S=(0,ae.m9)(D);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(qs),qs},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(Kr,"0.3.3"),(0,pe.registerVersion)(Kr,"0.3.3","esm2017");const Sa="/firebase-messaging-sw.js",yg="/firebase-cloud-messaging-push-scope",Aa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",zi="google.c.a.c_id",Ma="google.c.a.c_l",Yr="google.c.a.ts",xa="google.c.a.e";var Cr=(()=>{return(D=Cr||(Cr={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Cr;var D})();function qi(D){const S=new Uint8Array(D);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function vl(D){const k=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(k),ee=new Uint8Array(V.length);for(let he=0;he<V.length;++he)ee[he]=V.charCodeAt(he);return ee}const bl="fcm_token_details_db",Qh="fcm_token_object_Store";function Zr(D){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,F.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(he=>he.name).includes(bl))return null;let S=null;return(yield(0,ne.openDb)(bl,5,function(){var V=(0,F.Z)(function*(ee){var he;if(ee.oldVersion<2||!ee.objectStoreNames.contains(Qh))return;const De=ee.transaction.objectStore(Qh),Be=yield De.index("fcmSenderId").get(D);if(yield De.clear(),Be)if(2===ee.oldVersion){const Ue=Be;if(!Ue.auth||!Ue.p256dh||!Ue.endpoint)return;S={token:Ue.fcmToken,createTime:null!==(he=Ue.createTime)&&void 0!==he?he:Date.now(),subscriptionOptions:{auth:Ue.auth,p256dh:Ue.p256dh,endpoint:Ue.endpoint,swScope:Ue.swScope,vapidKey:"string"==typeof Ue.vapidKey?Ue.vapidKey:qi(Ue.vapidKey)}}}else if(3===ee.oldVersion){const Ue=Be;S={token:Ue.fcmToken,createTime:Ue.createTime,subscriptionOptions:{auth:qi(Ue.auth),p256dh:qi(Ue.p256dh),endpoint:Ue.endpoint,swScope:Ue.swScope,vapidKey:qi(Ue.vapidKey)}}}else if(4===ee.oldVersion){const Ue=Be;S={token:Ue.fcmToken,createTime:Ue.createTime,subscriptionOptions:{auth:qi(Ue.auth),p256dh:qi(Ue.p256dh),endpoint:Ue.endpoint,swScope:Ue.swScope,vapidKey:qi(Ue.vapidKey)}}}});return function(ee){return V.apply(this,arguments)}}())).close(),yield(0,ne.deleteDb)(bl),yield(0,ne.deleteDb)("fcm_vapid_details_db"),yield(0,ne.deleteDb)("undefined"),Jh(S)?S:null})).apply(this,arguments)}function Jh(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:S}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const Ns="firebase-messaging-store";let Vc=null;function Xt(){return Vc||(Vc=(0,ne.openDb)("firebase-messaging-database",1,D=>{switch(D.oldVersion){case 0:D.createObjectStore(Ns)}})),Vc}function hd(D){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,F.Z)(function*(D){const S=uo(D),V=yield(yield Xt()).transaction(Ns).objectStore(Ns).get(S);if(V)return V;{const ee=yield Zr(D.appConfig.senderId);if(ee)return yield xi(D,ee),ee}})).apply(this,arguments)}function xi(D,S){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,F.Z)(function*(D,S){const k=uo(D),ee=(yield Xt()).transaction(Ns,"readwrite");return yield ee.objectStore(Ns).put(S,k),yield ee.complete,S})).apply(this,arguments)}function Uo(D){return wl.apply(this,arguments)}function wl(){return(wl=(0,F.Z)(function*(D){const S=uo(D),V=(yield Xt()).transaction(Ns,"readwrite");yield V.objectStore(Ns).delete(S),yield V.complete})).apply(this,arguments)}function uo({appConfig:D}){return D.appId}const Un=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fs(D,S){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,F.Z)(function*(D,S){const k=yield Ra(D),V=it(S),ee={method:"POST",headers:k,body:JSON.stringify(V)};let he;try{he=yield(yield fetch(Sn(D.appConfig),ee)).json()}catch(De){throw Un.create("token-subscribe-failed",{errorInfo:De})}if(he.error)throw Un.create("token-subscribe-failed",{errorInfo:he.error.message});if(!he.token)throw Un.create("token-subscribe-no-token");return he.token})).apply(this,arguments)}function ur(D,S){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,F.Z)(function*(D,S){const k=yield Ra(D),V=it(S.subscriptionOptions),ee={method:"PATCH",headers:k,body:JSON.stringify(V)};let he;try{he=yield(yield fetch(`${Sn(D.appConfig)}/${S.token}`,ee)).json()}catch(De){throw Un.create("token-update-failed",{errorInfo:De})}if(he.error)throw Un.create("token-update-failed",{errorInfo:he.error.message});if(!he.token)throw Un.create("token-update-no-token");return he.token})).apply(this,arguments)}function Dl(D,S){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,F.Z)(function*(D,S){const V={method:"DELETE",headers:yield Ra(D)};try{const he=yield(yield fetch(`${Sn(D.appConfig)}/${S}`,V)).json();if(he.error)throw Un.create("token-unsubscribe-failed",{errorInfo:he.error.message})}catch(ee){throw Un.create("token-unsubscribe-failed",{errorInfo:ee})}})).apply(this,arguments)}function Sn({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Ra(D){return ka.apply(this,arguments)}function ka(){return(ka=(0,F.Z)(function*({appConfig:D,installations:S}){const k=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function it({p256dh:D,auth:S,endpoint:k,vapidKey:V}){const ee={web:{endpoint:k,auth:S,p256dh:D}};return V!==Aa&&(ee.web.applicationPubKey=V),ee}const Il=6048e5;function fd(D){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,F.Z)(function*(D){const S=yield Sl(D.swRegistration,D.vapidKey),k={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:S.endpoint,auth:qi(S.getKey("auth")),p256dh:qi(S.getKey("p256dh"))},V=yield hd(D.firebaseDependencies);if(V){if(Al(V.subscriptionOptions,k))return Date.now()>=V.createTime+Il?Bc(D,{token:V.token,createTime:Date.now(),subscriptionOptions:k}):V.token;try{yield Dl(D.firebaseDependencies,V.token)}catch(ee){console.warn(ee)}return Ce(D.firebaseDependencies,k)}return Ce(D.firebaseDependencies,k)})).apply(this,arguments)}function pd(D){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,F.Z)(function*(D){const S=yield hd(D.firebaseDependencies);S&&(yield Dl(D.firebaseDependencies,S.token),yield Uo(D.firebaseDependencies));const k=yield D.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function Bc(D,S){return ds.apply(this,arguments)}function ds(){return(ds=(0,F.Z)(function*(D,S){try{const k=yield ur(D.firebaseDependencies,S),V=Object.assign(Object.assign({},S),{token:k,createTime:Date.now()});return yield xi(D.firebaseDependencies,V),k}catch(k){throw yield pd(D),k}})).apply(this,arguments)}function Ce(D,S){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,F.Z)(function*(D,S){const V={token:yield Fs(D,S),createTime:Date.now(),subscriptionOptions:S};return yield xi(D,V),V.token})).apply(this,arguments)}function Sl(D,S){return rn.apply(this,arguments)}function rn(){return(rn=(0,F.Z)(function*(D,S){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:vl(S)})})).apply(this,arguments)}function Al(D,S){return S.vapidKey===D.vapidKey&&S.endpoint===D.endpoint&&S.auth===D.auth&&S.p256dh===D.p256dh}function Ki(D){const S={from:D.from,collapseKey:D.collapse_key,messageId:D.fcm_message_id};return function(D,S){if(!S.notification)return;D.notification={};const k=S.notification.title;k&&(D.notification.title=k);const V=S.notification.body;V&&(D.notification.body=V);const ee=S.notification.image;ee&&(D.notification.image=ee)}(S,D),function(D,S){!S.data||(D.data=S.data)}(S,D),function(D,S){if(!S.fcmOptions)return;D.fcmOptions={};const k=S.fcmOptions.link;k&&(D.fcmOptions.link=k);const V=S.fcmOptions.analytics_label;V&&(D.fcmOptions.analyticsLabel=V)}(S,D),S}function gd(D){return"object"==typeof D&&!!D&&zi in D}function Uc(D,S){const k=[];for(let V=0;V<D.length;V++)k.push(D.charAt(V)),V<S.length&&k.push(S.charAt(V));return k.join("")}function Go(D){return Un.create("missing-app-config-values",{valueName:D})}Uc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Uc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class An{constructor(S,k,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ee=function(D){if(!D||!D.options)throw Go("App Configuration Object");if(!D.name)throw Go("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:k}=D;for(const V of S)if(!k[V])throw Go(V);return{appName:D.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:ee,installations:k,analyticsProvider:V}}_delete(){return Promise.resolve()}}function pi(D){return Na.apply(this,arguments)}function Na(){return(Na=(0,F.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Sa,{scope:yg}),D.swRegistration.update().catch(()=>{})}catch(S){throw Un.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function gi(D,S){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,F.Z)(function*(D,S){if(!S&&!D.swRegistration&&(yield pi(D)),S||!D.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Un.create("invalid-sw-registration");D.swRegistration=S}})).apply(this,arguments)}function jc(D,S){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,F.Z)(function*(D,S){S?D.vapidKey=S:D.vapidKey||(D.vapidKey=Aa)})).apply(this,arguments)}function Hc(){return(Hc=(0,F.Z)(function*(D,S){if(!navigator)throw Un.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Un.create("permission-blocked");return yield jc(D,null==S?void 0:S.vapidKey),yield gi(D,null==S?void 0:S.serviceWorkerRegistration),fd(D)})).apply(this,arguments)}function La(D,S,k){return Va.apply(this,arguments)}function Va(){return(Va=(0,F.Z)(function*(D,S,k){const V=xl(S);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:k[zi],message_name:k[Ma],message_time:k[Yr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function xl(D){switch(D){case Cr.NOTIFICATION_CLICKED:return"notification_open";case Cr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function zo(){return(zo=(0,F.Z)(function*(D,S){const k=S.data;if(!k.isFirebaseMessaging)return;D.onMessageHandler&&k.messageType===Cr.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Ki(k)):D.onMessageHandler.next(Ki(k)));const V=k.data;gd(V)&&"1"===V[xa]&&(yield La(D,k.messageType,V))})).apply(this,arguments)}const Gc="@firebase/messaging";function yd(){return hs.apply(this,arguments)}function hs(){return(hs=(0,F.Z)(function*(){return"undefined"!=typeof window&&(0,ae.hl)()&&(yield(0,ae.eu)())&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,pe._registerComponent)(new X.wA("messaging",D=>{const S=new An(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function(D,S){return zo.apply(this,arguments)}(S,k)),S},"PUBLIC")),(0,pe._registerComponent)(new X.wA("messaging-internal",D=>{const S=D.getProvider("messaging").getImmediate();return{getToken:V=>function(D,S){return Hc.apply(this,arguments)}(S,V)}},"PRIVATE")),(0,pe.registerVersion)(Gc,"0.9.4"),(0,pe.registerVersion)(Gc,"0.9.4","esm2017");const Wo="analytics",tf="firebase_id",Us="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ba="https://www.googletagmanager.com/gtag/js",bn=new se.Yd("@firebase/analytics");function qc(D){return Promise.all(D.map(S=>S.catch(k=>k)))}function nf(D,S){const k=document.createElement("script");k.src=`${Ba}?l=${D}&id=${S}`,k.async=!0,document.head.appendChild(k)}function Ko(D,S,k,V,ee,he){return bd.apply(this,arguments)}function bd(){return(bd=(0,F.Z)(function*(D,S,k,V,ee,he){const De=V[ee];try{if(De)yield S[De];else{const Ue=(yield qc(k)).find(xt=>xt.measurementId===ee);Ue&&(yield S[Ue.appId])}}catch(Be){bn.error(Be)}D("config",ee,he)})).apply(this,arguments)}function Yo(D,S,k,V,ee){return js.apply(this,arguments)}function js(){return(js=(0,F.Z)(function*(D,S,k,V,ee){try{let he=[];if(ee&&ee.send_to){let De=ee.send_to;Array.isArray(De)||(De=[De]);const Be=yield qc(k);for(const Ue of De){const xt=Be.find(fn=>fn.measurementId===Ue),Ot=xt&&S[xt.appId];if(!Ot){he=[];break}he.push(Ot)}}0===he.length&&(he=Object.values(S)),yield Promise.all(he),D("event",V,ee||{})}catch(he){bn.error(he)}})).apply(this,arguments)}function Eg(){const D=window.document.getElementsByTagName("script");for(const S of Object.values(D))if(S.src&&S.src.includes(Ba))return S;return null}const Ri=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),kl=new class{constructor(S={},k=1e3){this.throttleMetadata=S,this.intervalMillis=k}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,k){this.throttleMetadata[S]=k}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function sf(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Yc(D){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,F.Z)(function*(D){var S;const{appId:k,apiKey:V}=D,ee={method:"GET",headers:sf(V)},he=Us.replace("{app-id}",k),De=yield fetch(he,ee);if(200!==De.status&&304!==De.status){let Be="";try{const Ue=yield De.json();(null===(S=Ue.error)||void 0===S?void 0:S.message)&&(Be=Ue.error.message)}catch(Ue){}throw Ri.create("config-fetch-failed",{httpStatus:De.status,responseMessage:Be})}return De.json()})).apply(this,arguments)}function wd(D){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,F.Z)(function*(D,S=kl,k){const{appId:V,apiKey:ee,measurementId:he}=D.options;if(!V)throw Ri.create("no-app-id");if(!ee){if(he)return{measurementId:he,appId:V};throw Ri.create("no-api-key")}const De=S.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Be=new of;return setTimeout((0,F.Z)(function*(){Be.abort()}),void 0!==k?k:6e4),Ua({appId:V,apiKey:ee,measurementId:he},De,Be,S)})).apply(this,arguments)}function Ua(D,S,k){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,F.Z)(function*(D,{throttleEndTimeMillis:S,backoffCount:k},V,ee=kl){const{appId:he,measurementId:De}=D;try{yield Ay(V,S)}catch(Be){if(De)return bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${De} provided in the "measurementId" field in the local Firebase config. [${Be.message}]`),{appId:he,measurementId:De};throw Be}try{const Be=yield Yc(D);return ee.deleteThrottleMetadata(he),Be}catch(Be){if(!Cd(Be)){if(ee.deleteThrottleMetadata(he),De)return bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${De} provided in the "measurementId" field in the local Firebase config. [${Be.message}]`),{appId:he,measurementId:De};throw Be}const Ue=503===Number(Be.customData.httpStatus)?(0,ae.$s)(k,ee.intervalMillis,30):(0,ae.$s)(k,ee.intervalMillis),xt={throttleEndTimeMillis:Date.now()+Ue,backoffCount:k+1};return ee.setThrottleMetadata(he,xt),bn.debug(`Calling attemptFetch again in ${Ue} millis`),Ua(D,xt,V,ee)}})).apply(this,arguments)}function Ay(D,S){return new Promise((k,V)=>{const ee=Math.max(S-Date.now(),0),he=setTimeout(k,ee);D.addEventListener(()=>{clearTimeout(he),V(Ri.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Cd(D){if(!(D instanceof ae.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}class of{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function Dd(){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,F.Z)(function*(){if(!(0,ae.hl)())return bn.warn(Ri.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(D){return bn.warn(Ri.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function fo(){return(fo=(0,F.Z)(function*(D,S,k,V,ee,he,De){var Be;const Ue=wd(D);Ue.then(Wn=>{k[Wn.measurementId]=Wn.appId,D.options.measurementId&&Wn.measurementId!==D.options.measurementId&&bn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Wn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Wn=>bn.error(Wn)),S.push(Ue);const xt=Dd().then(Wn=>{if(Wn)return V.getId()}),[Ot,fn]=yield Promise.all([Ue,xt]);Eg()||nf(he,Ot.measurementId),ee("js",new Date);const jn=null!==(Be=null==De?void 0:De.config)&&void 0!==Be?Be:{};return jn.origin="firebase",jn.update=!0,null!=fn&&(jn[tf]=fn),ee("config",Ot.measurementId,jn),Ot.measurementId})).apply(this,arguments)}class Zt{constructor(S){this.app=S}_delete(){return delete Mn[this.app.options.appId],Promise.resolve()}}let Mn={},Ha=[];const Pl={};let af,Ge,hn="dataLayer",xn=!1;function Ga(D,S,k){!function(){const D=[];if((0,ae.ru)()&&D.push("This is a browser extension environment."),(0,ae.zI)()||D.push("Cookies are not available."),D.length>0){const S=D.map((V,ee)=>`(${ee+1}) ${V}`).join(" "),k=Ri.create("invalid-analytics-context",{errorInfo:S});bn.warn(k.message)}}();const V=D.options.appId;if(!V)throw Ri.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Ri.create("no-api-key");bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Mn[V])throw Ri.create("already-exists",{id:V});if(!xn){!function(D){let S=[];Array.isArray(window[D])?S=window[D]:window[D]=S}(hn);const{wrappedGtag:he,gtagCore:De}=function(D,S,k,V,ee){let he=function(...De){window[V].push(arguments)};return window[ee]&&"function"==typeof window[ee]&&(he=window[ee]),window[ee]=function(D,S,k,V){function he(){return(he=(0,F.Z)(function*(De,Be,Ue){try{"event"===De?yield Yo(D,S,k,Be,Ue):"config"===De?yield Ko(D,S,k,V,Be,Ue):D("set",Be)}catch(xt){bn.error(xt)}})).apply(this,arguments)}return function(De,Be,Ue){return he.apply(this,arguments)}}(he,D,S,k),{gtagCore:he,wrappedGtag:window[ee]}}(Mn,Ha,Pl,hn,"gtag");Ge=he,af=De,xn=!0}return Mn[V]=function(D,S,k,V,ee,he,De){return fo.apply(this,arguments)}(D,Ha,Pl,S,af,hn,k),new Zt(D)}function Zc(){return(Zc=(0,F.Z)(function*(D,S,k,V,ee){if(ee&&ee.global)D("event",k,V);else{const he=yield S;D("event",k,Object.assign(Object.assign({},V),{send_to:he}))}})).apply(this,arguments)}function _s(){return Id.apply(this,arguments)}function Id(){return(Id=(0,F.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(D){return!1}})).apply(this,arguments)}const Ad="@firebase/analytics";(0,pe._registerComponent)(new X.wA(Wo,(S,{options:k})=>Ga(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,pe._registerComponent)(new X.wA("analytics-internal",function(S){try{const k=S.getProvider(Wo).getImmediate();return{logEvent:(V,ee,he)=>function(D,S,k,V){D=(0,ae.m9)(D),function(D,S,k,V,ee){return Zc.apply(this,arguments)}(Ge,Mn[D.app.options.appId],S,k,V).catch(ee=>bn.error(ee))}(k,V,ee,he)}}catch(k){throw Ri.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,pe.registerVersion)(Ad,"0.7.4"),(0,pe.registerVersion)(Ad,"0.7.4","esm2017");var My=L(7771),Fl=L(3637),Cg=L(3342),Md=L(9673),xd=L(6136);const Rd=new u.GfV("7.2.0"),Jo="__angularfire_symbol__analyticsIsSupported",kd="__angularfire_symbol__remoteConfigIsSupported",En="__angularfire_symbol__messagingIsSupported";function Ni(D,S,k){if(S){if(1===S.length)return S[0];const he=S.filter(De=>De.app===k);if(1===he.length)return he[0]}return k.container.getProvider(D).getImmediate({optional:!0})}globalThis[Jo]||(globalThis[Jo]=_s().then(D=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=D)),globalThis[En]||(globalThis[En]=yd().then(D=>globalThis.__angularfire_symbol__messagingIsSupportedValue=D)),globalThis[kd]||(globalThis[kd]=Fc().then(D=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=D));const Ar=(D,S)=>{const k=S?[S]:(0,re.C6)(),V=[];return k.forEach(ee=>{ee.container.getProvider(D).instances.forEach(De=>{V.includes(De)||V.push(De)})}),V};function Mr(){}class ys{constructor(S,k=My.N){this.zone=S,this.delegate=k}now(){return this.delegate.now()}schedule(S,k,V){const ee=this.zone;return this.delegate.schedule(function(De){ee.runGuarded(()=>{S.apply(this,[De])})},k,V)}}class Od{constructor(S){this.zone=S,this.task=null}call(S,k){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mr,{},Mr,Mr)),k.pipe((0,Cg.b)({next:V,complete:V,error:V})).subscribe(S).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Fi=(()=>{class D{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new ys(Zone.current)),this.insideAngular=k.run(()=>new ys(Zone.current,Fl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(k){return new(k||D)(u.LFG(u.R0b))},D.\u0275prov=u.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function rr(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function po(D){return rr(),function(D){return function(k){return(k=k.lift(new Od(D.ngZone))).pipe((0,Md.R)(D.outsideAngular),(0,xd.QV)(D.insideAngular))}}(rr())(D)}},3854:(Qe,we,L)=>{"use strict";L.d(we,{BH:()=>ce,LL:()=>Ye,ZR:()=>Nt,zI:()=>dt,US:()=>X,tV:()=>te,$s:()=>Yt,r3:()=>ln,Sg:()=>_e,ne:()=>Xn,vZ:()=>Ft,ZB:()=>K,pd:()=>$i,m9:()=>xc,z$:()=>Te,jU:()=>q,ru:()=>de,d:()=>ke,xb:()=>_n,w1:()=>ut,hl:()=>mn,uI:()=>be,UG:()=>ue,b$:()=>xe,G6:()=>Et,Mn:()=>Rt,xO:()=>ko,zd:()=>Di,eu:()=>wt});const pe=function(W){const j=[];let Q=0;for(let Ee=0;Ee<W.length;Ee++){let le=W.charCodeAt(Ee);le<128?j[Q++]=le:le<2048?(j[Q++]=le>>6|192,j[Q++]=63&le|128):55296==(64512&le)&&Ee+1<W.length&&56320==(64512&W.charCodeAt(Ee+1))?(le=65536+((1023&le)<<10)+(1023&W.charCodeAt(++Ee)),j[Q++]=le>>18|240,j[Q++]=le>>12&63|128,j[Q++]=le>>6&63|128,j[Q++]=63&le|128):(j[Q++]=le>>12|224,j[Q++]=le>>6&63|128,j[Q++]=63&le|128)}return j},X={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,j){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let le=0;le<W.length;le+=3){const je=W[le],pt=le+1<W.length,Lt=pt?W[le+1]:0,Dn=le+2<W.length,In=Dn?W[le+2]:0;let lr=(15&Lt)<<2|In>>6,io=63&In;Dn||(io=64,pt||(lr=64)),Ee.push(Q[je>>2],Q[(3&je)<<4|Lt>>4],Q[lr],Q[io])}return Ee.join("")},encodeString(W,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(W):this.encodeByteArray(pe(W),j)},decodeString(W,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(W):function(W){const j=[];let Q=0,Ee=0;for(;Q<W.length;){const le=W[Q++];if(le<128)j[Ee++]=String.fromCharCode(le);else if(le>191&&le<224){const je=W[Q++];j[Ee++]=String.fromCharCode((31&le)<<6|63&je)}else if(le>239&&le<365){const Dn=((7&le)<<18|(63&W[Q++])<<12|(63&W[Q++])<<6|63&W[Q++])-65536;j[Ee++]=String.fromCharCode(55296+(Dn>>10)),j[Ee++]=String.fromCharCode(56320+(1023&Dn))}else{const je=W[Q++],pt=W[Q++];j[Ee++]=String.fromCharCode((15&le)<<12|(63&je)<<6|63&pt)}}return j.join("")}(this.decodeStringToByteArray(W,j))},decodeStringToByteArray(W,j){this.init_();const Q=j?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let le=0;le<W.length;){const je=Q[W.charAt(le++)],Lt=le<W.length?Q[W.charAt(le)]:0;++le;const In=le<W.length?Q[W.charAt(le)]:64;++le;const kt=le<W.length?Q[W.charAt(le)]:64;if(++le,null==je||null==Lt||null==In||null==kt)throw Error();Ee.push(je<<2|Lt>>4),64!==In&&(Ee.push(Lt<<4&240|In>>2),64!==kt&&Ee.push(In<<6&192|kt))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},ne=function(W){return function(W){const j=pe(W);return X.encodeByteArray(j,!0)}(W).replace(/\./g,"")},te=function(W){try{return X.decodeString(W,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function K(W,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return j}for(const Q in j)!j.hasOwnProperty(Q)||!U(Q)||(W[Q]=K(W[Q],j[Q]));return W}function U(W){return"__proto__"!==W}class ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,Q)=>{this.resolve=j,this.reject=Q})}wrapCallback(j){return(Q,Ee)=>{Q?this.reject(Q):this.resolve(Ee),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(Q):j(Q,Ee))}}}function _e(W,j){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=j||"demo-project",le=W.iat||0,je=W.sub||W.user_id;if(!je)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const pt=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:le,exp:le+3600,auth_time:le,sub:je,user_id:je,firebase:{sign_in_provider:"custom",identities:{}}},W);return[ne(JSON.stringify({alg:"none",type:"JWT"})),ne(JSON.stringify(pt)),""].join(".")}function Te(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function be(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Te())}function ue(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(W){return!1}}function q(){return"object"==typeof self&&self.self===self}function de(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function xe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){return Te().indexOf("Electron/")>=0}function ut(){const W=Te();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Rt(){return Te().indexOf("MSAppHost/")>=0}function Et(){return!ue()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mn(){return"object"==typeof indexedDB}function wt(){return new Promise((W,j)=>{try{let Q=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",le=self.indexedDB.open(Ee);le.onsuccess=()=>{le.result.close(),Q||self.indexedDB.deleteDatabase(Ee),W(!0)},le.onupgradeneeded=()=>{Q=!1},le.onerror=()=>{var je;j((null===(je=le.error)||void 0===je?void 0:je.message)||"")}}catch(Q){j(Q)}})}function dt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Nt extends Error{constructor(j,Q,Ee){super(Q),this.code=j,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,Nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ye.prototype.create)}}class Ye{constructor(j,Q,Ee){this.service=j,this.serviceName=Q,this.errors=Ee}create(j,...Q){const Ee=Q[0]||{},le=`${this.service}/${j}`,je=this.errors[j],pt=je?function(W,j){return W.replace(Rs,(Q,Ee)=>{const le=j[Ee];return null!=le?String(le):`<${Ee}?>`})}(je,Ee):"Error";return new Nt(le,`${this.serviceName}: ${pt} (${le}).`,Ee)}}const Rs=/\{\$([^}]+)}/g;function ln(W,j){return Object.prototype.hasOwnProperty.call(W,j)}function _n(W){for(const j in W)if(Object.prototype.hasOwnProperty.call(W,j))return!1;return!0}function Ft(W,j){if(W===j)return!0;const Q=Object.keys(W),Ee=Object.keys(j);for(const le of Q){if(!Ee.includes(le))return!1;const je=W[le],pt=j[le];if(yn(je)&&yn(pt)){if(!Ft(je,pt))return!1}else if(je!==pt)return!1}for(const le of Ee)if(!Q.includes(le))return!1;return!0}function yn(W){return null!==W&&"object"==typeof W}function ko(W){const j=[];for(const[Q,Ee]of Object.entries(W))Array.isArray(Ee)?Ee.forEach(le=>{j.push(encodeURIComponent(Q)+"="+encodeURIComponent(le))}):j.push(encodeURIComponent(Q)+"="+encodeURIComponent(Ee));return j.length?"&"+j.join("&"):""}function Di(W){const j={};return W.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[le,je]=Ee.split("=");j[decodeURIComponent(le)]=decodeURIComponent(je)}}),j}function $i(W){const j=W.indexOf("?");if(!j)return"";const Q=W.indexOf("#",j);return W.substring(j,Q>0?Q:void 0)}function Xn(W,j){const Q=new Bn(W,j);return Q.subscribe.bind(Q)}class Bn{constructor(j,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{j(this)}).catch(Ee=>{this.error(Ee)})}next(j){this.forEachObserver(Q=>{Q.next(j)})}error(j){this.forEachObserver(Q=>{Q.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,Q,Ee){let le;if(void 0===j&&void 0===Q&&void 0===Ee)throw new Error("Missing Observer.");le=function(W,j){if("object"!=typeof W||null===W)return!1;for(const Q of["next","error","complete"])if(Q in W&&"function"==typeof W[Q])return!0;return!1}(j)?j:{next:j,error:Q,complete:Ee},void 0===le.next&&(le.next=Ii),void 0===le.error&&(le.error=Ii),void 0===le.complete&&(le.complete=Ii);const je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?le.error(this.finalError):le.complete()}catch(pt){}}),this.observers.push(le),je}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,j)}sendOne(j,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{Q(this.observers[j])}catch(Ee){"undefined"!=typeof console&&console.error&&console.error(Ee)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ii(){}function Yt(W,j=1e3,Q=2){const Ee=j*Math.pow(Q,W),le=Math.round(.5*Ee*(Math.random()-.5)*2);return Math.min(144e5,Ee+le)}function xc(W){return W&&W._delegate?W._delegate:W}},2329:(Qe,we,L)=>{"use strict";L.d(we,{Mq:()=>u.getApp,C6:()=>u.getApps});var u=L(8026);(0,u.registerVersion)("firebase","9.4.1","app")},7841:(Qe,we,L)=>{"use strict";L.d(we,{Z:()=>u.Z});var u=L(3394);u.Z.registerVersion("firebase","9.4.1","app-compat")},941:(Qe,we,L)=>{"use strict";L.r(we);var u=L(8239),re=L(3394),F=L(3854),pe=L(8026);function ne(y,p){var g={};for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&p.indexOf(E)<0&&(g[E]=y[E]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var T=0;for(E=Object.getOwnPropertySymbols(y);T<E.length;T++)p.indexOf(E[T])<0&&Object.prototype.propertyIsEnumerable.call(y,E[T])&&(g[E[T]]=y[E[T]])}return g}var Nt=L(5422),Ye=L(3910);const ro=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ls=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ln=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_n=new Nt.Yd("@firebase/auth");function Jn(y,...p){_n.logLevel<=Nt.in.ERROR&&_n.error(`Auth (${pe.SDK_VERSION}): ${y}`,...p)}function Ft(y,...p){throw $i(y,...p)}function yn(y,...p){return $i(y,...p)}function ko(y,p,g){const E=Object.assign(Object.assign({},ls()),{[p]:g});return new F.LL("auth","Firebase",E).create(p,{appName:y.name})}function Di(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Ft(y,"argument-error"),ko(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $i(y,...p){if("string"!=typeof y){const g=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=y.name),y._errorFactory.create(g,...E)}return ln.create(y,...p)}function Se(y,p,...g){if(!y)throw $i(p,...g)}function Xn(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Jn(p),new Error(p)}function Bn(y,p){y||Xn(p)}const We=new Map;function Gt(y){Bn(y instanceof Function,"Expected a class definition");let p=We.get(y);return p?(Bn(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,We.set(y,p),p)}function tt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function nt(){return"http:"===At()||"https:"===At()}function At(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class qt{constructor(p,g){this.shortDelay=p,this.longDelay=g,Bn(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(nt()||(0,F.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Fe(y,p){Bn(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class et{static initialize(p,g,E){this.fetchImpl=p,g&&(this.headersImpl=g),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mc={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Os=new qt(3e4,6e4);function Yt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function ft(y,p,g,E){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,u.Z)(function*(y,p,g,E,T={}){return xc(y,T,()=>{let R={},$={};E&&("GET"===p?$=E:R={body:JSON.stringify(E)});const oe=(0,F.xO)(Object.assign({key:y.config.apiKey},$)).slice(1),Pe=new(et.headers());return Pe.set("Content-Type","application/json"),Pe.set("X-Client-Version",y._getSdkClientVersion()),y.languageCode&&Pe.set("X-Firebase-Locale",y.languageCode),et.fetch()(Ee(y,y.config.apiHost,g,oe),Object.assign({method:p,headers:Pe,referrerPolicy:"no-referrer"},R))})})).apply(this,arguments)}function xc(y,p,g){return W.apply(this,arguments)}function W(){return(W=(0,u.Z)(function*(y,p,g){y._canInitEmulator=!1;const E=Object.assign(Object.assign({},Mc),p);try{const T=new le(y),R=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const $=yield R.json();if("needConfirmation"in $)throw je(y,"account-exists-with-different-credential",$);if(R.ok&&!("errorMessage"in $))return $;{const oe=R.ok?$.errorMessage:$.error.message,[Pe,Re]=oe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw je(y,"credential-already-in-use",$);if("EMAIL_EXISTS"===Pe)throw je(y,"email-already-in-use",$);const qe=E[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(Re)throw ko(y,qe,Re);Ft(y,qe)}}catch(T){if(T instanceof F.ZR)throw T;Ft(y,"network-request-failed")}})).apply(this,arguments)}function j(y,p,g,E){return Q.apply(this,arguments)}function Q(){return(Q=(0,u.Z)(function*(y,p,g,E,T={}){const R=yield ft(y,p,g,E,T);return"mfaPendingCredential"in R&&Ft(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Ee(y,p,g,E){const T=`${p}${g}?${E}`;return y.config.emulator?Fe(y.config,T):`${y.config.apiScheme}://${T}`}class le{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,E)=>{this.timer=setTimeout(()=>E(yn(this.auth,"timeout")),Os.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function je(y,p,g){const E={appName:y.name};g.email&&(E.email=g.email),g.phoneNumber&&(E.phoneNumber=g.phoneNumber);const T=yn(y,p,E);return T.customData._tokenResponse=g,T}function Lt(){return(Lt=(0,u.Z)(function*(y,p){return ft(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Dn(y,p){return In.apply(this,arguments)}function In(){return(In=(0,u.Z)(function*(y,p){return ft(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function br(y,p){return kt.apply(this,arguments)}function kt(){return(kt=(0,u.Z)(function*(y,p){return ft(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function lr(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function so(){return(so=(0,u.Z)(function*(y,p=!1){const g=(0,F.m9)(y),E=yield g.getIdToken(p),T=oo(E);Se(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const R="object"==typeof T.firebase?T.firebase:void 0,$=null==R?void 0:R.sign_in_provider;return{claims:T,token:E,authTime:lr(ml(T.auth_time)),issuedAtTime:lr(ml(T.iat)),expirationTime:lr(ml(T.exp)),signInProvider:$||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function ml(y){return 1e3*Number(y)}function oo(y){const[p,g,E]=y.split(".");if(void 0===p||void 0===g||void 0===E)return Jn("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,F.tV)(g);return T?JSON.parse(T):(Jn("Failed to decode base64 JWT payload"),null)}catch(T){return Jn("Caught error parsing JWT payload as JSON",T),null}}function di(y,p){return zn.apply(this,arguments)}function zn(){return(zn=(0,u.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(E){throw E instanceof F.ZR&&qr(E)&&y.auth.currentUser===y&&(yield y.auth.signOut()),E}})).apply(this,arguments)}function qr({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Ti{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),E)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class hi{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=lr(this.lastLoginAt),this.creationTime=lr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ao(y){return Er.apply(this,arguments)}function Er(){return(Er=(0,u.Z)(function*(y){var p;const g=y.auth,E=yield y.getIdToken(),T=yield di(y,br(g,{idToken:E}));Se(null==T?void 0:T.users.length,g,"internal-error");const R=T.users[0];y._notifyReloadListener(R);const $=(null===(p=R.providerUserInfo)||void 0===p?void 0:p.length)?Lr(R.providerUserInfo):[],oe=Qt(y.providerData,$),qe=!!y.isAnonymous&&!(y.email&&R.passwordHash||(null==oe?void 0:oe.length)),Ze={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:oe,metadata:new hi(R.createdAt,R.lastLoginAt),isAnonymous:qe};Object.assign(y,Ze)})).apply(this,arguments)}function Ct(){return(Ct=(0,u.Z)(function*(y){const p=(0,F.m9)(y);yield ao(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Qt(y,p){return[...y.filter(E=>!p.some(T=>T.providerId===E.providerId)),...p]}function Lr(y){return y.map(p=>{var{providerId:g}=p,E=ne(p,["providerId"]);return{providerId:g,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Tn(){return(Tn=(0,u.Z)(function*(y,p){const g=yield xc(y,{},()=>{const E=(0,F.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:T,apiKey:R}=y.config,$=Ee(y,T,"/v1/token",`key=${R}`);return et.fetch()($,{method:"POST",headers:{"X-Client-Version":y._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:E})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Wr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Se(p.idToken,"internal-error"),Se(void 0!==p.idToken,"internal-error"),Se(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(y){const p=oo(y);return Se(p,"internal-error"),Se(void 0!==p.exp,"internal-error"),Se(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var E=this;return(0,u.Z)(function*(){return Se(!E.accessToken||E.refreshToken,p,"user-token-expired"),g||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var E=this;return(0,u.Z)(function*(){const{accessToken:T,refreshToken:R,expiresIn:$}=yield function(y,p){return Tn.apply(this,arguments)}(p,g);E.updateTokensAndExpiration(T,R,Number($))})()}updateTokensAndExpiration(p,g,E){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,g){const{refreshToken:E,accessToken:T,expirationTime:R}=g,$=new Wr;return E&&(Se("string"==typeof E,"internal-error",{appName:p}),$.refreshToken=E),T&&(Se("string"==typeof T,"internal-error",{appName:p}),$.accessToken=T),R&&(Se("number"==typeof R,"internal-error",{appName:p}),$.expirationTime=R),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Wr,this.toJSON())}_performRefresh(){return Xn("not implemented")}}function Jt(y,p){Se("string"==typeof y||void 0===y,"internal-error",{appName:p})}class Kr{constructor(p){var{uid:g,auth:E,stsTokenManager:T}=p,R=ne(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Ti(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=E,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.metadata=new hi(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,u.Z)(function*(){const E=yield di(g,g.stsTokenManager.getToken(g.auth,p));return Se(E,g.auth,"internal-error"),g.accessToken!==E&&(g.accessToken=E,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),E})()}getIdTokenResult(p){return function(y){return so.apply(this,arguments)}(this,p)}reload(){return function(y){return Ct.apply(this,arguments)}(this)}_assign(p){this!==p&&(Se(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Kr(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var E=this;return(0,u.Z)(function*(){let T=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),T=!0),g&&(yield ao(E)),yield E.auth._persistUserIfCurrent(E),T&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,u.Z)(function*(){const g=yield p.getIdToken();return yield di(p,function(y,p){return Lt.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var E,T,R,$,oe,Pe,Re,qe;const Ze=null!==(E=g.displayName)&&void 0!==E?E:void 0,Tt=null!==(T=g.email)&&void 0!==T?T:void 0,Kn=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,mo=null!==($=g.photoURL)&&void 0!==$?$:void 0,Hd=null!==(oe=g.tenantId)&&void 0!==oe?oe:void 0,ou=null!==(Pe=g._redirectEventId)&&void 0!==Pe?Pe:void 0,Gd=null!==(Re=g.createdAt)&&void 0!==Re?Re:void 0,Sf=null!==(qe=g.lastLoginAt)&&void 0!==qe?qe:void 0,{uid:Af,emailVerified:Mf,isAnonymous:xf,providerData:Wg,stsTokenManager:Kg}=g;Se(Af&&Kg,p,"internal-error");const $d=Wr.fromJSON(this.name,Kg);Se("string"==typeof Af,p,"internal-error"),Jt(Ze,p.name),Jt(Tt,p.name),Se("boolean"==typeof Mf,p,"internal-error"),Se("boolean"==typeof xf,p,"internal-error"),Jt(Kn,p.name),Jt(mo,p.name),Jt(Hd,p.name),Jt(ou,p.name),Jt(Gd,p.name),Jt(Sf,p.name);const Rf=new Kr({uid:Af,auth:p,email:Tt,emailVerified:Mf,displayName:Ze,isAnonymous:xf,photoURL:mo,phoneNumber:Kn,tenantId:Hd,stsTokenManager:$d,createdAt:Gd,lastLoginAt:Sf});return Wg&&Array.isArray(Wg)&&(Rf.providerData=Wg.map(kf=>Object.assign({},kf))),ou&&(Rf._redirectEventId=ou),Rf}static _fromIdTokenResponse(p,g,E=!1){return(0,u.Z)(function*(){const T=new Wr;T.updateFromServerResponse(g);const R=new Kr({uid:g.localId,auth:p,stsTokenManager:T,isAnonymous:E});return yield ao(R),R})()}}const at=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,E){var T=this;return(0,u.Z)(function*(){T.storage[g]=E})()}_get(g){var E=this;return(0,u.Z)(function*(){const T=E.storage[g];return void 0===T?null:T})()}_remove(g){var E=this;return(0,u.Z)(function*(){delete E.storage[g]})()}_addListener(g,E){}_removeListener(g,E){}}return y.type="NONE",y})();function Vr(y,p,g){return`firebase:${y}:${p}:${g}`}class fi{constructor(p,g,E){this.persistence=p,this.auth=g,this.userKey=E;const{config:T,name:R}=this.auth;this.fullUserKey=Vr(this.userKey,T.apiKey,R),this.fullPersistenceKey=Vr("persistence",T.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Kr._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,u.Z)(function*(){if(g.persistence===p)return;const E=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,E?g.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,E="authUser"){return(0,u.Z)(function*(){if(!g.length)return new fi(Gt(at),p,E);const T=(yield Promise.all(g.map(function(){var Re=(0,u.Z)(function*(qe){if(yield qe._isAvailable())return qe});return function(qe){return Re.apply(this,arguments)}}()))).filter(Re=>Re);let R=T[0]||Gt(at);const $=Vr(E,p.config.apiKey,p.name);let oe=null;for(const Re of g)try{const qe=yield Re._get($);if(qe){const Ze=Kr._fromJSON(p,qe);Re!==R&&(oe=Ze),R=Re;break}}catch(qe){}const Pe=T.filter(Re=>Re._shouldAllowMigration);return R._shouldAllowMigration&&Pe.length?(R=Pe[0],oe&&(yield R._set($,oe.toJSON())),yield Promise.all(g.map(function(){var Re=(0,u.Z)(function*(qe){if(qe!==R)try{yield qe._remove($)}catch(Ze){}});return function(qe){return Re.apply(this,arguments)}}())),new fi(R,p,E)):new fi(R,p,E)})()}}function er(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Ps(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Po(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Wt(p))return"Blackberry";if(id(p))return"Webos";if(tr(p))return"Safari";if((p.includes("chrome/")||No(p))&&!p.includes("edge/"))return"Chrome";if(wr(p))return"Android";{const E=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function Po(y=(0,F.z$)()){return/firefox\//i.test(y)}function tr(y=(0,F.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function No(y=(0,F.z$)()){return/crios\//i.test(y)}function Ps(y=(0,F.z$)()){return/iemobile/i.test(y)}function wr(y=(0,F.z$)()){return/android/i.test(y)}function Wt(y=(0,F.z$)()){return/blackberry/i.test(y)}function id(y=(0,F.z$)()){return/webos/i.test(y)}function Fo(y=(0,F.z$)()){return/iphone|ipad|ipod/i.test(y)}function cs(y=(0,F.z$)()){return Fo(y)||wr(y)||id(y)||Wt(y)||/windows phone/i.test(y)||Ps(y)}function nr(y,p=[]){let g;switch(y){case"Browser":g=er((0,F.z$)());break;case"Worker":g=`${er((0,F.z$)())}-${y}`;break;default:g=y}const E=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${pe.SDK_VERSION}/${E}`}class pg{constructor(p,g){this.app=p,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cr(this),this.idTokenSubscription=new cr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ln,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(p,g){var E=this;return g&&(this._popupRedirectResolver=Gt(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var T,R;E._deleted||(E.persistenceManager=yield fi.create(E,p),!E._deleted&&((null===(T=E._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)&&(yield E._popupRedirectResolver._initialize(E)),yield E.initializeCurrentUser(g),E.lastNotifiedUid=(null===(R=E.currentUser)||void 0===R?void 0:R.uid)||null,!E._deleted&&(E._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,u.Z)(function*(){var E;let T=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const R=null===(E=g.redirectUser)||void 0===E?void 0:E._redirectEventId,$=null==T?void 0:T._redirectEventId,oe=yield g.tryRedirectSignIn(p);(!R||R===$)&&(null==oe?void 0:oe.user)&&(T=oe.user)}return T?T._redirectEventId?(Se(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===T._redirectEventId?g.directlySetCurrentUser(T):g.reloadAndSetCurrentUserOrClear(T)):g.reloadAndSetCurrentUserOrClear(T):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,u.Z)(function*(){let E=null;try{E=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(T){yield g._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,u.Z)(function*(){try{yield ao(p)}catch(E){if("auth/network-request-failed"!==E.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){const E=p?(0,F.m9)(p):null;return E&&Se(E.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(E&&E._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){if(!g._deleted)return p&&Se(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,u.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(Gt(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new F.LL("auth","Firebase",p())}onAuthStateChanged(p,g,E){return this.registerStateListener(this.authStateSubscription,p,g,E)}onIdTokenChanged(p,g,E){return this.registerStateListener(this.idTokenSubscription,p,g,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var E=this;return(0,u.Z)(function*(){const T=yield E.getOrInitRedirectPersistenceManager(g);return null===p?T.removeCurrentUser():T.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const E=p&&Gt(p)||g._popupRedirectResolver;Se(E,g,"argument-error"),g.redirectPersistenceManager=yield fi.create(g,[Gt(E._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,u.Z)(function*(){var E,T;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(E=g._currentUser)||void 0===E?void 0:E._redirectEventId)===p?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,u.Z)(function*(){if(p===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,E,T){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),$=this._isInitialized?Promise.resolve():this._initializationPromise;return Se($,this,"internal-error"),$.then(()=>R(this.currentUser)),"function"==typeof g?p.addObserver(g,E,T):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=nr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function un(y){return(0,F.m9)(y)}class cr{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,F.ne)(g=>this.observer=g)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Da(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Ai(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Ia{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return Xn("not implemented")}_getIdTokenResponse(p){return Xn("not implemented")}_linkToIdToken(p,g){return Xn("not implemented")}_getReauthenticationResolver(p){return Xn("not implemented")}}function od(y,p){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,u.Z)(function*(y,p){return ft(y,"POST","/v1/accounts:resetPassword",Yt(y,p))})).apply(this,arguments)}function Yh(y,p){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,u.Z)(function*(y,p){return ft(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function gg(y,p){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,u.Z)(function*(y,p){return ft(y,"POST","/v1/accounts:update",Yt(y,p))})).apply(this,arguments)}function ad(){return(ad=(0,u.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithPassword",Yt(y,p))})).apply(this,arguments)}function Nc(y,p){return ld.apply(this,arguments)}function ld(){return(ld=(0,u.Z)(function*(y,p){return ft(y,"POST","/v1/accounts:sendOobCode",Yt(y,p))})).apply(this,arguments)}function mg(y,p){return cd.apply(this,arguments)}function cd(){return(cd=(0,u.Z)(function*(y,p){return Nc(y,p)})).apply(this,arguments)}function _g(y,p){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,u.Z)(function*(y,p){return Nc(y,p)})).apply(this,arguments)}function ud(y,p){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,u.Z)(function*(y,p){return Nc(y,p)})).apply(this,arguments)}function yl(y,p){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,u.Z)(function*(y,p){return Nc(y,p)})).apply(this,arguments)}function Aa(){return(Aa=(0,u.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithEmailLink",Yt(y,p))})).apply(this,arguments)}function zi(){return(zi=(0,u.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithEmailLink",Yt(y,p))})).apply(this,arguments)}class Ma extends Ia{constructor(p,g,E,T=null){super("password",E),this._email=p,this._password=g,this._tenantId=T}static _fromEmailAndPassword(p,g){return new Ma(p,g,"password")}static _fromEmailAndCode(p,g,E=null){return new Ma(p,g,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function(y,p){return ad.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(y,p){return Aa.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Ft(p,"internal-error")}})()}_linkToIdToken(p,g){var E=this;return(0,u.Z)(function*(){switch(E.signInMethod){case"password":return Yh(p,{idToken:g,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(y,p){return zi.apply(this,arguments)}(p,{idToken:g,email:E._email,oobCode:E._password});default:Ft(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Yr(y,p){return xa.apply(this,arguments)}function xa(){return(xa=(0,u.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithIdp",Yt(y,p))})).apply(this,arguments)}class Cr extends Ia{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Cr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Ft("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:T}=g,R=ne(g,["providerId","signInMethod"]);if(!E||!T)return null;const $=new Cr(E,T);return $.idToken=R.idToken||void 0,$.accessToken=R.accessToken||void 0,$.secret=R.secret,$.nonce=R.nonce,$.pendingToken=R.pendingToken||null,$}_getIdTokenResponse(p){return Yr(p,this.buildRequest())}_linkToIdToken(p,g){const E=this.buildRequest();return E.idToken=g,Yr(p,E)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Yr(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,F.xO)(g)}return p}}function qi(y,p){return vl.apply(this,arguments)}function vl(){return(vl=(0,u.Z)(function*(y,p){return ft(y,"POST","/v1/accounts:sendVerificationCode",Yt(y,p))})).apply(this,arguments)}function El(){return(El=(0,u.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithPhoneNumber",Yt(y,p))})).apply(this,arguments)}function Zr(){return(Zr=(0,u.Z)(function*(y,p){const g=yield j(y,"POST","/v1/accounts:signInWithPhoneNumber",Yt(y,p));if(g.temporaryProof)throw je(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Lc={USER_NOT_FOUND:"user-not-found"};function Bo(){return(Bo=(0,u.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithPhoneNumber",Yt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Lc)})).apply(this,arguments)}class co extends Ia{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new co({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new co({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function(y,p){return El.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function(y,p){return Zr.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(y,p){return Bo.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:E,verificationCode:T}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:E,code:T}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:E,phoneNumber:T,temporaryProof:R}=p;return E||g||T||R?new co({verificationId:g,verificationCode:E,phoneNumber:T,temporaryProof:R}):null}}class Xt{constructor(p){var g,E,T,R,$,oe;const Pe=(0,F.zd)((0,F.pd)(p)),Re=null!==(g=Pe.apiKey)&&void 0!==g?g:null,qe=null!==(E=Pe.oobCode)&&void 0!==E?E:null,Ze=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Pe.mode)&&void 0!==T?T:null);Se(Re&&qe&&Ze,"argument-error"),this.apiKey=Re,this.operation=Ze,this.code=qe,this.continueUrl=null!==(R=Pe.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==($=Pe.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(oe=Pe.tenantId)&&void 0!==oe?oe:null}static parseLink(p){const g=function(y){const p=(0,F.zd)((0,F.pd)(y)).link,g=p?(0,F.zd)((0,F.pd)(p)).deep_link_id:null,E=(0,F.zd)((0,F.pd)(y)).deep_link_id;return(E?(0,F.zd)((0,F.pd)(E)).link:null)||E||g||p||y}(p);try{return new Xt(g)}catch(E){return null}}}let Wi=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,E){return Ma._fromEmailAndPassword(g,E)}static credentialWithLink(g,E){const T=Xt.parseLink(E);return Se(T,"argument-error"),Ma._fromEmailAndCode(g,T.code,T.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class xi{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Kt extends xi{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Uo extends Kt{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return Se("providerId"in g&&"signInMethod"in g,"argument-error"),Cr._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Se(p.idToken||p.accessToken,"argument-error"),Cr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Uo.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Uo.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:E,oauthTokenSecret:T,pendingToken:R,nonce:$,providerId:oe}=p;if(!E&&!T&&!g&&!R||!oe)return null;try{return new Uo(oe)._credential({idToken:g,accessToken:E,nonce:$,pendingToken:R})}catch(Pe){return null}}}let wl=(()=>{class y extends Kt{constructor(){super("facebook.com")}static credential(g){return Cr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(E){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),uo=(()=>{class y extends Kt{constructor(){super("google.com"),this.addScope("profile")}static credential(g,E){return Cr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:E})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:E,oauthAccessToken:T}=g;if(!E&&!T)return null;try{return y.credential(E,T)}catch(R){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Qr=(()=>{class y extends Kt{constructor(){super("github.com")}static credential(g){return Cr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(E){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Fs extends Ia{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Yr(p,this.buildRequest())}_linkToIdToken(p,g){const E=this.buildRequest();return E.idToken=g,Yr(p,E)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Yr(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:T,pendingToken:R}=g;return E&&T&&R&&E===T?new Fs(E,R):null}static _create(p,g){return new Fs(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ur extends xi{constructor(p){Se(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return ur.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return ur.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Fs.fromJSON(p);return Se(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:E}=p;if(!g||!E)return null;try{return Fs._create(E,g)}catch(T){return null}}}let Cl=(()=>{class y extends Kt{constructor(){super("twitter.com")}static credential(g,E){return Cr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:E})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:E,oauthTokenSecret:T}=g;if(!E||!T)return null;try{return y.credential(E,T)}catch(R){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Dl(y,p){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,u.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signUp",Yt(y,p))})).apply(this,arguments)}class Sn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,E,T=!1){return(0,u.Z)(function*(){const R=yield Kr._fromIdTokenResponse(p,E,T),$=Ra(E);return new Sn({user:R,providerId:$,_tokenResponse:E,operationType:g})})()}static _forOperation(p,g,E){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const T=Ra(E);return new Sn({user:p,providerId:T,_tokenResponse:E,operationType:g})})()}}function Ra(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function it(){return(it=(0,u.Z)(function*(y){var p;const g=un(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new Sn({user:g.currentUser,providerId:null,operationType:"signIn"});const E=yield Dl(g,{returnSecureToken:!0}),T=yield Sn._fromIdTokenResponse(g,"signIn",E,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class Il extends F.ZR{constructor(p,g,E,T){var R;super(g.code,g.message),this.operationType=E,this.user=T,Object.setPrototypeOf(this,Il.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,g,E,T){return new Il(p,g,E,T)}}function fd(y,p,g,E){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Il._fromErrorAndOperation(y,R,p,E):R})}function Tl(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Oa(){return(Oa=(0,u.Z)(function*(y,p){const g=(0,F.m9)(y);yield Ce(!0,g,p);const{providerUserInfo:E}=yield Dn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),T=Tl(E||[]);return g.providerData=g.providerData.filter(R=>T.has(R.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Bc(y,p){return ds.apply(this,arguments)}function ds(){return(ds=(0,u.Z)(function*(y,p,g=!1){const E=yield di(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return Sn._forOperation(y,"link",E)})).apply(this,arguments)}function Ce(y,p,g){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,u.Z)(function*(y,p,g){yield ao(p);const T=!1===y?"provider-already-linked":"no-such-provider";Se(Tl(p.providerData).has(g)===y,p.auth,T)})).apply(this,arguments)}function Sl(y,p){return rn.apply(this,arguments)}function rn(){return(rn=(0,u.Z)(function*(y,p,g=!1){const{auth:E}=y,T="reauthenticate";try{const R=yield di(y,fd(E,T,p,y),g);Se(R.idToken,E,"internal-error");const $=oo(R.idToken);Se($,E,"internal-error");const{sub:oe}=$;return Se(y.uid===oe,E,"user-mismatch"),Sn._forOperation(y,T,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&Ft(E,"user-mismatch"),R}})).apply(this,arguments)}function Al(y,p){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,u.Z)(function*(y,p,g=!1){const E="signIn",T=yield fd(y,E,p),R=yield Sn._fromIdTokenResponse(y,E,T);return g||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Dr(y,p){return jo.apply(this,arguments)}function jo(){return(jo=(0,u.Z)(function*(y,p){return Al(un(y),p)})).apply(this,arguments)}function Pa(y,p){return gd.apply(this,arguments)}function gd(){return(gd=(0,u.Z)(function*(y,p){const g=(0,F.m9)(y);return yield Ce(!1,g,p.providerId),Bc(g,p)})).apply(this,arguments)}function Uc(y,p){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,u.Z)(function*(y,p){return Sl((0,F.m9)(y),p)})).apply(this,arguments)}function Go(y,p){return An.apply(this,arguments)}function An(){return(An=(0,u.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithCustomToken",Yt(y,p))})).apply(this,arguments)}function Na(){return(Na=(0,u.Z)(function*(y,p){const g=un(y),E=yield Go(g,{token:p,returnSecureToken:!0}),T=yield Sn._fromIdTokenResponse(g,"signIn",E);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class gi{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Ir._fromServerResponse(p,g):Ft(p,"internal-error")}}class Ir extends gi{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Ir(g)}}function jc(y,p,g){var E;Se((null===(E=g.url)||void 0===E?void 0:E.length)>0,y,"invalid-continue-uri"),Se(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Se(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(Se(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Fa(){return(Fa=(0,u.Z)(function*(y,p,g){const E=(0,F.m9)(y),T={requestType:"PASSWORD_RESET",email:p};g&&jc(E,T,g),yield _g(E,T)})).apply(this,arguments)}function La(){return(La=(0,u.Z)(function*(y,p,g){yield od((0,F.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function xl(){return(xl=(0,u.Z)(function*(y,p){yield gg((0,F.m9)(y),{oobCode:p})})).apply(this,arguments)}function $o(y,p){return zo.apply(this,arguments)}function zo(){return(zo=(0,u.Z)(function*(y,p){const g=(0,F.m9)(y),E=yield od(g,{oobCode:p}),T=E.requestType;switch(Se(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Se(E.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Se(E.mfaInfo,g,"internal-error");default:Se(E.email,g,"internal-error")}let R=null;return E.mfaInfo&&(R=gi._fromServerResponse(un(g),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:R},operation:T}})).apply(this,arguments)}function ho(){return(ho=(0,u.Z)(function*(y,p){const{data:g}=yield $o((0,F.m9)(y),p);return g.email})).apply(this,arguments)}function $c(){return($c=(0,u.Z)(function*(y,p,g){const E=un(y),T=yield Dl(E,{returnSecureToken:!0,email:p,password:g}),R=yield Sn._fromIdTokenResponse(E,"signIn",T);return yield E._updateCurrentUser(R.user),R})).apply(this,arguments)}function hs(){return(hs=(0,u.Z)(function*(y,p,g){const E=(0,F.m9)(y),T={requestType:"EMAIL_SIGNIN",email:p};Se(g.handleCodeInApp,E,"argument-error"),g&&jc(E,T,g),yield ud(E,T)})).apply(this,arguments)}function qn(){return(qn=(0,u.Z)(function*(y,p,g){const E=(0,F.m9)(y),T=Wi.credentialWithLink(p,g||tt());return Se(T._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Dr(E,T)})).apply(this,arguments)}function qo(y,p){return vn.apply(this,arguments)}function vn(){return(vn=(0,u.Z)(function*(y,p){return ft(y,"POST","/v1/accounts:createAuthUri",Yt(y,p))})).apply(this,arguments)}function ef(){return(ef=(0,u.Z)(function*(y,p){const E={identifier:p,continueUri:nt()?tt():"http://localhost"},{signinMethods:T}=yield qo((0,F.m9)(y),E);return T||[]})).apply(this,arguments)}function Wo(){return(Wo=(0,u.Z)(function*(y,p){const g=(0,F.m9)(y),T={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&jc(g.auth,T,p);const{email:R}=yield mg(g.auth,T);R!==y.email&&(yield y.reload())})).apply(this,arguments)}function Bs(){return(Bs=(0,u.Z)(function*(y,p,g){const E=(0,F.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&jc(E.auth,R,g);const{email:$}=yield yl(E.auth,R);$!==y.email&&(yield y.reload())})).apply(this,arguments)}function Rl(y,p){return Us.apply(this,arguments)}function Us(){return(Us=(0,u.Z)(function*(y,p){return ft(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function bn(){return(bn=(0,u.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const E=(0,F.m9)(y),R={idToken:yield E.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},$=yield di(E,Rl(E.auth,R));E.displayName=$.displayName||null,E.photoURL=$.photoUrl||null;const oe=E.providerData.find(({providerId:Pe})=>"password"===Pe);oe&&(oe.displayName=E.displayName,oe.photoURL=E.photoURL),yield E._updateTokensIfNecessary($)})).apply(this,arguments)}function fs(y,p,g){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,u.Z)(function*(y,p,g){const{auth:E}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(R.email=p),g&&(R.password=g);const $=yield di(y,Yh(E,R));yield y._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class Yo{constructor(p,g,E={}){this.isNewUser=p,this.providerId=g,this.profile=E}}class js extends Yo{constructor(p,g,E,T){super(p,g,E),this.username=T}}class Wc extends Yo{constructor(p,g){super(p,"facebook.com",g)}}class Kc extends js{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Eg extends Yo{constructor(p,g){super(p,"google.com",g)}}class wg extends js{constructor(p,g,E){super(p,"twitter.com",g,E)}}function Ri(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(y){var p,g;if(!y)return null;const{providerId:E}=y,T=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!E&&(null==y?void 0:y.idToken)){const $=null===(g=null===(p=oo(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if($)return new Yo(R,"anonymous"!==$&&"custom"!==$?$:null)}if(!E)return null;switch(E){case"facebook.com":return new Wc(R,T);case"github.com":return new Kc(R,T);case"google.com":return new Eg(R,T);case"twitter.com":return new wg(R,T,y.screenName||null);case"custom":case"anonymous":return new Yo(R,null);default:return new Yo(R,E,T)}}(g)}class Jr{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new Jr("enroll",p)}static _fromMfaPendingCredential(p){return new Jr("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,E;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Jr._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(E=p.multiFactorSession)||void 0===E?void 0:E.idToken)return Jr._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Ua{constructor(p,g,E){this.session=p,this.hints=g,this.signInResolver=E}static _fromError(p,g){const E=un(p),T=g.customData._serverResponse,R=(T.mfaInfo||[]).map(oe=>gi._fromServerResponse(E,oe));Se(T.mfaPendingCredential,E,"internal-error");const $=Jr._fromMfaPendingCredential(T.mfaPendingCredential);return new Ua($,R,function(){var oe=(0,u.Z)(function*(Pe){const Re=yield Pe._process(E,$);delete T.mfaInfo,delete T.mfaPendingCredential;const qe=Object.assign(Object.assign({},T),{idToken:Re.idToken,refreshToken:Re.refreshToken});switch(g.operationType){case"signIn":const Ze=yield Sn._fromIdTokenResponse(E,g.operationType,qe);return yield E._updateCurrentUser(Ze.user),Ze;case"reauthenticate":return Se(g.user,E,"internal-error"),Sn._forOperation(g.user,g.operationType,qe);default:Ft(E,"internal-error")}});return function(Pe){return oe.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,u.Z)(function*(){return g.signInResolver(p)})()}}function Ay(y,p){return ft(y,"POST","/v2/accounts/mfaEnrollment:start",Yt(y,p))}class Dd{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(E=>gi._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new Dd(p)}getSession(){var p=this;return(0,u.Z)(function*(){return Jr._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var E=this;return(0,u.Z)(function*(){const T=p,R=yield E.getSession(),$=yield di(E.user,T._process(E.user.auth,R,g));return yield E.user._updateTokensIfNecessary($),E.user.reload()})()}unenroll(p){var g=this;return(0,u.Z)(function*(){const E="string"==typeof p?p:p.uid,T=yield g.user.getIdToken(),R=yield di(g.user,function(y,p){return ft(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Yt(y,p))}(g.user.auth,{idToken:T,mfaEnrollmentId:E}));g.enrolledFactors=g.enrolledFactors.filter(({uid:$})=>$!==E),yield g.user._updateTokensIfNecessary(R);try{yield g.user.reload()}catch($){if("auth/user-token-expired"!==$.code)throw $}})()}}const Ol=new WeakMap,fo="__sak";class Zt{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(fo,"1"),this.storage.removeItem(fo),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const sn=(()=>{class y extends Zt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,E)=>this.onStorageEvent(g,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=(0,F.z$)();return tr(y)||Fo(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=cs(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const E of Object.keys(this.listeners)){const T=this.storage.getItem(E),R=this.localCache[E];T!==R&&g(E,R,T)}}onStorageEvent(g,E=!1){if(!g.key)return void this.forAllChangedKeys((oe,Pe,Re)=>{this.notifyListeners(oe,Re)});const T=g.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const oe=this.storage.getItem(T);if(g.newValue!==oe)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!E)return}const R=()=>{const oe=this.storage.getItem(T);!E&&this.localCache[T]===oe||this.notifyListeners(T,oe)},$=this.storage.getItem(T);(0,F.w1)()&&10===document.documentMode&&$!==g.newValue&&g.newValue!==g.oldValue?setTimeout(R,10):R()}notifyListeners(g,E){this.localCache[g]=E;const T=this.listeners[g];if(T)for(const R of Array.from(T))R(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,E,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:E,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,E){var T=()=>super._set,R=this;return(0,u.Z)(function*(){yield T().call(R,g,E),R.localCache[g]=JSON.stringify(E)})()}_get(g){var E=()=>super._get,T=this;return(0,u.Z)(function*(){const R=yield E().call(T,g);return T.localCache[g]=JSON.stringify(R),R})()}_remove(g){var E=()=>super._remove,T=this;return(0,u.Z)(function*(){yield E().call(T,g),delete T.localCache[g]})()}}return y.type="LOCAL",y})(),Ge=(()=>{class y extends Zt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,E){}_removeListener(g,E){}}return y.type="SESSION",y})();let Tr=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const E=this.receivers.find(R=>R.isListeningto(g));if(E)return E;const T=new y(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var E=this;return(0,u.Z)(function*(){const T=g,{eventId:R,eventType:$,data:oe}=T.data,Pe=E.handlersMap[$];if(!(null==Pe?void 0:Pe.size))return;T.ports[0].postMessage({status:"ack",eventId:R,eventType:$});const Re=Array.from(Pe).map(function(){var Ze=(0,u.Z)(function*(Tt){return Tt(T.origin,oe)});return function(Tt){return Ze.apply(this,arguments)}}()),qe=yield function(y){return Promise.all(y.map(function(){var p=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(E){return{fulfilled:!1,reason:E}}});return function(g){return p.apply(this,arguments)}}()))}(Re);T.ports[0].postMessage({status:"done",eventId:R,eventType:$,response:qe})})()}_subscribe(g,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(E)}_unsubscribe(g,E){this.handlersMap[g]&&E&&this.handlersMap[g].delete(E),(!E||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Yi(y="",p=10){let g="";for(let E=0;E<p;E++)g+=Math.floor(10*Math.random());return y+g}class Ga{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,E=50){var T=this;return(0,u.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let $,oe;return new Promise((Pe,Re)=>{const qe=Yi("",20);R.port1.start();const Ze=setTimeout(()=>{Re(new Error("unsupported_event"))},E);oe={messageChannel:R,onMessage(Tt){const Kn=Tt;if(Kn.data.eventId===qe)switch(Kn.data.status){case"ack":clearTimeout(Ze),$=setTimeout(()=>{Re(new Error("timeout"))},3e3);break;case"done":clearTimeout($),Pe(Kn.data.response);break;default:clearTimeout(Ze),clearTimeout($),Re(new Error("invalid_response"))}}},T.handlers.add(oe),R.port1.addEventListener("message",oe.onMessage),T.target.postMessage({eventType:p,eventId:qe,data:g},[R.port2])}).finally(()=>{oe&&T.removeMessageHandler(oe)})})()}}function gt(){return window}function Gs(){return void 0!==gt().WorkerGlobalScope&&"function"==typeof gt().importScripts}function Nl(){return(Nl=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const ms="firebaseLocalStorageDb",ki="firebaseLocalStorage",za="fbase_key";class $s{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function _s(y,p){return y.transaction([ki],p?"readwrite":"readonly").objectStore(ki)}function Sr(){const y=indexedDB.open(ms,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const E=y.result;try{E.createObjectStore(ki,{keyPath:za})}catch(T){g(T)}}),y.addEventListener("success",(0,u.Z)(function*(){const E=y.result;E.objectStoreNames.contains(ki)?p(E):(E.close(),yield function(){const y=indexedDB.deleteDatabase(ms);return new $s(y).toPromise()}(),p(yield Sr()))}))})}function Td(y,p,g){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,u.Z)(function*(y,p,g){const E=_s(y,!0).put({[za]:p,value:g});return new $s(E).toPromise()})).apply(this,arguments)}function dn(){return(dn=(0,u.Z)(function*(y,p){const g=_s(y,!1).get(p),E=yield new $s(g).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Ad(y,p){const g=_s(y,!0).delete(p);return new $s(g).toPromise()}const Fl=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield Sr()),g.db})()}_withRetries(g){var E=this;return(0,u.Z)(function*(){let T=0;for(;;)try{const R=yield E._openDb();return yield g(R)}catch(R){if(T++>3)throw R;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return Gs()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=Tr._getInstance(Gs()?self:null),g.receiver._subscribe("keyChanged",function(){var E=(0,u.Z)(function*(T,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(T,R){return E.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var E=(0,u.Z)(function*(T,R){return["keyChanged"]});return function(T,R){return E.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var E,T;if(g.activeServiceWorker=yield function(){return Nl.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Ga(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);!R||(null===(E=R[0])||void 0===E?void 0:E.fulfilled)&&(null===(T=R[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var E=this;return(0,u.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:g},E.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Sr();return yield Td(g,fo,"1"),yield Ad(g,fo),!0}catch(g){}return!1})()}_withPendingWrite(g){var E=this;return(0,u.Z)(function*(){E.pendingWrites++;try{yield g()}finally{E.pendingWrites--}})()}_set(g,E){var T=this;return(0,u.Z)(function*(){return T._withPendingWrite((0,u.Z)(function*(){return yield T._withRetries(R=>Td(R,g,E)),T.localCache[g]=E,T.notifyServiceWorker(g)}))})()}_get(g){var E=this;return(0,u.Z)(function*(){const T=yield E._withRetries(R=>function(y,p){return dn.apply(this,arguments)}(R,g));return E.localCache[g]=T,T})()}_remove(g){var E=this;return(0,u.Z)(function*(){return E._withPendingWrite((0,u.Z)(function*(){return yield E._withRetries(T=>Ad(T,g)),delete E.localCache[g],E.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const E=yield g._withRetries($=>{const oe=_s($,!1).getAll();return new $s(oe).toPromise()});if(!E)return[];if(0!==g.pendingWrites)return[];const T=[],R=new Set;for(const{fbase_key:$,value:oe}of E)R.add($),JSON.stringify(g.localCache[$])!==JSON.stringify(oe)&&(g.notifyListeners($,oe),T.push($));for(const $ of Object.keys(g.localCache))g.localCache[$]&&!R.has($)&&(g.notifyListeners($,null),T.push($));return T})()}notifyListeners(g,E){this.localCache[g]=E;const T=this.listeners[g];if(T)for(const R of Array.from(T))R(E)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Cg(y,p){return ft(y,"POST","/v2/accounts/mfaSignIn:start",Yt(y,p))}function Rd(){return(Rd=(0,u.Z)(function*(y){return(yield ft(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Jo(y){return new Promise((p,g)=>{const E=document.createElement("script");E.setAttribute("src",y),E.onload=p,E.onerror=T=>{const R=yn("internal-error");R.customData=T,g(R)},E.type="text/javascript",E.charset="UTF-8",function(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(E)})}function dr(y){return`__${y}${Math.floor(1e6*Math.random())}`}const En=1e12;class Xo{constructor(p){this.auth=p,this.counter=En,this._widgets=new Map}render(p,g){const E=this.counter;return this._widgets.set(E,new xy(p,this.auth.name,g||{})),this.counter++,E}reset(p){var g;const E=p||En;null===(g=this._widgets.get(E))||void 0===g||g.delete(),this._widgets.delete(E)}getResponse(p){var g;return(null===(g=this._widgets.get(p||En))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,u.Z)(function*(){var E;return null===(E=g._widgets.get(p||En))||void 0===E||E.execute(),""})()}}class xy{constructor(p,g,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof p?document.getElementById(p):p;Se(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<50;E++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}();const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xr=dr("rcb"),Ni=new qt(3e4,6e4);class Mr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!gt().grecaptcha}load(p,g=""){return Se((y=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(gt().grecaptcha):new Promise((E,T)=>{const R=gt().setTimeout(()=>{T(yn(p,"network-request-failed"))},Ni.get());gt()[Xr]=()=>{gt().clearTimeout(R),delete gt()[Xr];const oe=gt().grecaptcha;if(!oe)return void T(yn(p,"internal-error"));const Pe=oe.render;oe.render=(Re,qe)=>{const Ze=Pe(Re,qe);return this.counter++,Ze},this.hostLanguage=g,E(oe)},Jo(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:Xr,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),T(yn(p,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!gt().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Od{load(p){return(0,u.Z)(function*(){return new Xo(p)})()}clearedOneInstance(){}}const Fi="recaptcha",rr={theme:"light",type:"image"};class Ig{constructor(p,g=Object.assign({},rr),E){this.parameters=g,this.type=Fi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=un(E),this.isInvisible="invisible"===this.parameters.size,Se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof p?document.getElementById(p):p;Se(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Od:new Mr,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(g)||new Promise(R=>{const $=oe=>{!oe||(p.tokenChangeListeners.delete($),R(oe))};p.tokenChangeListeners.add($),p.isInvisible&&E.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Se(!this.parameters.sitekey,this.auth,"argument-error"),Se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(E=>E(g)),"function"==typeof p)p(g);else if("string"==typeof p){const E=gt()[p];"function"==typeof E&&E(g)}}}assertNotDestroyed(){Se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const E=document.createElement("div");g.appendChild(E),g=E}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){Se(nt()&&!Gs(),p.auth,"internal-error"),yield function(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function(y){return Rd.apply(this,arguments)}(p.auth);Se(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return Se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Jc{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=co._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function po(){return(po=(0,u.Z)(function*(y,p,g){const E=un(y),T=yield S(E,p,(0,F.m9)(g));return new Jc(T,R=>Dr(E,R))})).apply(this,arguments)}function Pd(){return(Pd=(0,u.Z)(function*(y,p,g){const E=(0,F.m9)(y);yield Ce(!1,E,"phone");const T=yield S(E.auth,p,(0,F.m9)(g));return new Jc(T,R=>Pa(E,R))})).apply(this,arguments)}function D(){return(D=(0,u.Z)(function*(y,p,g){const E=(0,F.m9)(y),T=yield S(E.auth,p,(0,F.m9)(g));return new Jc(T,R=>Uc(E,R))})).apply(this,arguments)}function S(y,p,g){return k.apply(this,arguments)}function k(){return(k=(0,u.Z)(function*(y,p,g){var E;const T=yield g.verify();try{let R;if(Se("string"==typeof T,y,"argument-error"),Se(g.type===Fi,y,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const $=R.session;if("phoneNumber"in R)return Se("enroll"===$.type,y,"internal-error"),(yield Ay(y,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{Se("signin"===$.type,y,"internal-error");const oe=(null===(E=R.multiFactorHint)||void 0===E?void 0:E.uid)||R.multiFactorUid;return Se(oe,y,"missing-multi-factor-info"),(yield Cg(y,{mfaPendingCredential:$.credential,mfaEnrollmentId:oe,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield qi(y,{phoneNumber:R.phoneNumber,recaptchaToken:T});return $}}finally{g._reset()}})).apply(this,arguments)}function ee(){return(ee=(0,u.Z)(function*(y,p){yield Bc((0,F.m9)(y),p)})).apply(this,arguments)}let he=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=un(g)}verifyPhoneNumber(g,E){return S(this.auth,g,(0,F.m9)(E))}static credential(g,E){return co._fromVerification(g,E)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:E,temporaryProof:T}=g;return E&&T?co._fromTokenResponse(E,T):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function De(y,p){return p?Gt(p):(Se(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Be extends Ia{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Yr(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Yr(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Yr(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Ue(y){return Al(y.auth,new Be(y),y.bypassAuthState)}function xt(y){const{auth:p,user:g}=y;return Se(g,p,"internal-error"),Sl(g,new Be(y),y.bypassAuthState)}function Ot(y){return fn.apply(this,arguments)}function fn(){return(fn=(0,u.Z)(function*(y){const{auth:p,user:g}=y;return Se(g,p,"internal-error"),Bc(g,new Be(y),y.bypassAuthState)})).apply(this,arguments)}class jn{constructor(p,g,E,T,R=!1){this.auth=p,this.resolver=E,this.user=T,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,u.Z)(function*(E,T){p.pendingPromise={resolve:E,reject:T};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(E,T){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,u.Z)(function*(){const{urlResponse:E,sessionId:T,postBody:R,tenantId:$,error:oe,type:Pe}=p;if(oe)return void g.reject(oe);const Re={auth:g.auth,requestUri:E,sessionId:T,tenantId:$||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Pe)(Re))}catch(qe){g.reject(qe)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ue;case"linkViaPopup":case"linkViaRedirect":return Ot;case"reauthViaPopup":case"reauthViaRedirect":return xt;default:Ft(this.auth,"internal-error")}}resolve(p){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Wn=new qt(2e3,1e4);function vs(){return(vs=(0,u.Z)(function*(y,p,g){const E=un(y);Di(y,p,xi);const T=De(E,g);return new Xc(E,"signInViaPopup",p,T).executeNotNull()})).apply(this,arguments)}function ei(){return(ei=(0,u.Z)(function*(y,p,g){const E=(0,F.m9)(y);Di(E.auth,p,xi);const T=De(E.auth,g);return new Xc(E.auth,"reauthViaPopup",p,T,E).executeNotNull()})).apply(this,arguments)}function kn(){return(kn=(0,u.Z)(function*(y,p,g){const E=(0,F.m9)(y);Di(E.auth,p,xi);const T=De(E.auth,g);return new Xc(E.auth,"linkViaPopup",p,T,E).executeNotNull()})).apply(this,arguments)}let Xc=(()=>{class y extends jn{constructor(g,E,T,R,$){super(g,E,R,$),this.provider=T,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const E=yield g.execute();return Se(E,g.auth,"internal-error"),E})()}onExecution(){var g=this;return(0,u.Z)(function*(){Bn(1===g.filter.length,"Popup operations only handle one event");const E=Yi();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],E),g.authWindow.associatedEvent=E,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(yn(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var E,T;this.pollId=(null===(T=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Wn.get())};g()}}return y.currentPopupAction=null,y})();const eu=new Map;class Ws extends jn{constructor(p,g,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,u.Z)(function*(){let E=eu.get(g.auth._key());if(!E){try{const R=(yield function(y,p){return bs.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;E=()=>Promise.resolve(R)}catch(T){E=()=>Promise.reject(T)}eu.set(g.auth._key(),E)}return g.bypassAuthState||eu.set(g.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,E=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(E,p);if("unknown"!==p.type){if(p.eventId){const T=yield E.auth._redirectUserForId(p.eventId);if(T)return E.user=T,g().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function bs(){return(bs=(0,u.Z)(function*(y,p){const g=Bl(p),E=Mw(y);if(!(yield E._isAvailable()))return!1;const T="true"===(yield E._get(g));return yield E._remove(g),T})).apply(this,arguments)}function uf(y,p){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,u.Z)(function*(y,p){return Mw(y)._set(Bl(p),"true")})).apply(this,arguments)}function Mw(y){return Gt(y._redirectPersistence)}function Bl(y){return Vr("pendingRedirect",y.config.apiKey,y.name)}function go(){return(go=(0,u.Z)(function*(y,p,g){const E=un(y);Di(y,p,xi);const T=De(E,g);return yield uf(T,E),T._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function tu(){return(tu=(0,u.Z)(function*(y,p,g){const E=(0,F.m9)(y);Di(E.auth,p,xi);const T=De(E.auth,g);yield uf(T,E.auth);const R=yield Ry(E);return T._openRedirect(E.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function hf(){return(hf=(0,u.Z)(function*(y,p,g){const E=(0,F.m9)(y);Di(E.auth,p,xi);const T=De(E.auth,g);yield Ce(!1,E,p.providerId),yield uf(T,E.auth);const R=yield Ry(E);return T._openRedirect(E.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function ra(){return(ra=(0,u.Z)(function*(y,p){return yield un(y)._initializationPromise,Zi(y,p,!1)})).apply(this,arguments)}function Zi(y,p){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,u.Z)(function*(y,p,g=!1){const E=un(y),T=De(E,p),$=yield new Ws(E,T,g).execute();return $&&!g&&(delete $.user._redirectEventId,yield E._persistUserIfCurrent($.user),yield E._setRedirectUser(null,p)),$})).apply(this,arguments)}function Ry(y){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,u.Z)(function*(y){const p=Yi(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Oy{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(g=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ff(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var E;if(p.error&&!ff(p)){const T=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";g.onError(yn(this.auth,T))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const E=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xg(p))}saveEventToCache(p){this.cachedEventUids.add(xg(p)),this.lastProcessedEventTime=Date.now()}}function xg(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function ff({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function qa(y){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,u.Z)(function*(y,p={}){return ft(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Wa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kw=/^https?/;function Py(){return(Py=(0,u.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield qa(y);for(const g of p)try{if(pf(g))return}catch(E){}Ft(y,"unauthorized-domain")})).apply(this,arguments)}function pf(y){const p=tt(),{protocol:g,hostname:E}=new URL(p);if(y.startsWith("chrome-extension://")){const $=new URL(y);return""===$.hostname&&""===E?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&$.hostname===E}if(!kw.test(g))return!1;if(Wa.test(y))return E===y;const T=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(E)}const gf=new qt(3e4,6e4);function mf(){const y=gt().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let ru=null;function jl(y){return ru=ru||function(y){return new Promise((p,g)=>{var E,T,R;function $(){mf(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{mf(),g(yn(y,"network-request-failed"))},timeout:gf.get()})}if(null===(T=null===(E=gt().gapi)||void 0===E?void 0:E.iframes)||void 0===T?void 0:T.Iframe)p(gapi.iframes.getContext());else{if(!(null===(R=gt().gapi)||void 0===R?void 0:R.load)){const oe=dr("iframefcb");return gt()[oe]=()=>{gapi.load?$():g(yn(y,"network-request-failed"))},Jo(`https://apis.google.com/js/api.js?onload=${oe}`)}$()}}).catch(p=>{throw ru=null,p})}(y),ru}const Pw=new qt(5e3,15e3),Nw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ia(y){const p=y.config;Se(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?Fe(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,E={apiKey:p.apiKey,appName:y.name,v:pe.SDK_VERSION},T=Fw.get(y.config.apiHost);T&&(E.eid=T);const R=y._getFrameworks();return R.length&&(E.fw=R.join(",")),`${g}?${(0,F.xO)(E).slice(1)}`}function _f(){return(_f=(0,u.Z)(function*(y){const p=yield jl(y),g=gt().gapi;return Se(g,y,"internal-error"),p.open({where:document.body,url:ia(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nw,dontclear:!0},E=>new Promise(function(){var T=(0,u.Z)(function*(R,$){yield E.restyle({setHideOnLeave:!1});const oe=yn(y,"network-request-failed"),Pe=gt().setTimeout(()=>{$(oe)},Pw.get());function Re(){gt().clearTimeout(Pe),R(E)}E.ping(Re).then(Re,()=>{$(oe)})});return function(R,$){return T.apply(this,arguments)}}()))})).apply(this,arguments)}const Lw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Og{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Fy(y,p,g,E,T,R){Se(y.config.authDomain,y,"auth-domain-config-required"),Se(y.config.apiKey,y,"invalid-api-key");const $={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:E,v:pe.SDK_VERSION,eventId:T};if(p instanceof xi){p.setDefaultLanguage(y.languageCode),$.providerId=p.providerId||"",(0,F.xb)(p.getCustomParameters())||($.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Pe,Re]of Object.entries(R||{}))$[Pe]=Re}if(p instanceof Kt){const Pe=p.getScopes().filter(Re=>""!==Re);Pe.length>0&&($.scopes=Pe.join(","))}y.tenantId&&($.tid=y.tenantId);const oe=$;for(const Pe of Object.keys(oe))void 0===oe[Pe]&&delete oe[Pe];return`${function({config:y}){return y.emulator?Fe(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,F.xO)(oe).slice(1)}`}const Hl="webStorageSupport";class yf extends class{constructor(p){this.factorId=p}_process(p,g,E){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,E);case"signin":return this._finalizeSignIn(p,g.credential);default:return Xn("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new yf(p)}_finalizeEnroll(p,g,E){return function(y,p){return ft(y,"POST","/v2/accounts/mfaEnrollment:finalize",Yt(y,p))}(p,{idToken:g,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function(y,p){return ft(y,"POST","/v2/accounts/mfaSignIn:finalize",Yt(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Vy=(()=>{class y{constructor(){}static assertion(g){return yf._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var y,Pg="@firebase/auth";class TS{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(E=>{var T;p((null===(T=E)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function sa(){return window}function vf(){return(vf=(0,u.Z)(function*(y,p,g){var E;const{BuildInfo:T}=sa();Bn(p.sessionId,"AuthEvent did not contain a session ID");const R=yield Uy(p.sessionId),$={};return Fo()?$.ibi=T.packageName:wr()?$.apn=T.packageName:Ft(y,"operation-not-supported-in-this-environment"),T.displayName&&($.appDisplayName=T.displayName),$.sessionId=R,Fy(y,g,p.type,void 0,null!==(E=p.eventId)&&void 0!==E?E:void 0,$)})).apply(this,arguments)}function Fg(){return(Fg=(0,u.Z)(function*(y){const{BuildInfo:p}=sa(),g={};Fo()?g.iosBundleId=p.packageName:wr()?g.androidPackageName=p.packageName:Ft(y,"operation-not-supported-in-this-environment"),yield qa(y,g)})).apply(this,arguments)}function bf(){return(bf=(0,u.Z)(function*(y,p,g){const{cordova:E}=sa();let T=()=>{};try{yield new Promise((R,$)=>{let oe=null;function Pe(){var Ze;R();const Tt=null===(Ze=E.plugins.browsertab)||void 0===Ze?void 0:Ze.close;"function"==typeof Tt&&Tt(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Re(){oe||(oe=window.setTimeout(()=>{$(yn(y,"redirect-cancelled-by-user"))},2e3))}function qe(){"visible"===(null==document?void 0:document.visibilityState)&&Re()}p.addPassiveListener(Pe),document.addEventListener("resume",Re,!1),wr()&&document.addEventListener("visibilitychange",qe,!1),T=()=>{p.removePassiveListener(Pe),document.removeEventListener("resume",Re,!1),document.removeEventListener("visibilitychange",qe,!1),oe&&window.clearTimeout(oe)}})}finally{T()}})).apply(this,arguments)}function Uy(y){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,u.Z)(function*(y){const p=Qw(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Qw(y){if(Bn(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let E=0;E<y.length;E++)g[E]=y.charCodeAt(E);return g}y="Browser",(0,pe._registerComponent)(new Ye.wA("auth",(p,{options:g})=>{const E=p.getProvider("app").getImmediate(),{apiKey:T,authDomain:R}=E.options;return($=>{Se(T&&!T.includes(":"),"invalid-api-key",{appName:$.name}),Se(!(null==R?void 0:R.includes(":")),"argument-error",{appName:$.name});const oe={apiKey:T,authDomain:R,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nr(y)},Pe=new pg($,oe);return function(y,p){const g=(null==p?void 0:p.persistence)||[],E=(Array.isArray(g)?g:[g]).map(Gt);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(E,null==p?void 0:p.popupRedirectResolver)}(Pe,g),Pe})(E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,E)=>{p.getProvider("auth-internal").initialize()})),(0,pe._registerComponent)(new Ye.wA("auth-internal",p=>{const g=un(p.getProvider("auth").getImmediate());return new TS(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,pe.registerVersion)(Pg,"0.19.3",void 0),(0,pe.registerVersion)(Pg,"0.19.3","esm2017");class Jw extends Oy{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,u.Z)(function*(){yield p.initPromise})()}}function Lg(y){return Vg.apply(this,arguments)}function Vg(){return(Vg=(0,u.Z)(function*(y){const p=yield Bg()._get(Ug(y));return p&&(yield Bg()._remove(Ug(y))),p})).apply(this,arguments)}function tC(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const E=Math.floor(Math.random()*p.length);y.push(p.charAt(E))}return y.join("")}function Bg(){return Gt(sn)}function Ug(y){return Vr("authEvent",y.config.apiKey,y.name)}function Ka(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...g]=y.split("?");return(0,F.zd)(g.join("?"))}function Hg(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:yn("no-auth-event")}}function wf(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function $y(y=(0,F.z$)()){return!("file:"!==wf()&&"ionic:"!==wf()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Wy(){try{const y=self.localStorage,p=Yi();if(y)return y.setItem(p,"1"),y.removeItem(p),!function(y=(0,F.z$)()){return(0,F.w1)()&&11===(null==document?void 0:document.documentMode)||function(y=(0,F.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,F.hl)()}catch(y){return $g()&&(0,F.hl)()}return!1}function $g(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Cf(){return("http:"===wf()||"https:"===wf()||(0,F.ru)()||$y())&&!((0,F.b$)()||(0,F.UG)())&&Wy()&&!$g()}function Df(){return $y()&&"undefined"!=typeof document}function zg(){return(zg=(0,u.Z)(function*(){return!!Df()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Es={LOCAL:"local",NONE:"none",SESSION:"session"},su=Se,Ud="persistence";function qg(y){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,u.Z)(function*(y){yield y._initializationPromise;const p=Yy(),g=Vr(Ud,y.config.apiKey,y.name);(null==p?void 0:p.sessionStorage)&&p.sessionStorage.setItem(g,y._getPersistence())})).apply(this,arguments)}function Yy(){return"undefined"!=typeof window?window:null}const lC=Se;class Za{constructor(){this.browserResolver=Gt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ge,this._completeRedirectFn=Zi}_openPopup(p,g,E,T){var R=this;return(0,u.Z)(function*(){var $;Bn(null===($=R.eventManagers[p._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const oe=Fy(p,g,E,tt(),T);return function(y,p,g,E=500,T=600){const R=Math.max((window.screen.availHeight-T)/2,0).toString(),$=Math.max((window.screen.availWidth-E)/2,0).toString();let oe="";const Pe=Object.assign(Object.assign({},Lw),{width:E.toString(),height:T.toString(),top:R,left:$}),Re=(0,F.z$)().toLowerCase();g&&(oe=No(Re)?"_blank":g),Po(Re)&&(p=p||"http://localhost",Pe.scrollbars="yes");const qe=Object.entries(Pe).reduce((Tt,[Kn,mo])=>`${Tt}${Kn}=${mo},`,"");if(function(y=(0,F.z$)()){var p;return Fo(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Re)&&"_self"!==oe)return function(y,p){const g=document.createElement("a");g.href=y,g.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(E)}(p||"",oe),new Og(null);const Ze=window.open(p||"",oe,qe);Se(Ze,y,"popup-blocked");try{Ze.focus()}catch(Tt){}return new Og(Ze)}(p,oe,Yi())})()}_openRedirect(p,g,E,T){var R=this;return(0,u.Z)(function*(){return yield R._originValidation(p),y=Fy(p,g,E,tt(),T),gt().location.href=y,new Promise(()=>{});var y})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:T,promise:R}=this.eventManagers[g];return T?Promise.resolve(T):(Bn(R,"If manager is not set, promise should be"),R)}const E=this.initAndGetManager(p);return this.eventManagers[g]={promise:E},E}initAndGetManager(p){var g=this;return(0,u.Z)(function*(){const E=yield function(y){return _f.apply(this,arguments)}(p),T=new Oy(p);return E.register("authEvent",R=>(Se(null==R?void 0:R.authEvent,p,"invalid-auth-event"),{status:T.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:T},g.iframes[p._key()]=E,T})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Hl,{type:Hl},T=>{var R;const $=null===(R=null==T?void 0:T[0])||void 0===R?void 0:R[Hl];void 0!==$&&g(!!$),Ft(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(y){return Py.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return cs()||tr()||Fo()}}),this.cordovaResolver=Gt(class{constructor(){this._redirectPersistence=Ge,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Zi}_initialize(p){var g=this;return(0,u.Z)(function*(){const E=p._key();let T=g.eventManagers.get(E);return T||(T=new Jw(p),g.eventManagers.set(E,T),g.attachCallbackListeners(p,T)),T})()}_openPopup(p){Ft(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,E,T){var R=this;return(0,u.Z)(function*(){!function(y){var p,g,E,T,R,$,oe,Pe,Re,qe;const Ze=sa();Se("function"==typeof(null===(p=null==Ze?void 0:Ze.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Se(void 0!==(null===(g=null==Ze?void 0:Ze.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Se("function"==typeof(null===(R=null===(T=null===(E=null==Ze?void 0:Ze.cordova)||void 0===E?void 0:E.plugins)||void 0===T?void 0:T.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(Pe=null===(oe=null===($=null==Ze?void 0:Ze.cordova)||void 0===$?void 0:$.plugins)||void 0===oe?void 0:oe.browsertab)||void 0===Pe?void 0:Pe.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(qe=null===(Re=null==Ze?void 0:Ze.cordova)||void 0===Re?void 0:Re.InAppBrowser)||void 0===qe?void 0:qe.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const $=yield R._initialize(p);yield $.initialized(),$.resetRedirect(),eu.clear(),yield R._originValidation(p);const oe=function(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:tC(),postBody:null,tenantId:y.tenantId,error:yn(y,"no-auth-event")}}(p,E,T);yield function(y,p){return Bg()._set(Ug(y),p)}(p,oe);const Pe=yield function(y,p,g){return vf.apply(this,arguments)}(p,oe,g),Re=yield function(y){const{cordova:p}=sa();return new Promise(g=>{p.plugins.browsertab.isAvailable(E=>{let T=null;E?p.plugins.browsertab.openUrl(y):T=p.InAppBrowser.open(y,function(y=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(T)})})}(Pe);return function(y,p,g){return bf.apply(this,arguments)}(p,$,Re)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(y){return Fg.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:E,handleOpenURL:T,BuildInfo:R}=sa(),$=setTimeout((0,u.Z)(function*(){yield Lg(p),g.onEvent(Hg())}),500),oe=function(){var qe=(0,u.Z)(function*(Ze){clearTimeout($);const Tt=yield Lg(p);let Kn=null;Tt&&(null==Ze?void 0:Ze.url)&&(Kn=function(y,p){var g,E;const T=function(y){const p=Ka(y),g=p.link?decodeURIComponent(p.link):void 0,E=Ka(g).link,T=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Ka(T).link||T||E||g||y}(p);if(T.includes("/__/auth/callback")){const R=Ka(T),$=R.firebaseError?function(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(R.firebaseError)):null,oe=null===(E=null===(g=null==$?void 0:$.code)||void 0===g?void 0:g.split("auth/"))||void 0===E?void 0:E[1],Pe=oe?yn(oe):null;return Pe?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:T,postBody:null}}return null}(Tt,Ze.url)),g.onEvent(Kn||Hg())});return function(Tt){return qe.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,oe);const Pe=T,Re=`${R.packageName.toLowerCase()}://`;sa().handleOpenURL=function(){var qe=(0,u.Z)(function*(Ze){if(Ze.toLowerCase().startsWith(Re)&&oe({url:Ze}),"function"==typeof Pe)try{Pe(Ze)}catch(Tt){console.error(Tt)}});return function(Ze){return qe.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ge,this._completeRedirectFn=Zi}_initialize(p){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,E,T){var R=this;return(0,u.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,g,E,T)})()}_openRedirect(p,g,E,T){var R=this;return(0,u.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,g,E,T)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Df()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lC(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,u.Z)(function*(){if(p.underlyingResolver)return;const g=yield function(){return zg.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Zy(y){return y.unwrap()}function ws(y){return Jy(y)}function Jy(y){const{_tokenResponse:p}=y instanceof F.ZR?y.customData:y;if(!p)return null;if(!(y instanceof F.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return he.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let E;switch(g){case"google.com":E=uo;break;case"facebook.com":E=wl;break;case"github.com":E=Qr;break;case"twitter.com":E=Cl;break;default:const{oauthIdToken:T,oauthAccessToken:R,oauthTokenSecret:$,pendingToken:oe,nonce:Pe}=p;return R||$||T||oe?oe?g.startsWith("saml.")?Fs._create(g,oe):Cr._fromParams({providerId:g,signInMethod:g,pendingToken:oe,idToken:T,accessToken:R}):new Uo(g).credential({idToken:T,accessToken:R,rawNonce:Pe}):null}return y instanceof F.ZR?E.credentialFromError(y):E.credentialFromResult(y)}function Li(y,p){return p.catch(g=>{throw g instanceof F.ZR&&function(y,p){var g;const E=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new ev(y,function(y,p){var g;const E=(0,F.m9)(y),T=p;return Se(p.customData.operationType,E,"argument-error"),Se(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,E,"argument-error"),Ua._fromError(E,T)}(y,p));else if(E){const T=Jy(p),R=p;T&&(R.credential=T,R.tenantId=E.tenantId||void 0,R.email=E.email||void 0,R.phoneNumber=E.phoneNumber||void 0)}}(y,g),g}).then(g=>{const T=g.user;return{operationType:g.operationType,credential:ws(g),additionalUserInfo:Ri(g),user:oa.getOrCreate(T)}})}function Tf(y,p){return Xy.apply(this,arguments)}function Xy(){return(Xy=(0,u.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:E=>Li(y,g.confirm(E))}})).apply(this,arguments)}class ev{constructor(p,g){this.resolver=g,this.auth=function(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Li(Zy(this.auth),this.resolver.resolveSignIn(p))}}class oa{constructor(p){this._delegate=p,this.multiFactor=function(y){const p=(0,F.m9)(y);return Ol.has(p)||Ol.set(p,Dd._fromUser(p)),Ol.get(p)}(p)}static getOrCreate(p){return oa.USER_MAP.has(p)||oa.USER_MAP.set(p,new oa(p)),oa.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,u.Z)(function*(){return Li(g.auth,Pa(g._delegate,p))})()}linkWithPhoneNumber(p,g){var E=this;return(0,u.Z)(function*(){return Tf(E.auth,function(y,p,g){return Pd.apply(this,arguments)}(E._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,u.Z)(function*(){return Li(g.auth,function(y,p,g){return kn.apply(this,arguments)}(g._delegate,p,Za))})()}linkWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield qg(un(g.auth)),function(y,p,g){return function(y,p,g){return hf.apply(this,arguments)}(y,p,g)}(g._delegate,p,Za)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,u.Z)(function*(){return Li(g.auth,Uc(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Tf(this.auth,function(y,p,g){return D.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Li(this.auth,function(y,p,g){return ei.apply(this,arguments)}(this._delegate,p,Za))}reauthenticateWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield qg(un(g.auth)),function(y,p,g){return function(y,p,g){return tu.apply(this,arguments)}(y,p,g)}(g._delegate,p,Za)})()}sendEmailVerification(p){return function(y,p){return Wo.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,u.Z)(function*(){return yield function(y,p){return Oa.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function(y,p){return fs((0,F.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function(y,p){return fs((0,F.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function(y,p){return ee.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function(y,p){return bn.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function(y,p,g){return Bs.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}oa.USER_MAP=new WeakMap;const jd=Se;let tv=(()=>{class y{constructor(g,E){if(this.app=g,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=g.options;jd(T,"invalid-api-key",{appName:g.name});let R=[at];if("undefined"!=typeof window){R=function(y,p){const g=Yy();if(!(null==g?void 0:g.sessionStorage))return[];const E=Vr(Ud,y,p);switch(g.sessionStorage.getItem(E)){case Es.NONE:return[at];case Es.LOCAL:return[Fl,Ge];case Es.SESSION:return[Ge];default:return[]}}(T,g.name);for(const oe of[Fl,sn,Ge])R.includes(oe)||R.push(oe)}jd(T,"invalid-api-key",{appName:g.name});const $="undefined"!=typeof window?Za:void 0;this._delegate=E.initialize({options:{persistence:R,popupRedirectResolver:$}}),this._delegate._updateErrorMap(ro),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?oa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,E){!function(y,p,g){const E=un(y);Se(E._canInitEmulator,E,"emulator-config-failed"),Se(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const T=!!(null==g?void 0:g.disableWarnings),R=Da(p),{host:$,port:oe}=function(y){const p=Da(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const E=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(E);if(T){const R=T[1];return{host:R,port:Ai(E.substr(R.length+1))}}{const[R,$]=E.split(":");return{host:R,port:Ai($)}}}(p);E.config.emulator={url:`${R}//${$}${null===oe?"":`:${oe}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:$,port:oe,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,E)}applyActionCode(g){return function(y,p){return xl.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return $o(this._delegate,g)}confirmPasswordReset(g,E){return function(y,p,g){return La.apply(this,arguments)}(this._delegate,g,E)}createUserWithEmailAndPassword(g,E){var T=this;return(0,u.Z)(function*(){return Li(T._delegate,function(y,p,g){return $c.apply(this,arguments)}(T._delegate,g,E))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(y,p){return ef.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(y,p){const g=Xt.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,u.Z)(function*(){jd(Cf(),g._delegate,"operation-not-supported-in-this-environment");const E=yield function(y,p){return ra.apply(this,arguments)}(g._delegate,Za);return E?Li(g._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(y,p){un(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,E,T){const{next:R,error:$,complete:oe}=Gl(g,E,T);return this._delegate.onAuthStateChanged(R,$,oe)}onIdTokenChanged(g,E,T){const{next:R,error:$,complete:oe}=Gl(g,E,T);return this._delegate.onIdTokenChanged(R,$,oe)}sendSignInLinkToEmail(g,E){return function(y,p,g){return hs.apply(this,arguments)}(this._delegate,g,E)}sendPasswordResetEmail(g,E){return function(y,p,g){return Fa.apply(this,arguments)}(this._delegate,g,E||void 0)}setPersistence(g){var E=this;return(0,u.Z)(function*(){let T;switch(function(y,p){su(Object.values(Es).includes(p),y,"invalid-persistence-type"),(0,F.b$)()?su(p!==Es.SESSION,y,"unsupported-persistence-type"):(0,F.UG)()?su(p===Es.NONE,y,"unsupported-persistence-type"):$g()?su(p===Es.NONE||p===Es.LOCAL&&(0,F.hl)(),y,"unsupported-persistence-type"):su(p===Es.NONE||Wy(),y,"unsupported-persistence-type")}(E._delegate,g),g){case Es.SESSION:T=Ge;break;case Es.LOCAL:T=(yield Gt(Fl)._isAvailable())?Fl:sn;break;case Es.NONE:T=at;break;default:return Ft("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Li(this._delegate,function(y){return it.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Li(this._delegate,Dr(this._delegate,g))}signInWithCustomToken(g){return Li(this._delegate,function(y,p){return Na.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,E){return Li(this._delegate,function(y,p,g){return Dr((0,F.m9)(y),Wi.credential(p,g))}(this._delegate,g,E))}signInWithEmailLink(g,E){return Li(this._delegate,function(y,p,g){return qn.apply(this,arguments)}(this._delegate,g,E))}signInWithPhoneNumber(g,E){return Tf(this._delegate,function(y,p,g){return po.apply(this,arguments)}(this._delegate,g,E))}signInWithPopup(g){var E=this;return(0,u.Z)(function*(){return jd(Cf(),E._delegate,"operation-not-supported-in-this-environment"),Li(E._delegate,function(y,p,g){return vs.apply(this,arguments)}(E._delegate,g,Za))})()}signInWithRedirect(g){var E=this;return(0,u.Z)(function*(){return jd(Cf(),E._delegate,"operation-not-supported-in-this-environment"),yield qg(E._delegate),function(y,p,g){return function(y,p,g){return go.apply(this,arguments)}(y,p,g)}(E._delegate,g,Za)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(y,p){return ho.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Es,y})();function Gl(y,p,g){let E=y;"function"!=typeof y&&({next:E,error:p,complete:g}=y);const T=E;return{next:$=>T($&&oa.getOrCreate($)),error:p,complete:g}}class Cs{constructor(){this.providerId="phone",this._delegate=new he(Zy(re.Z.auth()))}static credential(p,g){return he.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}Cs.PHONE_SIGN_IN_METHOD=he.PHONE_SIGN_IN_METHOD,Cs.PROVIDER_ID=he.PROVIDER_ID;const RS=Se;class kS{constructor(p,g,E=re.Z.app()){var T;RS(null===(T=E.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new Ig(p,g,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(y){y.INTERNAL.registerComponent(new Ye.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),E=p.getProvider("auth");return new tv(g,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Wi,FacebookAuthProvider:wl,GithubAuthProvider:Qr,GoogleAuthProvider:uo,OAuthProvider:Uo,SAMLAuthProvider:ur,PhoneAuthProvider:Cs,PhoneMultiFactorGenerator:Vy,RecaptchaVerifier:kS,TwitterAuthProvider:Cl,Auth:tv,AuthCredential:Ia,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.3")}(re.Z)},6676:function(Qe,we){!function(L){"use strict";function u(ue){return Array.prototype.slice.call(ue)}function re(ue){return new Promise(function(q,de){ue.onsuccess=function(){q(ue.result)},ue.onerror=function(){de(ue.error)}})}function F(ue,q,de){var xe,ke=new Promise(function(ut,Rt){re(xe=ue[q].apply(ue,de)).then(ut,Rt)});return ke.request=xe,ke}function pe(ue,q,de){var xe=F(ue,q,de);return xe.then(function(ke){if(ke)return new B(ke,xe.request)})}function ae(ue,q,de){de.forEach(function(xe){Object.defineProperty(ue.prototype,xe,{get:function(){return this[q][xe]},set:function(ke){this[q][xe]=ke}})})}function X(ue,q,de,xe){xe.forEach(function(ke){ke in de.prototype&&(ue.prototype[ke]=function(){return F(this[q],ke,arguments)})})}function se(ue,q,de,xe){xe.forEach(function(ke){ke in de.prototype&&(ue.prototype[ke]=function(){return this[q][ke].apply(this[q],arguments)})})}function ne(ue,q,de,xe){xe.forEach(function(ke){ke in de.prototype&&(ue.prototype[ke]=function(){return pe(this[q],ke,arguments)})})}function te(ue){this._index=ue}function B(ue,q){this._cursor=ue,this._request=q}function K(ue){this._store=ue}function U(ue){this._tx=ue,this.complete=new Promise(function(q,de){ue.oncomplete=function(){q()},ue.onerror=function(){de(ue.error)},ue.onabort=function(){de(ue.error)}})}function ce(ue,q,de){this._db=ue,this.oldVersion=q,this.transaction=new U(de)}function _e(ue){this._db=ue}ae(te,"_index",["name","keyPath","multiEntry","unique"]),X(te,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ne(te,"_index",IDBIndex,["openCursor","openKeyCursor"]),ae(B,"_cursor",["direction","key","primaryKey","value"]),X(B,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(ue){ue in IDBCursor.prototype&&(B.prototype[ue]=function(){var q=this,de=arguments;return Promise.resolve().then(function(){return q._cursor[ue].apply(q._cursor,de),re(q._request).then(function(xe){if(xe)return new B(xe,q._request)})})})}),K.prototype.createIndex=function(){return new te(this._store.createIndex.apply(this._store,arguments))},K.prototype.index=function(){return new te(this._store.index.apply(this._store,arguments))},ae(K,"_store",["name","keyPath","indexNames","autoIncrement"]),X(K,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ne(K,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),se(K,"_store",IDBObjectStore,["deleteIndex"]),U.prototype.objectStore=function(){return new K(this._tx.objectStore.apply(this._tx,arguments))},ae(U,"_tx",["objectStoreNames","mode"]),se(U,"_tx",IDBTransaction,["abort"]),ce.prototype.createObjectStore=function(){return new K(this._db.createObjectStore.apply(this._db,arguments))},ae(ce,"_db",["name","version","objectStoreNames"]),se(ce,"_db",IDBDatabase,["deleteObjectStore","close"]),_e.prototype.transaction=function(){return new U(this._db.transaction.apply(this._db,arguments))},ae(_e,"_db",["name","version","objectStoreNames"]),se(_e,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(ue){[K,te].forEach(function(q){ue in q.prototype&&(q.prototype[ue.replace("open","iterate")]=function(){var de=u(arguments),xe=de[de.length-1],ke=this._store||this._index,ut=ke[ue].apply(ke,de.slice(0,-1));ut.onsuccess=function(){xe(ut.result)}})})}),[te,K].forEach(function(ue){ue.prototype.getAll||(ue.prototype.getAll=function(q,de){var xe=this,ke=[];return new Promise(function(ut){xe.iterateCursor(q,function(Rt){Rt?(ke.push(Rt.value),void 0===de||ke.length!=de?Rt.continue():ut(ke)):ut(ke)})})})}),L.openDb=function(ue,q,de){var xe=F(indexedDB,"open",[ue,q]),ke=xe.request;return ke&&(ke.onupgradeneeded=function(ut){de&&de(new ce(ke.result,ut.oldVersion,ke.transaction))}),xe.then(function(ut){return new _e(ut)})},L.deleteDb=function(ue){return F(indexedDB,"deleteDatabase",[ue])},Object.defineProperty(L,"__esModule",{value:!0})}(we)},7574:(Qe,we,L)=>{"use strict";L.d(we,{y:()=>K});var u=L(7393),F=L(9181),pe=L(6490),X=L(6554),se=L(4487);var B=L(2494);let K=(()=>{class ce{constructor(Te){this._isScalar=!1,Te&&(this._subscribe=Te)}lift(Te){const be=new ce;return be.source=this,be.operator=Te,be}subscribe(Te,be,ue){const{operator:q}=this,de=function(ce,_e,Te){if(ce){if(ce instanceof u.L)return ce;if(ce[F.b])return ce[F.b]()}return ce||_e||Te?new u.L(ce,_e,Te):new u.L(pe.c)}(Te,be,ue);if(de.add(q?q.call(de,this.source):this.source||B.v.useDeprecatedSynchronousErrorHandling&&!de.syncErrorThrowable?this._subscribe(de):this._trySubscribe(de)),B.v.useDeprecatedSynchronousErrorHandling&&de.syncErrorThrowable&&(de.syncErrorThrowable=!1,de.syncErrorThrown))throw de.syncErrorValue;return de}_trySubscribe(Te){try{return this._subscribe(Te)}catch(be){B.v.useDeprecatedSynchronousErrorHandling&&(Te.syncErrorThrown=!0,Te.syncErrorValue=be),function(ce){for(;ce;){const{closed:_e,destination:Te,isStopped:be}=ce;if(_e||be)return!1;ce=Te&&Te instanceof u.L?Te:null}return!0}(Te)?Te.error(be):console.warn(be)}}forEach(Te,be){return new(be=U(be))((ue,q)=>{let de;de=this.subscribe(xe=>{try{Te(xe)}catch(ke){q(ke),de&&de.unsubscribe()}},q,ue)})}_subscribe(Te){const{source:be}=this;return be&&be.subscribe(Te)}[X.L](){return this}pipe(...Te){return 0===Te.length?this:function(ce){return 0===ce.length?se.y:1===ce.length?ce[0]:function(Te){return ce.reduce((be,ue)=>ue(be),Te)}}(Te)(this)}toPromise(Te){return new(Te=U(Te))((be,ue)=>{let q;this.subscribe(de=>q=de,de=>ue(de),()=>be(q))})}}return ce.create=_e=>new ce(_e),ce})();function U(ce){if(ce||(ce=B.v.Promise||Promise),!ce)throw new Error("no Promise impl found");return ce}},6490:(Qe,we,L)=>{"use strict";L.d(we,{c:()=>F});var u=L(2494),re=L(4449);const F={closed:!0,next(pe){},error(pe){if(u.v.useDeprecatedSynchronousErrorHandling)throw pe;(0,re.z)(pe)},complete(){}}},9765:(Qe,we,L)=>{"use strict";L.d(we,{Yc:()=>se,xQ:()=>ne});var u=L(7574),re=L(7393),F=L(5319),pe=L(7971),ae=L(8858),X=L(9181);class se extends re.L{constructor(K){super(K),this.destination=K}}let ne=(()=>{class B extends u.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[X.b](){return new se(this)}lift(U){const ce=new te(this,this);return ce.operator=U,ce}next(U){if(this.closed)throw new pe.N;if(!this.isStopped){const{observers:ce}=this,_e=ce.length,Te=ce.slice();for(let be=0;be<_e;be++)Te[be].next(U)}}error(U){if(this.closed)throw new pe.N;this.hasError=!0,this.thrownError=U,this.isStopped=!0;const{observers:ce}=this,_e=ce.length,Te=ce.slice();for(let be=0;be<_e;be++)Te[be].error(U);this.observers.length=0}complete(){if(this.closed)throw new pe.N;this.isStopped=!0;const{observers:U}=this,ce=U.length,_e=U.slice();for(let Te=0;Te<ce;Te++)_e[Te].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(U){if(this.closed)throw new pe.N;return super._trySubscribe(U)}_subscribe(U){if(this.closed)throw new pe.N;return this.hasError?(U.error(this.thrownError),F.w.EMPTY):this.isStopped?(U.complete(),F.w.EMPTY):(this.observers.push(U),new ae.W(this,U))}asObservable(){const U=new u.y;return U.source=this,U}}return B.create=(K,U)=>new te(K,U),B})();class te extends ne{constructor(K,U){super(),this.destination=K,this.source=U}next(K){const{destination:U}=this;U&&U.next&&U.next(K)}error(K){const{destination:U}=this;U&&U.error&&this.destination.error(K)}complete(){const{destination:K}=this;K&&K.complete&&this.destination.complete()}_subscribe(K){const{source:U}=this;return U?this.source.subscribe(K):F.w.EMPTY}}},8858:(Qe,we,L)=>{"use strict";L.d(we,{W:()=>re});var u=L(5319);class re extends u.w{constructor(pe,ae){super(),this.subject=pe,this.subscriber=ae,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const pe=this.subject,ae=pe.observers;if(this.subject=null,!ae||0===ae.length||pe.isStopped||pe.closed)return;const X=ae.indexOf(this.subscriber);-1!==X&&ae.splice(X,1)}}},7393:(Qe,we,L)=>{"use strict";L.d(we,{L:()=>se});var u=L(9105),re=L(6490),F=L(5319),pe=L(9181),ae=L(2494),X=L(4449);class se extends F.w{constructor(B,K,U){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=re.c;break;case 1:if(!B){this.destination=re.c;break}if("object"==typeof B){B instanceof se?(this.syncErrorThrowable=B.syncErrorThrowable,this.destination=B,B.add(this)):(this.syncErrorThrowable=!0,this.destination=new ne(this,B));break}default:this.syncErrorThrowable=!0,this.destination=new ne(this,B,K,U)}}[pe.b](){return this}static create(B,K,U){const ce=new se(B,K,U);return ce.syncErrorThrowable=!1,ce}next(B){this.isStopped||this._next(B)}error(B){this.isStopped||(this.isStopped=!0,this._error(B))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(B){this.destination.next(B)}_error(B){this.destination.error(B),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:B}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=B,this}}class ne extends se{constructor(B,K,U,ce){super(),this._parentSubscriber=B;let _e,Te=this;(0,u.m)(K)?_e=K:K&&(_e=K.next,U=K.error,ce=K.complete,K!==re.c&&(Te=Object.create(K),(0,u.m)(Te.unsubscribe)&&this.add(Te.unsubscribe.bind(Te)),Te.unsubscribe=this.unsubscribe.bind(this))),this._context=Te,this._next=_e,this._error=U,this._complete=ce}next(B){if(!this.isStopped&&this._next){const{_parentSubscriber:K}=this;ae.v.useDeprecatedSynchronousErrorHandling&&K.syncErrorThrowable?this.__tryOrSetError(K,this._next,B)&&this.unsubscribe():this.__tryOrUnsub(this._next,B)}}error(B){if(!this.isStopped){const{_parentSubscriber:K}=this,{useDeprecatedSynchronousErrorHandling:U}=ae.v;if(this._error)U&&K.syncErrorThrowable?(this.__tryOrSetError(K,this._error,B),this.unsubscribe()):(this.__tryOrUnsub(this._error,B),this.unsubscribe());else if(K.syncErrorThrowable)U?(K.syncErrorValue=B,K.syncErrorThrown=!0):(0,X.z)(B),this.unsubscribe();else{if(this.unsubscribe(),U)throw B;(0,X.z)(B)}}}complete(){if(!this.isStopped){const{_parentSubscriber:B}=this;if(this._complete){const K=()=>this._complete.call(this._context);ae.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?(this.__tryOrSetError(B,K),this.unsubscribe()):(this.__tryOrUnsub(K),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(B,K){try{B.call(this._context,K)}catch(U){if(this.unsubscribe(),ae.v.useDeprecatedSynchronousErrorHandling)throw U;(0,X.z)(U)}}__tryOrSetError(B,K,U){if(!ae.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{K.call(this._context,U)}catch(ce){return ae.v.useDeprecatedSynchronousErrorHandling?(B.syncErrorValue=ce,B.syncErrorThrown=!0,!0):((0,X.z)(ce),!0)}return!1}_unsubscribe(){const{_parentSubscriber:B}=this;this._context=null,this._parentSubscriber=null,B.unsubscribe()}}},5319:(Qe,we,L)=>{"use strict";L.d(we,{w:()=>X});var u=L(9796),re=L(1555),F=L(9105);const ae=(()=>{function ne(te){return Error.call(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((B,K)=>`${K+1}) ${B.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te,this}return ne.prototype=Object.create(Error.prototype),ne})();class X{constructor(te){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,te&&(this._ctorUnsubscribe=!0,this._unsubscribe=te)}unsubscribe(){let te;if(this.closed)return;let{_parentOrParents:B,_ctorUnsubscribe:K,_unsubscribe:U,_subscriptions:ce}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,B instanceof X)B.remove(this);else if(null!==B)for(let _e=0;_e<B.length;++_e)B[_e].remove(this);if((0,F.m)(U)){K&&(this._unsubscribe=void 0);try{U.call(this)}catch(_e){te=_e instanceof ae?se(_e.errors):[_e]}}if((0,u.k)(ce)){let _e=-1,Te=ce.length;for(;++_e<Te;){const be=ce[_e];if((0,re.K)(be))try{be.unsubscribe()}catch(ue){te=te||[],ue instanceof ae?te=te.concat(se(ue.errors)):te.push(ue)}}}if(te)throw new ae(te)}add(te){let B=te;if(!te)return X.EMPTY;switch(typeof te){case"function":B=new X(te);case"object":if(B===this||B.closed||"function"!=typeof B.unsubscribe)return B;if(this.closed)return B.unsubscribe(),B;if(!(B instanceof X)){const ce=B;B=new X,B._subscriptions=[ce]}break;default:throw new Error("unrecognized teardown "+te+" added to Subscription.")}let{_parentOrParents:K}=B;if(null===K)B._parentOrParents=this;else if(K instanceof X){if(K===this)return B;B._parentOrParents=[K,this]}else{if(-1!==K.indexOf(this))return B;K.push(this)}const U=this._subscriptions;return null===U?this._subscriptions=[B]:U.push(B),B}remove(te){const B=this._subscriptions;if(B){const K=B.indexOf(te);-1!==K&&B.splice(K,1)}}}var ne;function se(ne){return ne.reduce((te,B)=>te.concat(B instanceof ae?B.errors:B),[])}X.EMPTY=((ne=new X).closed=!0,ne)},2494:(Qe,we,L)=>{"use strict";L.d(we,{v:()=>re});let u=!1;const re={Promise:void 0,set useDeprecatedSynchronousErrorHandling(F){if(F){const pe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+pe.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=F},get useDeprecatedSynchronousErrorHandling(){return u}}},5345:(Qe,we,L)=>{"use strict";L.d(we,{IY:()=>pe,Ds:()=>X,ft:()=>ne});var u=L(7393),re=L(7574),F=L(7444);class pe extends u.L{constructor(B){super(),this.parent=B}_next(B){this.parent.notifyNext(B)}_error(B){this.parent.notifyError(B),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class X extends u.L{notifyNext(B){this.destination.next(B)}notifyError(B){this.destination.error(B)}notifyComplete(){this.destination.complete()}}function ne(te,B){if(B.closed)return;if(te instanceof re.y)return te.subscribe(B);let K;try{K=(0,F.s)(te)(B)}catch(U){B.error(U)}return K}},9193:(Qe,we,L)=>{"use strict";L.d(we,{E:()=>re,c:()=>F});var u=L(7574);const re=new u.y(ae=>ae.complete());function F(ae){return ae?function(ae){return new u.y(X=>ae.schedule(()=>X.complete()))}(ae):re}},4402:(Qe,we,L)=>{"use strict";L.d(we,{D:()=>Te});var u=L(7574),re=L(7444),F=L(5319),pe=L(6554),se=L(4087),ne=L(377),K=L(4072),U=L(9489);function Te(be,ue){return ue?function(be,ue){if(null!=be){if(function(be){return be&&"function"==typeof be[pe.L]}(be))return function(be,ue){return new u.y(q=>{const de=new F.w;return de.add(ue.schedule(()=>{const xe=be[pe.L]();de.add(xe.subscribe({next(ke){de.add(ue.schedule(()=>q.next(ke)))},error(ke){de.add(ue.schedule(()=>q.error(ke)))},complete(){de.add(ue.schedule(()=>q.complete()))}}))})),de})}(be,ue);if((0,K.t)(be))return function(be,ue){return new u.y(q=>{const de=new F.w;return de.add(ue.schedule(()=>be.then(xe=>{de.add(ue.schedule(()=>{q.next(xe),de.add(ue.schedule(()=>q.complete()))}))},xe=>{de.add(ue.schedule(()=>q.error(xe)))}))),de})}(be,ue);if((0,U.z)(be))return(0,se.r)(be,ue);if(function(be){return be&&"function"==typeof be[ne.hZ]}(be)||"string"==typeof be)return function(be,ue){if(!be)throw new Error("Iterable cannot be null");return new u.y(q=>{const de=new F.w;let xe;return de.add(()=>{xe&&"function"==typeof xe.return&&xe.return()}),de.add(ue.schedule(()=>{xe=be[ne.hZ](),de.add(ue.schedule(function(){if(q.closed)return;let ke,ut;try{const Rt=xe.next();ke=Rt.value,ut=Rt.done}catch(Rt){return void q.error(Rt)}ut?q.complete():(q.next(ke),this.schedule())}))})),de})}(be,ue)}throw new TypeError((null!==be&&typeof be||be)+" is not observable")}(be,ue):be instanceof u.y?be:new u.y((0,re.s)(be))}},6693:(Qe,we,L)=>{"use strict";L.d(we,{n:()=>pe});var u=L(7574),re=L(5015),F=L(4087);function pe(ae,X){return X?(0,F.r)(ae,X):new u.y((0,re.V)(ae))}},6682:(Qe,we,L)=>{"use strict";L.d(we,{T:()=>ae});var u=L(7574),re=L(4869),F=L(3282),pe=L(6693);function ae(...X){let se=Number.POSITIVE_INFINITY,ne=null,te=X[X.length-1];return(0,re.K)(te)?(ne=X.pop(),X.length>1&&"number"==typeof X[X.length-1]&&(se=X.pop())):"number"==typeof te&&(se=X.pop()),null===ne&&1===X.length&&X[0]instanceof u.y?X[0]:(0,F.J)(se)((0,pe.n)(X,ne))}},5917:(Qe,we,L)=>{"use strict";L.d(we,{of:()=>pe});var u=L(4869),re=L(6693),F=L(4087);function pe(...ae){let X=ae[ae.length-1];return(0,u.K)(X)?(ae.pop(),(0,F.r)(ae,X)):(0,re.n)(ae)}},205:(Qe,we,L)=>{"use strict";L.d(we,{_:()=>re});var u=L(7574);function re(pe,ae){return new u.y(ae?X=>ae.schedule(F,0,{error:pe,subscriber:X}):X=>X.error(pe))}function F({error:pe,subscriber:ae}){ae.error(pe)}},8002:(Qe,we,L)=>{"use strict";L.d(we,{U:()=>re});var u=L(7393);function re(ae,X){return function(ne){if("function"!=typeof ae)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ne.lift(new F(ae,X))}}class F{constructor(X,se){this.project=X,this.thisArg=se}call(X,se){return se.subscribe(new pe(X,this.project,this.thisArg))}}class pe extends u.L{constructor(X,se,ne){super(X),this.project=se,this.count=0,this.thisArg=ne||this}_next(X){let se;try{se=this.project.call(this.thisArg,X,this.count++)}catch(ne){return void this.destination.error(ne)}this.destination.next(se)}}},3282:(Qe,we,L)=>{"use strict";L.d(we,{J:()=>F});var u=L(9773),re=L(4487);function F(pe=Number.POSITIVE_INFINITY){return(0,u.zg)(re.y,pe)}},9773:(Qe,we,L)=>{"use strict";L.d(we,{zg:()=>pe});var u=L(8002),re=L(4402),F=L(5345);function pe(ne,te,B=Number.POSITIVE_INFINITY){return"function"==typeof te?K=>K.pipe(pe((U,ce)=>(0,re.D)(ne(U,ce)).pipe((0,u.U)((_e,Te)=>te(U,_e,ce,Te))),B)):("number"==typeof te&&(B=te),K=>K.lift(new ae(ne,B)))}class ae{constructor(te,B=Number.POSITIVE_INFINITY){this.project=te,this.concurrent=B}call(te,B){return B.subscribe(new X(te,this.project,this.concurrent))}}class X extends F.Ds{constructor(te,B,K=Number.POSITIVE_INFINITY){super(te),this.project=B,this.concurrent=K,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(te){this.active<this.concurrent?this._tryNext(te):this.buffer.push(te)}_tryNext(te){let B;const K=this.index++;try{B=this.project(te,K)}catch(U){return void this.destination.error(U)}this.active++,this._innerSub(B)}_innerSub(te){const B=new F.IY(this),K=this.destination;K.add(B);const U=(0,F.ft)(te,B);U!==B&&K.add(U)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(te){this.destination.next(te)}notifyComplete(){const te=this.buffer;this.active--,te.length>0?this._next(te.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(Qe,we,L)=>{"use strict";L.d(we,{ht:()=>te,QV:()=>se});var u=L(7393),re=L(9193),F=L(5917),pe=L(205);class X{constructor(U,ce,_e){this.kind=U,this.value=ce,this.error=_e,this.hasValue="N"===U}observe(U){switch(this.kind){case"N":return U.next&&U.next(this.value);case"E":return U.error&&U.error(this.error);case"C":return U.complete&&U.complete()}}do(U,ce,_e){switch(this.kind){case"N":return U&&U(this.value);case"E":return ce&&ce(this.error);case"C":return _e&&_e()}}accept(U,ce,_e){return U&&"function"==typeof U.next?this.observe(U):this.do(U,ce,_e)}toObservable(){switch(this.kind){case"N":return(0,F.of)(this.value);case"E":return(0,pe._)(this.error);case"C":return(0,re.c)()}throw new Error("unexpected notification kind value")}static createNext(U){return void 0!==U?new X("N",U):X.undefinedValueNotification}static createError(U){return new X("E",void 0,U)}static createComplete(){return X.completeNotification}}function se(K,U=0){return function(_e){return _e.lift(new ne(K,U))}}X.completeNotification=new X("C"),X.undefinedValueNotification=new X("N",void 0);class ne{constructor(U,ce=0){this.scheduler=U,this.delay=ce}call(U,ce){return ce.subscribe(new te(U,this.scheduler,this.delay))}}class te extends u.L{constructor(U,ce,_e=0){super(U),this.scheduler=ce,this.delay=_e}static dispatch(U){const{notification:ce,destination:_e}=U;ce.observe(_e),this.unsubscribe()}scheduleMessage(U){this.destination.add(this.scheduler.schedule(te.dispatch,this.delay,new B(U,this.destination)))}_next(U){this.scheduleMessage(X.createNext(U))}_error(U){this.scheduleMessage(X.createError(U)),this.unsubscribe()}_complete(){this.scheduleMessage(X.createComplete()),this.unsubscribe()}}class B{constructor(U,ce){this.notification=U,this.destination=ce}}},3522:(Qe,we,L)=>{"use strict";L.d(we,{B:()=>be});var u=L(9765),re=L(7574),F=L(5319),pe=L(7393);function ae(){return function(q){return q.lift(new X(q))}}class X{constructor(q){this.connectable=q}call(q,de){const{connectable:xe}=this;xe._refCount++;const ke=new se(q,xe),ut=de.subscribe(ke);return ke.closed||(ke.connection=xe.connect()),ut}}class se extends pe.L{constructor(q,de){super(q),this.connectable=de}_unsubscribe(){const{connectable:q}=this;if(!q)return void(this.connection=null);this.connectable=null;const de=q._refCount;if(de<=0)return void(this.connection=null);if(q._refCount=de-1,de>1)return void(this.connection=null);const{connection:xe}=this,ke=q._connection;this.connection=null,ke&&(!xe||ke===xe)&&ke.unsubscribe()}}class ne extends re.y{constructor(q,de){super(),this.source=q,this.subjectFactory=de,this._refCount=0,this._isComplete=!1}_subscribe(q){return this.getSubject().subscribe(q)}getSubject(){const q=this._subject;return(!q||q.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let q=this._connection;return q||(this._isComplete=!1,q=this._connection=new F.w,q.add(this.source.subscribe(new B(this.getSubject(),this))),q.closed&&(this._connection=null,q=F.w.EMPTY)),q}refCount(){return ae()(this)}}const te=(()=>{const ue=ne.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ue._subscribe},_isComplete:{value:ue._isComplete,writable:!0},getSubject:{value:ue.getSubject},connect:{value:ue.connect},refCount:{value:ue.refCount}}})();class B extends u.Yc{constructor(q,de){super(q),this.connectable=de}_error(q){this._unsubscribe(),super._error(q)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const q=this.connectable;if(q){this.connectable=null;const de=q._connection;q._refCount=0,q._subject=null,q._connection=null,de&&de.unsubscribe()}}}function Te(){return new u.xQ}function be(){return ue=>ae()(function(ue,q){return function(xe){let ke;ke="function"==typeof ue?ue:function(){return ue};const ut=Object.create(xe,te);return ut.source=xe,ut.subjectFactory=ke,ut}}(Te)(ue))}},9673:(Qe,we,L)=>{"use strict";L.d(we,{R:()=>ae});var u=L(7574),re=L(4581),F=L(6561);class pe extends u.y{constructor(ne,te=0,B=re.e){super(),this.source=ne,this.delayTime=te,this.scheduler=B,(!(0,F.k)(te)||te<0)&&(this.delayTime=0),(!B||"function"!=typeof B.schedule)&&(this.scheduler=re.e)}static create(ne,te=0,B=re.e){return new pe(ne,te,B)}static dispatch(ne){const{source:te,subscriber:B}=ne;return this.add(te.subscribe(B))}_subscribe(ne){return this.scheduler.schedule(pe.dispatch,this.delayTime,{source:this.source,subscriber:ne})}}function ae(se,ne=0){return function(B){return B.lift(new X(se,ne))}}class X{constructor(ne,te){this.scheduler=ne,this.delay=te}call(ne,te){return new pe(te,this.delay,this.scheduler).subscribe(ne)}}},3342:(Qe,we,L)=>{"use strict";L.d(we,{b:()=>pe});var u=L(7393);function re(){}var F=L(9105);function pe(se,ne,te){return function(K){return K.lift(new ae(se,ne,te))}}class ae{constructor(ne,te,B){this.nextOrObserver=ne,this.error=te,this.complete=B}call(ne,te){return te.subscribe(new X(ne,this.nextOrObserver,this.error,this.complete))}}class X extends u.L{constructor(ne,te,B,K){super(ne),this._tapNext=re,this._tapError=re,this._tapComplete=re,this._tapError=B||re,this._tapComplete=K||re,(0,F.m)(te)?(this._context=this,this._tapNext=te):te&&(this._context=te,this._tapNext=te.next||re,this._tapError=te.error||re,this._tapComplete=te.complete||re)}_next(ne){try{this._tapNext.call(this._context,ne)}catch(te){return void this.destination.error(te)}this.destination.next(ne)}_error(ne){try{this._tapError.call(this._context,ne)}catch(te){return void this.destination.error(te)}this.destination.error(ne)}_complete(){try{this._tapComplete.call(this._context)}catch(ne){return void this.destination.error(ne)}return this.destination.complete()}}},4087:(Qe,we,L)=>{"use strict";L.d(we,{r:()=>F});var u=L(7574),re=L(5319);function F(pe,ae){return new u.y(X=>{const se=new re.w;let ne=0;return se.add(ae.schedule(function(){ne!==pe.length?(X.next(pe[ne++]),X.closed||se.add(this.schedule())):X.complete()})),se})}},6465:(Qe,we,L)=>{"use strict";L.d(we,{o:()=>F});var u=L(5319);class re extends u.w{constructor(ae,X){super()}schedule(ae,X=0){return this}}class F extends re{constructor(ae,X){super(ae,X),this.scheduler=ae,this.work=X,this.pending=!1}schedule(ae,X=0){if(this.closed)return this;this.state=ae;const se=this.id,ne=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(ne,se,X)),this.pending=!0,this.delay=X,this.id=this.id||this.requestAsyncId(ne,this.id,X),this}requestAsyncId(ae,X,se=0){return setInterval(ae.flush.bind(ae,this),se)}recycleAsyncId(ae,X,se=0){if(null!==se&&this.delay===se&&!1===this.pending)return X;clearInterval(X)}execute(ae,X){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const se=this._execute(ae,X);if(se)return se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,X){let ne,se=!1;try{this.work(ae)}catch(te){se=!0,ne=!!te&&te||new Error(te)}if(se)return this.unsubscribe(),ne}_unsubscribe(){const ae=this.id,X=this.scheduler,se=X.actions,ne=se.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ne&&se.splice(ne,1),null!=ae&&(this.id=this.recycleAsyncId(X,ae,null)),this.delay=null}}},6102:(Qe,we,L)=>{"use strict";L.d(we,{v:()=>re});let u=(()=>{class F{constructor(ae,X=F.now){this.SchedulerAction=ae,this.now=X}schedule(ae,X=0,se){return new this.SchedulerAction(this,ae).schedule(se,X)}}return F.now=()=>Date.now(),F})();class re extends u{constructor(pe,ae=u.now){super(pe,()=>re.delegate&&re.delegate!==this?re.delegate.now():ae()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(pe,ae=0,X){return re.delegate&&re.delegate!==this?re.delegate.schedule(pe,ae,X):super.schedule(pe,ae,X)}flush(pe){const{actions:ae}=this;if(this.active)return void ae.push(pe);let X;this.active=!0;do{if(X=pe.execute(pe.state,pe.delay))break}while(pe=ae.shift());if(this.active=!1,X){for(;pe=ae.shift();)pe.unsubscribe();throw X}}}},4581:(Qe,we,L)=>{"use strict";L.d(we,{e:()=>U,E:()=>K});let u=1;const re=Promise.resolve(),F={};function pe(ce){return ce in F&&(delete F[ce],!0)}const ae={setImmediate(ce){const _e=u++;return F[_e]=!0,re.then(()=>pe(_e)&&ce()),_e},clearImmediate(ce){pe(ce)}};var se=L(6465),te=L(6102);const K=new class extends te.v{flush(_e){this.active=!0,this.scheduled=void 0;const{actions:Te}=this;let be,ue=-1,q=Te.length;_e=_e||Te.shift();do{if(be=_e.execute(_e.state,_e.delay))break}while(++ue<q&&(_e=Te.shift()));if(this.active=!1,be){for(;++ue<q&&(_e=Te.shift());)_e.unsubscribe();throw be}}}(class extends se.o{constructor(_e,Te){super(_e,Te),this.scheduler=_e,this.work=Te}requestAsyncId(_e,Te,be=0){return null!==be&&be>0?super.requestAsyncId(_e,Te,be):(_e.actions.push(this),_e.scheduled||(_e.scheduled=ae.setImmediate(_e.flush.bind(_e,null))))}recycleAsyncId(_e,Te,be=0){if(null!==be&&be>0||null===be&&this.delay>0)return super.recycleAsyncId(_e,Te,be);0===_e.actions.length&&(ae.clearImmediate(Te),_e.scheduled=void 0)}}),U=K},3637:(Qe,we,L)=>{"use strict";L.d(we,{z:()=>F,P:()=>pe});var u=L(6465);const F=new(L(6102).v)(u.o),pe=F},7771:(Qe,we,L)=>{"use strict";L.d(we,{c:()=>X,N:()=>ae});var u=L(6465),F=L(6102);const ae=new class extends F.v{}(class extends u.o{constructor(ne,te){super(ne,te),this.scheduler=ne,this.work=te}schedule(ne,te=0){return te>0?super.schedule(ne,te):(this.delay=te,this.state=ne,this.scheduler.flush(this),this)}execute(ne,te){return te>0||this.closed?super.execute(ne,te):this._execute(ne,te)}requestAsyncId(ne,te,B=0){return null!==B&&B>0||null===B&&this.delay>0?super.requestAsyncId(ne,te,B):ne.flush(this)}}),X=ae},377:(Qe,we,L)=>{"use strict";L.d(we,{hZ:()=>re});const re="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Qe,we,L)=>{"use strict";L.d(we,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Qe,we,L)=>{"use strict";L.d(we,{b:()=>u});const u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Qe,we,L)=>{"use strict";L.d(we,{N:()=>re});const re=(()=>{function F(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return F.prototype=Object.create(Error.prototype),F})()},4449:(Qe,we,L)=>{"use strict";function u(re){setTimeout(()=>{throw re},0)}L.d(we,{z:()=>u})},4487:(Qe,we,L)=>{"use strict";function u(re){return re}L.d(we,{y:()=>u})},9796:(Qe,we,L)=>{"use strict";L.d(we,{k:()=>u});const u=Array.isArray||(re=>re&&"number"==typeof re.length)},9489:(Qe,we,L)=>{"use strict";L.d(we,{z:()=>u});const u=re=>re&&"number"==typeof re.length&&"function"!=typeof re},9105:(Qe,we,L)=>{"use strict";function u(re){return"function"==typeof re}L.d(we,{m:()=>u})},6561:(Qe,we,L)=>{"use strict";L.d(we,{k:()=>re});var u=L(9796);function re(F){return!(0,u.k)(F)&&F-parseFloat(F)+1>=0}},1555:(Qe,we,L)=>{"use strict";function u(re){return null!==re&&"object"==typeof re}L.d(we,{K:()=>u})},4072:(Qe,we,L)=>{"use strict";function u(re){return!!re&&"function"!=typeof re.subscribe&&"function"==typeof re.then}L.d(we,{t:()=>u})},4869:(Qe,we,L)=>{"use strict";function u(re){return re&&"function"==typeof re.schedule}L.d(we,{K:()=>u})},7444:(Qe,we,L)=>{"use strict";L.d(we,{s:()=>K});var u=L(5015),re=L(4449),pe=L(377),X=L(6554),ne=L(9489),te=L(4072),B=L(1555);const K=U=>{if(U&&"function"==typeof U[X.L])return(U=>ce=>{const _e=U[X.L]();if("function"!=typeof _e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return _e.subscribe(ce)})(U);if((0,ne.z)(U))return(0,u.V)(U);if((0,te.t)(U))return(U=>ce=>(U.then(_e=>{ce.closed||(ce.next(_e),ce.complete())},_e=>ce.error(_e)).then(null,re.z),ce))(U);if(U&&"function"==typeof U[pe.hZ])return(U=>ce=>{const _e=U[pe.hZ]();for(;;){let Te;try{Te=_e.next()}catch(be){return ce.error(be),ce}if(Te.done){ce.complete();break}if(ce.next(Te.value),ce.closed)break}return"function"==typeof _e.return&&ce.add(()=>{_e.return&&_e.return()}),ce})(U);{const _e=`You provided ${(0,B.K)(U)?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(_e)}}},5015:(Qe,we,L)=>{"use strict";L.d(we,{V:()=>u});const u=re=>F=>{for(let pe=0,ae=re.length;pe<ae&&!F.closed;pe++)F.next(re[pe]);F.complete()}},4013:(Qe,we,L)=>{"use strict";var u=L(7716);let re=null;function F(){return re}const se=new u.OlP("DocumentToken");let ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,u.Yz7)({factory:te,token:n,providedIn:"platform"}),n})();function te(){return(0,u.LFG)(K)}let K=(()=>{class n extends ne{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){U()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){U()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(se))},n.\u0275prov=(0,u.Yz7)({factory:ce,token:n,providedIn:"platform"}),n})();function U(){return!!window.history.pushState}function ce(){return new K((0,u.LFG)(se))}function _e(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function be(n){return n&&"?"!==n[0]?"?"+n:n}let ue=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,u.Yz7)({factory:q,token:n,providedIn:"root"}),n})();function q(n){const e=(0,u.LFG)(se).location;return new xe((0,u.LFG)(ne),e&&e.origin||"")}const de=new u.OlP("appBaseHref");let xe=(()=>{class n extends ue{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return _e(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+be(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,c){const h=this.prepareExternalUrl(o+be(c));this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,c){const h=this.prepareExternalUrl(o+be(c));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne),u.LFG(de,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ut=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Te(Et(o)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+be(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Et(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+be(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+be(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue),u.LFG(ne))},n.normalizeQueryParams=be,n.joinWithSlash=_e,n.stripTrailingSlash=Te,n.\u0275prov=(0,u.Yz7)({factory:Rt,token:n,providedIn:"root"}),n})();function Rt(){return new ut((0,u.LFG)(ue),(0,u.LFG)(ne))}function Et(n){return n.replace(/\/index.html$/,"")}var dt=(()=>((dt=dt||{})[dt.Zero=0]="Zero",dt[dt.One=1]="One",dt[dt.Two=2]="Two",dt[dt.Few=3]="Few",dt[dt.Many=4]="Many",dt[dt.Other=5]="Other",dt))();const $i=u.kL8;class Vr{}let er=(()=>{class n extends Vr{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch($i(r||this.locale)(t)){case dt.Zero:return"zero";case dt.One:return"one";case dt.Two:return"two";case dt.Few:return"few";case dt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.soG))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class wr{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wt=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((o,c,h)=>{if(null==o.previousIndex){const _=this._viewContainer.createEmbeddedView(this._template,new wr(null,this._ngForOf,-1,-1),null===h?void 0:h),b=new id(o,_);r.push(b)}else if(null==h)this._viewContainer.remove(null===c?void 0:c);else if(null!==c){const _=this._viewContainer.get(c);this._viewContainer.move(_,h);const b=new id(o,_);r.push(b)}});for(let o=0;o<r.length;o++)this._perViewChange(r[o].view,r[o].record);for(let o=0,c=this._viewContainer.length;o<c;o++){const h=this._viewContainer.get(o);h.context.index=o,h.context.count=c,h.context.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class id{constructor(e,t){this.record=e,this.view=t}}let Si=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new kc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Lo("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Lo("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class kc{constructor(){this.$implicit=null,this.ngIf=null}}function Lo(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class cs{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let us=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),nr=(()=>{class n{constructor(t,r,o){this.ngSwitch=o,o._addCase(),this._view=new cs(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(us,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})();class Ia{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class od{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const Oc=new od,Yh=new Ia;let Pc=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,u.QGY)(t))return Oc;if((0,u.F4k)(t))return Yh;throw function(n,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,u.AaK)(n)}'`)}(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO,16))},n.\u0275pipe=u.Yjl({name:"async",type:n,pure:!1}),n})(),Yr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:Vr,useClass:er}]}),n})();function bl(n){return"server"===n}class hd extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new hd,re||(re=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Wi=Wi||document.querySelector("base"),Wi?Wi.getAttribute("href"):null);return null==t?null:function(n){Kt=Kt||document.createElement("a"),Kt.setAttribute("href",n);const e=Kt.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Wi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,c]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let Kt,Wi=null;const wl=new u.OlP("TRANSITION_ID"),Qr=[{provide:u.ip1,useFactory:function(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=F(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<o.length;c++)r.remove(o[c])})}},deps:[wl,se,u.zs3],multi:!0}];class Un{static init(){(0,u.VLi)(new Un)}addToWindow(e){u.dqk.getAngularTestability=(r,o=!0)=>{const c=e.findTestabilityInTree(r,o);if(null==c)throw new Error("Could not find testability for element.");return c},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const o=u.dqk.getAllAngularTestabilities();let c=o.length,h=!1;const _=function(b){h=h||b,c--,0==c&&r(h)};o.forEach(function(b){b.whenStable(_)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Fs=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ds=new u.OlP("EventManagerPlugins");let Ce=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let c=0;c<o.length;c++){const h=o[c];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ds),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Dt{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=F().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Sl=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),rn=(()=>{class n extends Sl{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(c=>{const h=this._doc.createElement("style");h.textContent=c,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Al),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Al))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(se))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Al(n){F().remove(n)}const Ki={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Dr=/%COMP%/g;function An(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?An(n,o,t):(o=o.replace(Dr,n),t.push(o))}return t}function pi(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let gi=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Ir(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Hc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case u.ifc.ShadowDom:return new La(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=An(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ce),u.LFG(rn),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Ir{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Ki[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const c=Ki[o];c?e.setAttributeNS(c,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Ki[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,o&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,pi(r)):this.eventManager.addEventListener(e,t,pi(r))}}class Hc extends Ir{constructor(e,t,r,o){super(e),this.component=r;const c=An(o+"-"+r.id,r.styles,[]);t.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(Dr,o+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Dr,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class La extends Ir{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=An(o.id,o.styles,[]);for(let h=0;h<c.length;h++){const _=document.createElement("style");_.textContent=c[h],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Va=(()=>{class n extends Dt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(se))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const hs=["alt","control","meta","shift"],zc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},bg={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Wo=(()=>{class n extends Dt{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const c=n.parseEventName(r),h=n.eventCallback(c.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,c.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const c=n._normalizeKey(r.pop());let h="";if(hs.forEach(b=>{const C=r.indexOf(b);C>-1&&(r.splice(C,1),h+=b+".")}),h+=c,0!=r.length||0===c.length)return null;const _={};return _.domEventName=o,_.fullKey=h,_}static getEventFullKey(t){let r="",o=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&qn.hasOwnProperty(e)&&(e=qn[e]))}return zc[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),hs.forEach(c=>{c!=o&&bg[c](t)&&(r+=c+".")}),r+=o,r}static eventCallback(t,r,o){return c=>{n.getEventFullKey(c)===t&&o.runGuarded(()=>r(c))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(se))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Bs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,u.Yz7)({factory:function(){return(0,u.LFG)(Us)},token:n,providedIn:"root"}),n})(),Us=(()=>{class n extends Bs{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.yhl)(r),(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(se))},n.\u0275prov=(0,u.Yz7)({factory:function(){return function(n){return new Us(n.get(se))}((0,u.LFG)(u.gxx))},token:n,providedIn:"root"}),n})();const js=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function(){hd.makeCurrent(),Un.init()},multi:!0},{provide:se,useFactory:function(){return(0,u.RDi)(document),document},deps:[]}]),Wc=[[],{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function(){return new u.qLn},deps:[]},{provide:ds,useClass:Va,multi:!0,deps:[se,u.R0b,u.Lbi]},{provide:ds,useClass:Wo,multi:!0,deps:[se]},[],{provide:gi,useClass:gi,deps:[Ce,rn,u.AFp]},{provide:u.FYo,useExisting:gi},{provide:Sl,useExisting:rn},{provide:rn,useClass:rn,deps:[se]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Ce,useClass:Ce,deps:[ds,u.R0b]},{provide:class{},useClass:Fs,deps:[]},[]];let Kc=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:wl,useExisting:u.AFp},Qr]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:Wc,imports:[Yr,u.hGG]}),n})();function Zt(n){return null!=n&&"false"!=`${n}`}function Mn(n,e=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Pl(n){return Array.isArray(n)?n:[n]}function hn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function sn(n){return n instanceof u.SBq?n.nativeElement:n}"undefined"!=typeof window&&window;var Ge=L(9765),xn=L(5917),Tr=L(7574),Yi=L(9796),Ga=L(9105),gt=L(8002);function Gs(n,e,t,r){return(0,Ga.m)(t)&&(r=t,t=void 0),r?Gs(n,e,t).pipe((0,gt.U)(o=>(0,Yi.k)(o)?r(...o):r(o))):new Tr.y(o=>{gs(n,e,function(h){o.next(arguments.length>1?Array.prototype.slice.call(arguments):h)},o,t)})}function gs(n,e,t,r,o){let c;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const h=n;n.addEventListener(e,t,o),c=()=>h.removeEventListener(e,t,o)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const h=n;n.on(e,t),c=()=>h.off(e,t)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const h=n;n.addListener(e,t),c=()=>h.removeListener(e,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let h=0,_=n.length;h<_;h++)gs(n[h],e,t,r,o)}r.add(c)}var ms=L(6465),ki=L(6102);const $s=new class extends ki.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let r,o=-1,c=t.length;e=e||t.shift();do{if(r=e.execute(e.state,e.delay))break}while(++o<c&&(e=t.shift()));if(this.active=!1,r){for(;++o<c&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends ms.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});L(4581);var Sr=L(5319),Oi=L(7393);function Sd(n,e){return t=>t.lift(new dn(n,e))}class dn{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Ad(e,this.compare,this.keySelector))}}class Ad extends Oi.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:o}=this;t=o?o(e):e}catch(o){return this.destination.error(o)}let r=!1;if(this.hasKey)try{const{compare:o}=this;r=o(this.key,t)}catch(o){return this.destination.error(o)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}var zs=L(3637),Pi=L(5345);class Fl{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new Cg(e,this.durationSelector))}}class Cg extends Pi.Ds{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:o}=this;t=o(e)}catch(o){return this.destination.error(o)}const r=(0,Pi.ft)(t,new Pi.IY(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:e,hasValue:t,throttled:r}=this;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Md=L(6561),xd=L(4869);function lf(n){const{index:e,period:t,subscriber:r}=n;if(r.next(e),!r.closed){if(-1===t)return r.complete();n.index=e+1,this.schedule(n,t)}}function Jo(n,e=zs.P){return function(n){return function(t){return t.lift(new Fl(n))}}(()=>function(n=0,e,t){let r=-1;return(0,Md.k)(e)?r=Number(e)<1?1:Number(e):(0,xd.K)(e)&&(t=e),(0,xd.K)(t)||(t=zs.P),new Tr.y(o=>{const c=(0,Md.k)(n)?n:+n-t.now();return t.schedule(lf,c,{index:0,period:r,subscriber:o})})}(n,e))}function dr(n,e){return function(r){return r.lift(new kd(n,e))}}class kd{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Rn(e,this.predicate,this.thisArg))}}class Rn extends Oi.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function En(n){return e=>e.lift(new Xo(n))}class Xo{constructor(e){this.notifier=e}call(e,t){const r=new xy(e),o=(0,Pi.ft)(this.notifier,new Pi.IY(r));return o&&!r.seenValue?(r.add(o),t.subscribe(r)):r}}class xy extends Pi.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var Dg=L(3282);function Ni(...n){return(0,Dg.J)(1)((0,xn.of)(...n))}function Ar(...n){const e=n[n.length-1];return(0,xd.K)(e)?(n.pop(),t=>Ni(n,t,e)):t=>Ni(n,t)}function Mr(){return n=>n.lift(new ys)}class ys{call(e,t){return t.subscribe(new Od(e))}}class Od extends Oi.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var Fi=L(4402);function rr(n,e){return"function"==typeof e?t=>t.pipe(rr((r,o)=>(0,Fi.D)(n(r,o)).pipe((0,gt.U)((c,h)=>e(r,c,o,h))))):t=>t.lift(new Ig(n))}class Ig{constructor(e){this.project=e}call(e,t){return t.subscribe(new ea(e,this.project))}}class ea extends Pi.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(o){return void this.destination.error(o)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new Pi.IY(this),o=this.destination;o.add(r),this.innerSubscription=(0,Pi.ft)(e,r),this.innerSubscription!==r&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}var Jc=L(7771),hr=L(6136),po=L(7971),ta=L(8858);class Pd extends Ge.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new cf(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,c=r.length;let h;if(this.closed)throw new po.N;if(this.isStopped||this.hasError?h=Sr.w.EMPTY:(this.observers.push(e),h=new ta.W(this,e)),o&&e.add(e=new hr.ht(e,o)),t)for(let _=0;_<c&&!e.closed;_++)e.next(r[_]);else for(let _=0;_<c&&!e.closed;_++)e.next(r[_].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),h}_getNow(){return(this.scheduler||Jc.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,o=this._events,c=o.length;let h=0;for(;h<c&&!(e-o[h].time<r);)h++;return c>t&&(h=Math.max(h,c-t)),h>0&&o.splice(0,h),o}}class cf{constructor(e,t){this.time=e,this.value=t}}function D(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},o=>o.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let o,h,c=0,_=!1,b=!1;return function(M){let O;c++,!o||_?(_=!1,o=new Pd(n,e,r),O=o.subscribe(this),h=M.subscribe({next(G){o.next(G)},error(G){_=!0,o.error(G)},complete(){b=!0,h=void 0,o.complete()}}),b&&(h=void 0)):O=o.subscribe(this),this.add(()=>{c--,O.unsubscribe(),O=void 0,h&&!b&&t&&0===c&&(h.unsubscribe(),h=void 0,o=void 0)})}}(r))}let k;try{k="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){k=!1}let he,V=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function(n){return"browser"===n}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!k)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u.Lbi))},token:n,providedIn:"root"}),n})(),ee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const De=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Be(){if(he)return he;if("object"!=typeof document||!document)return he=new Set(De),he;let n=document.createElement("input");return he=new Set(De.filter(e=>(n.setAttribute("type",e),n.type===e))),he}let Ue,jn,vs;function Ot(n){return function(){if(null==Ue&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ue=!0}))}finally{Ue=Ue||!1}return Ue}()?n:!!n.capture}function Wn(){if(null==jn){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return jn=!1,jn;if("scrollBehavior"in document.documentElement.style)jn=!0;else{const n=Element.prototype.scrollTo;jn=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return jn}function ei(n){if(function(){if(null==vs){const n="undefined"!=typeof document?document.head:null;vs=!(!n||!n.createShadowRoot&&!n.attachShadow)}return vs}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function ti(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function kn(n){return n.composedPath?n.composedPath()[0]:n.target}function Xc(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const On=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,u.f3M)(se)}});let Ws=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new u.vpe,t){const o=t.documentElement?t.documentElement.dir:null,c=(t.body?t.body.dir:null)||o;this.value="ltr"===c||"rtl"===c?c:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(On,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(On,8))},token:n,providedIn:"root"}),n})(),bs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),Zi=(()=>{class n{constructor(t,r,o){this._ngZone=t,this._platform=r,this._scrolled=new Ge.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Tr.y(r=>{this._globalSubscription||this._addGlobalListener();const o=t>0?this._scrolled.pipe(Jo(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,xn.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const o=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(dr(c=>!c||o.indexOf(c)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((o,c)=>{this._scrollableContainsElement(c,t)&&r.push(c)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let o=sn(r),c=t.getElementRef().nativeElement;do{if(o==c)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Gs(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(V),u.LFG(se,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u.R0b),u.LFG(V),u.LFG(se,8))},token:n,providedIn:"root"}),n})(),Ks=(()=>{class n{constructor(t,r,o){this._platform=t,this._change=new Ge.xQ,this._changeListener=c=>{this._change.next(c)},this._document=o,r.runOutsideAngular(()=>{if(t.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+o,right:t.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),o=t.documentElement,c=o.getBoundingClientRect();return{top:-c.top||t.body.scrollTop||r.scrollY||o.scrollTop||0,left:-c.left||t.body.scrollLeft||r.scrollX||o.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Jo(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(V),u.LFG(u.R0b),u.LFG(se,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(V),u.LFG(u.R0b),u.LFG(se,8))},token:n,providedIn:"root"}),n})(),qa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),Ul=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[bs,ee,qa],bs,qa]}),n})();class Wa extends Ge.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new po.N;return this._value}next(e){super.next(this._value=e)}}const R=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();var $=L(9193);function oe(n){return e=>0===n?(0,$.c)():e.lift(new Pe(n))}class Pe{constructor(e){if(this.total=e,this.total<0)throw new R}call(e,t){return t.subscribe(new Re(e,this.total))}}class Re extends Oi.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}class Ze{constructor(e){this.total=e}call(e,t){return t.subscribe(new Tt(e,this.total))}}class Tt extends Oi.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}class mo{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new Hd(e,this.dueTime,this.scheduler))}}class Hd extends Oi.L{constructor(e,t,r){super(e),this.dueTime=t,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ou,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function ou(n){n.debouncedNext()}let Gd=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})(),Sf=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=sn(t);return new Tr.y(o=>{const h=this._observeElement(r).subscribe(o);return()=>{h.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Ge.xQ,o=this._mutationObserverFactory.create(c=>r.next(c));o&&o.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:o,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:o}=this._observedElements.get(t);r&&r.disconnect(),o.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Gd))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(Gd))},token:n,providedIn:"root"}),n})(),Af=(()=>{class n{constructor(t,r,o){this._contentObserver=t,this._elementRef=r,this._ngZone=o,this.event=new u.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Zt(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Mn(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(function(n,e=zs.P){return t=>t.lift(new mo(n,e))}(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Sf),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Mf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Gd]}),n})(),iv=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function(n){try{return n.frameElement}catch(e){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===Qg(r)||!this.isVisible(r)))return!1;let o=t.nodeName.toLowerCase(),c=Qg(t);return t.hasAttribute("contenteditable")?-1!==c:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===o?!!t.hasAttribute("controls")&&-1!==c:"video"===o?-1!==c&&(null!==c||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||av(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(V))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(V))},token:n,providedIn:"root"}),n})();function av(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Qg(n){if(!av(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class jS{constructor(e,t,r,o,c=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let r=0;r<t.length;r++)t[r].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]):t[r].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=0;r<t.length;r++){let o=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(o)return o}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=t.length-1;r>=0;r--){let o=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(o)return o}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(oe(1)).subscribe(e)}}let fC=(()=>{class n{constructor(t,r,o){this._checker=t,this._ngZone=r,this._document=o}create(t,r=!1){return new jS(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(iv),u.LFG(u.R0b),u.LFG(se))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(iv),u.LFG(u.R0b),u.LFG(se))},token:n,providedIn:"root"}),n})();function lv(n){return 0===n.offsetX&&0===n.offsetY}function Jg(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}"undefined"!=typeof Element&&Element;const _C=new u.OlP("cdk-input-modality-detector-options"),zS={ignoreKeys:[18,17,224,91,16]},qd=Ot({passive:!0,capture:!0});let cv=(()=>{class n{constructor(t,r,o,c){this._platform=t,this._mostRecentTarget=null,this._modality=new Wa(null),this._lastTouchMs=0,this._onKeydown=h=>{var _,b;(null===(b=null===(_=this._options)||void 0===_?void 0:_.ignoreKeys)||void 0===b?void 0:b.some(C=>C===h.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=kn(h))},this._onMousedown=h=>{Date.now()-this._lastTouchMs<650||(this._modality.next(lv(h)?"keyboard":"mouse"),this._mostRecentTarget=kn(h))},this._onTouchstart=h=>{Jg(h)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=kn(h))},this._options=Object.assign(Object.assign({},zS),c),this.modalityDetected=this._modality.pipe(e=>e.lift(new Ze(1))),this.modalityChanged=this.modalityDetected.pipe(Sd()),t.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,qd),o.addEventListener("mousedown",this._onMousedown,qd),o.addEventListener("touchstart",this._onTouchstart,qd)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,qd),document.removeEventListener("mousedown",this._onMousedown,qd),document.removeEventListener("touchstart",this._onTouchstart,qd))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(V),u.LFG(u.R0b),u.LFG(se),u.LFG(_C,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(V),u.LFG(u.R0b),u.LFG(se),u.LFG(_C,8))},token:n,providedIn:"root"}),n})();const uv=new u.OlP("cdk-focus-monitor-default-options"),au=Ot({passive:!0,capture:!0});let Qi=(()=>{class n{constructor(t,r,o,c,h){this._ngZone=t,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ge.xQ,this._rootNodeFocusAndBlurListener=_=>{const b=kn(_),C="focus"===_.type?this._onFocus:this._onBlur;for(let M=b;M;M=M.parentElement)C.call(this,_,M)},this._document=c,this._detectionMode=(null==h?void 0:h.detectionMode)||0}monitor(t,r=!1){const o=sn(t);if(!this._platform.isBrowser||1!==o.nodeType)return(0,xn.of)(null);const c=ei(o)||this._getDocument(),h=this._elementInfo.get(o);if(h)return r&&(h.checkChildren=!0),h.subject;const _={checkChildren:r,subject:new Ge.xQ,rootNode:c};return this._elementInfo.set(o,_),this._registerGlobalListeners(_),_.subject}stopMonitoring(t){const r=sn(t),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(t,r,o){const c=sn(t);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([_,b])=>this._originChanged(_,r,b)):(this._setOrigin(r),"function"==typeof c.focus&&c.focus(o))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,r,o){o?t.classList.add(r):t.classList.remove(r)}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){this._toggleClass(t,"cdk-focused",!!r),this._toggleClass(t,"cdk-touch-focused","touch"===r),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===r),this._toggleClass(t,"cdk-mouse-focused","mouse"===r),this._toggleClass(t,"cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const o=this._elementInfo.get(r),c=kn(t);!o||!o.checkChildren&&r!==c||this._originChanged(r,this._getFocusOrigin(c),o)}_onBlur(t,r){const o=this._elementInfo.get(r);!o||o.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(o.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,au),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,au)}),this._rootNodeFocusListenerCount.set(r,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(En(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,au),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,au),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,o){this._setClasses(t,r),this._emitOrigin(o.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((o,c)=>{(c===t||o.checkChildren&&c.contains(t))&&r.push([c,o])}),r}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(V),u.LFG(cv),u.LFG(se,8),u.LFG(uv,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u.R0b),u.LFG(V),u.LFG(cv),u.LFG(se,8),u.LFG(uv,8))},token:n,providedIn:"root"}),n})();const EC="cdk-high-contrast-black-on-white",Xg="cdk-high-contrast-white-on-black",_o="cdk-high-contrast-active";let em=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(t):null,c=(o&&o.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),c){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(_o),t.remove(EC),t.remove(Xg),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(_o),t.add(EC)):2===r&&(t.add(_o),t.add(Xg))}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(V),u.LFG(se))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(V),u.LFG(se))},token:n,providedIn:"root"}),n})();function mP(n){const{subscriber:e,counter:t,period:r}=n;e.next(t),this.schedule({subscriber:e,counter:t+1,period:r},r)}var Wd=L(6682),hv=L(3342);function yo(n,e,t){for(let r in e)if(e.hasOwnProperty(r)){const o=e[r];o?n.setProperty(r,o,(null==t?void 0:t.has(r))?"important":""):n.removeProperty(r)}return n}function Qa(n,e){const t=e?"":"none";yo(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function Pf(n,e,t){yo(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function Kd(n,e){return e&&"none"!=e?n+" "+e:n}function ZS(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function tm(n,e){return n.getPropertyValue(e).split(",").map(r=>r.trim())}function wC(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function fv(n,e,t){const{top:r,bottom:o,left:c,right:h}=n;return t>=r&&t<=o&&e>=c&&e<=h}function nm(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function pv(n,e,t,r){const{top:o,right:c,bottom:h,left:_,width:b,height:C}=n,M=b*e,O=C*e;return r>o-O&&r<h+O&&t>_-M&&t<c+M}class gv{constructor(e,t){this._document=e,this._viewportRuler=t,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:wC(t)})})}handleScroll(e){const t=kn(e),r=this.positions.get(t);if(!r)return null;const o=t===this._document?t.documentElement:t,c=r.scrollPosition;let h,_;if(t===this._document){const M=this._viewportRuler.getViewportScrollPosition();h=M.top,_=M.left}else h=t.scrollTop,_=t.scrollLeft;const b=c.top-h,C=c.left-_;return this.positions.forEach((M,O)=>{M.clientRect&&t!==O&&o.contains(O)&&nm(M.clientRect,b,C)}),c.top=h,c.left=_,{top:b,left:C}}}function CC(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();e.removeAttribute("id");for(let o=0;o<t.length;o++)t[o].removeAttribute("id");return"canvas"===r?XS(n,e):("input"===r||"select"===r||"textarea"===r)&&JS(n,e),rm("canvas",n,e,XS),rm("input, textarea, select",n,e,JS),e}function rm(n,e,t,r){const o=e.querySelectorAll(n);if(o.length){const c=t.querySelectorAll(n);for(let h=0;h<o.length;h++)r(o[h],c[h])}}let _P=0;function JS(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${_P++}`)}function XS(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch(r){}}const eA=Ot({passive:!0}),tA=Ot({passive:!1}),DC=new Set(["position"]);class vP{constructor(e,t,r,o,c,h){this._config=t,this._document=r,this._ngZone=o,this._viewportRuler=c,this._dragDropRegistry=h,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Ge.xQ,this._pointerMoveSubscription=Sr.w.EMPTY,this._pointerUpSubscription=Sr.w.EMPTY,this._scrollSubscription=Sr.w.EMPTY,this._resizeSubscription=Sr.w.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Ge.xQ,this.started=new Ge.xQ,this.released=new Ge.xQ,this.ended=new Ge.xQ,this.entered=new Ge.xQ,this.exited=new Ge.xQ,this.dropped=new Ge.xQ,this.moved=this._moveEvents,this._pointerDown=_=>{if(this.beforeStarted.next(),this._handles.length){const b=this._handles.find(C=>{const M=kn(_);return!!M&&(M===C||C.contains(M))});b&&!this._disabledHandles.has(b)&&!this.disabled&&this._initializeDragSequence(b,_)}else this.disabled||this._initializeDragSequence(this._rootElement,_)},this._pointerMove=_=>{const b=this._getPointerPositionOnPage(_);if(!this._hasStartedDragging){if(Math.abs(b.x-this._pickupPositionOnPage.x)+Math.abs(b.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const z=Date.now()>=this._dragStartTime+this._getDragStartDelay(_),J=this._dropContainer;if(!z)return void this._endDragSequence(_);(!J||!J.isDragging()&&!J.isReceiving())&&(_.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(_)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),_.preventDefault();const C=this._getConstrainedPointerPosition(b);if(this._hasMoved=!0,this._lastKnownPointerPosition=b,this._updatePointerDirectionDelta(C),this._dropContainer)this._updateActiveDropContainer(C,b);else{const M=this._activeTransform;M.x=C.x-this._pickupPositionOnPage.x+this._passiveTransform.x,M.y=C.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(M.x,M.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${M.x} ${M.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:C,event:_,distance:this._getDragDistance(C),delta:this._pointerDirectionDelta})})},this._pointerUp=_=>{this._endDragSequence(_)},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new gv(r,c),h.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=Zt(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(r=>Qa(r,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(r=>sn(r)),this._handles.forEach(r=>Qa(r,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&t.add(r)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=sn(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,tA),t.addEventListener("touchstart",this._pointerDown,eA)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?sn(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&_v(this._rootElement),_v(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Qa(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Qa(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&_v(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&_v(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){Zs(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const r=this._rootElement,o=r.parentNode,c=this._placeholder=this._createPlaceholderElement(),h=this._anchor=this._anchor||this._document.createComment(""),_=this._getShadowRoot();o.insertBefore(h,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),Pf(r,!1,DC),this._document.body.appendChild(o.replaceChild(c,r)),this._getPreviewInsertionPoint(o,_).appendChild(this._preview),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const r=this.isDragging(),o=Zs(t),c=!o&&0!==t.button,h=this._rootElement,_=kn(t),b=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),C=o?Jg(t):lv(t);if(_&&_.draggable&&"mousedown"===t.type&&t.preventDefault(),r||c||b||C)return;this._handles.length&&(this._rootElementTapHighlight=h.style.webkitTapHighlightColor||"",h.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(G=>this._updateOnScroll(G)),this._boundaryElement&&(this._boundaryRect=wC(this._boundaryElement));const M=this._previewTemplate;this._pickupPositionInElement=M&&M.template&&!M.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);const O=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:O.x,y:O.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){Pf(this._rootElement,!0,DC),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,r=t.getItemIndex(this),o=this._getPointerPositionOnPage(e),c=this._getDragDistance(o),h=t._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:c,dropPoint:o}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:h,distance:c,dropPoint:o}),t.drop(this,r,this._initialIndex,this._initialContainer,h,c,o),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:r,y:o}){let c=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!c&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(c=this._initialContainer),c&&c!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=c,this._dropContainer.enter(this,e,t,c===this._initialContainer&&c.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:c,currentIndex:c.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,o),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,r=e?e.template:null;let o;if(r&&e){const c=e.matchSize?this._rootElement.getBoundingClientRect():null,h=e.viewContainer.createEmbeddedView(r,e.context);h.detectChanges(),o=im(h,this._document),this._previewRef=h,e.matchSize?IC(o,c):o.style.transform=mv(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const c=this._rootElement;o=CC(c),IC(o,c.getBoundingClientRect()),this._initialTransform&&(o.style.transform=this._initialTransform)}return yo(o.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},DC),Qa(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(c=>o.classList.add(c)):o.classList.add(t)),o}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function(n){const e=getComputedStyle(n),t=tm(e,"transition-property"),r=t.find(_=>"transform"===_||"all"===_);if(!r)return 0;const o=t.indexOf(r),c=tm(e,"transition-duration"),h=tm(e,"transition-delay");return ZS(c[o])+ZS(h[o])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const o=h=>{var _;(!h||kn(h)===this._preview&&"transform"===h.propertyName)&&(null===(_=this._preview)||void 0===_||_.removeEventListener("transitionend",o),r(),clearTimeout(c))},c=setTimeout(o,1.5*t);this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let r;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),r=im(this._placeholderRef,this._document)):r=CC(this._rootElement),r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(e,t){const r=this._rootElement.getBoundingClientRect(),o=e===this._rootElement?null:e,c=o?o.getBoundingClientRect():r,h=Zs(t)?t.targetTouches[0]:t,_=this._getViewportScrollPosition();return{x:c.left-r.left+(h.pageX-c.left-_.left),y:c.top-r.top+(h.pageY-c.top-_.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),r=Zs(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,o=r.pageX-t.left,c=r.pageY-t.top;if(this._ownerSVGElement){const h=this._ownerSVGElement.getScreenCTM();if(h){const _=this._ownerSVGElement.createSVGPoint();return _.x=o,_.y=c,_.matrixTransform(h.inverse())}}return{x:o,y:c}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:o}=this.constrainPosition?this.constrainPosition(e,this):e;if("x"===this.lockAxis||"x"===t?o=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(r=this._pickupPositionOnPage.x),this._boundaryRect){const{x:c,y:h}=this._pickupPositionInElement,_=this._boundaryRect,b=this._previewRect,C=_.top+h,M=_.bottom-(b.height-h);r=nA(r,_.left+c,_.right-(b.width-c)),o=nA(o,C,M)}return{x:r,y:o}}_updatePointerDirectionDelta(e){const{x:t,y:r}=e,o=this._pointerDirectionDelta,c=this._pointerPositionAtLastDirectionChange,h=Math.abs(t-c.x),_=Math.abs(r-c.y);return h>this._config.pointerDirectionChangeThreshold&&(o.x=t>c.x?1:-1,c.x=t),_>this._config.pointerDirectionChangeThreshold&&(o.y=r>c.y?1:-1,c.y=r),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Qa(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,tA),e.removeEventListener("touchstart",this._pointerDown,eA)}_applyRootElementTransform(e,t){const r=mv(e,t);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=Kd(r,this._initialTransform)}_applyPreviewTransform(e,t){var r;const o=(null===(r=this._previewTemplate)||void 0===r?void 0:r.template)?void 0:this._initialTransform,c=mv(e,t);this._preview.style.transform=Kd(c,o)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const r=this._boundaryElement.getBoundingClientRect(),o=this._rootElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===o.width&&0===o.height)return;const c=r.left-o.left,h=o.right-r.right,_=r.top-o.top,b=o.bottom-r.bottom;r.width>o.width?(c>0&&(e+=c),h>0&&(e-=h)):e=0,r.height>o.height?(_>0&&(t+=_),b>0&&(t-=b)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:Zs(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const r=kn(e);this._boundaryRect&&(r===this._document||r!==this._boundaryElement&&r.contains(this._boundaryElement))&&nm(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const e=this._parentPositions.positions.get(this._document);return e?e.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=ei(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const r=this._previewContainer||"global";if("parent"===r)return e;if("global"===r){const o=this._document;return t||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return sn(r)}}function mv(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function nA(n,e,t){return Math.max(e,Math.min(t,n))}function _v(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function Zs(n){return"t"===n.type[0]}function im(n,e){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const r=e.createElement("div");return t.forEach(o=>r.appendChild(o)),r}function IC(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=mv(e.left,e.top)}function lu(n,e){return Math.max(0,Math.min(e,n))}class AC{constructor(e,t,r,o,c){this._dragDropRegistry=t,this._ngZone=o,this._viewportRuler=c,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Ge.xQ,this.entered=new Ge.xQ,this.exited=new Ge.xQ,this.dropped=new Ge.xQ,this.sorted=new Ge.xQ,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Sr.w.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Ge.xQ,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(n=0,e=zs.P){return(!(0,Md.k)(n)||n<0)&&(n=0),(!e||"function"!=typeof e.schedule)&&(e=zs.P),new Tr.y(t=>(t.add(e.schedule(mP,n,{subscriber:t,counter:0,period:n})),t))}(0,$s).pipe(En(this._stopScrollTimers)).subscribe(()=>{const h=this._scrollNode,_=this.autoScrollStep;1===this._verticalScrollDirection?iA(h,-_):2===this._verticalScrollDirection&&iA(h,_),1===this._horizontalScrollDirection?sm(h,-_):2===this._horizontalScrollDirection&&sm(h,_)})},this.element=sn(e),this._document=r,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new gv(r,c)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,r,o){let c;this._draggingStarted(),null==o?(c=this.sortingDisabled?this._draggables.indexOf(e):-1,-1===c&&(c=this._getItemIndexFromPointerPosition(e,t,r))):c=o;const h=this._activeDraggables,_=h.indexOf(e),b=e.getPlaceholderElement();let C=h[c];if(C===e&&(C=h[c+1]),_>-1&&h.splice(_,1),C&&!this._dragDropRegistry.isDragging(C)){const M=C.getRootElement();M.parentElement.insertBefore(b,M),h.splice(c,0,e)}else if(this._shouldEnterAsFirstChild(t,r)){const M=h[0].getRootElement();M.parentNode.insertBefore(b,M),h.unshift(e)}else sn(this.element).appendChild(b),h.push(e);b.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,r,o,c,h,_){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:r,container:this,previousContainer:o,isPointerOverContainer:c,distance:h,dropPoint:_})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(t.filter(o=>o.isDragging()).every(o=>-1===e.indexOf(o))?this._reset():this._cacheItems()),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}withScrollableParents(e){const t=sn(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?vv("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,r=>r.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,r,o){if(this.sortingDisabled||!this._clientRect||!pv(this._clientRect,.05,t,r))return;const c=this._itemPositions,h=this._getItemIndexFromPointerPosition(e,t,r,o);if(-1===h&&c.length>0)return;const _="horizontal"===this._orientation,b=vv(c,Ie=>Ie.drag===e),C=c[h],O=C.clientRect,G=b>h?1:-1,z=this._getItemOffsetPx(c[b].clientRect,O,G),J=this._getSiblingOffsetPx(b,c,G),me=c.slice();(function(n,e,t){const r=lu(e,n.length-1),o=lu(t,n.length-1);if(r===o)return;const c=n[r],h=o<r?-1:1;for(let _=r;_!==o;_+=h)n[_]=n[_+h];n[o]=c})(c,b,h),this.sorted.next({previousIndex:b,currentIndex:h,container:this,item:e}),c.forEach((Ie,He)=>{if(me[He]===Ie)return;const ct=Ie.drag===e,Ut=ct?z:J,st=ct?e.getPlaceholderElement():Ie.drag.getRootElement();Ie.offset+=Ut,_?(st.style.transform=Kd(`translate3d(${Math.round(Ie.offset)}px, 0, 0)`,Ie.initialTransform),nm(Ie.clientRect,0,Ut)):(st.style.transform=Kd(`translate3d(0, ${Math.round(Ie.offset)}px, 0)`,Ie.initialTransform),nm(Ie.clientRect,Ut,0))}),this._previousSwap.overlaps=fv(O,t,r),this._previousSwap.drag=C.drag,this._previousSwap.delta=_?o.x:o.y}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let r,o=0,c=0;if(this._parentPositions.positions.forEach((h,_)=>{_===this._document||!h.clientRect||r||pv(h.clientRect,.05,e,t)&&([o,c]=function(n,e,t,r){const o=MC(e,r),c=bv(e,t);let h=0,_=0;if(o){const b=n.scrollTop;1===o?b>0&&(h=1):n.scrollHeight-b>n.clientHeight&&(h=2)}if(c){const b=n.scrollLeft;1===c?b>0&&(_=1):n.scrollWidth-b>n.clientWidth&&(_=2)}return[h,_]}(_,h.clientRect,e,t),(o||c)&&(r=_))}),!o&&!c){const{width:h,height:_}=this._viewportRuler.getViewportSize(),b={width:h,height:_,top:0,right:h,bottom:_,left:0};o=MC(b,t),c=bv(b,e),r=window}r&&(o!==this._verticalScrollDirection||c!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=c,this._scrollNode=r,(o||c)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=sn(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=sn(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const r=t.getVisibleElement();return{drag:t,offset:0,initialTransform:r.style.transform||"",clientRect:wC(r)}}).sort((t,r)=>e?t.clientRect.left-r.clientRect.left:t.clientRect.top-r.clientRect.top)}_reset(){this._isDragging=!1;const e=sn(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{var r;const o=t.getRootElement();if(o){const c=null===(r=this._itemPositions.find(h=>h.drag===t))||void 0===r?void 0:r.initialTransform;o.style.transform=c||""}}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(e,t,r){const o="horizontal"===this._orientation,c=t[e].clientRect,h=t[e+-1*r];let _=c[o?"width":"height"]*r;if(h){const b=o?"left":"top",C=o?"right":"bottom";-1===r?_-=h.clientRect[b]-c[C]:_+=c[b]-h.clientRect[C]}return _}_getItemOffsetPx(e,t,r){const o="horizontal"===this._orientation;let c=o?t.left-e.left:t.top-e.top;return-1===r&&(c+=o?t.width-e.width:t.height-e.height),c}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,o="horizontal"===this._orientation;if(r[0].drag!==this._activeDraggables[0]){const h=r[r.length-1].clientRect;return o?e>=h.right:t>=h.bottom}{const h=r[0].clientRect;return o?e<=h.left:t<=h.top}}_getItemIndexFromPointerPosition(e,t,r,o){const c="horizontal"===this._orientation,h=vv(this._itemPositions,({drag:_,clientRect:b},C,M)=>{if(_===e)return M.length<2;if(o){const O=c?o.x:o.y;if(_===this._previousSwap.drag&&this._previousSwap.overlaps&&O===this._previousSwap.delta)return!1}return c?t>=Math.floor(b.left)&&t<Math.floor(b.right):r>=Math.floor(b.top)&&r<Math.floor(b.bottom)});return-1!==h&&this.sortPredicate(h,e,this)?h:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(e,t){return null!=this._clientRect&&fv(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,r){return this._siblings.find(o=>o._canReceive(e,t,r))}_canReceive(e,t,r){if(!this._clientRect||!fv(this._clientRect,t,r)||!this.enterPredicate(e,this))return!1;const o=this._getShadowRoot().elementFromPoint(t,r);if(!o)return!1;const c=sn(this.element);return o===c||c.contains(o)}_startReceiving(e,t){const r=this._activeSiblings;!r.has(e)&&t.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&(this._itemPositions.forEach(({clientRect:r})=>{nm(r,t.top,t.left)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=ei(sn(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function vv(n,e){for(let t=0;t<n.length;t++)if(e(n[t],t,n))return t;return-1}function iA(n,e){n===window?n.scrollBy(0,e):n.scrollTop+=e}function sm(n,e){n===window?n.scrollBy(e,0):n.scrollLeft+=e}function MC(n,e){const{top:t,bottom:r,height:o}=n,c=.05*o;return e>=t-c&&e<=t+c?1:e>=r-c&&e<=r+c?2:0}function bv(n,e){const{left:t,right:r,width:o}=n,c=.05*o;return e>=t-c&&e<=t+c?1:e>=r-c&&e<=r+c?2:0}const om=Ot({passive:!1,capture:!0});let Yd=(()=>{class n{constructor(t,r){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=o=>o.isDragging(),this.pointerMove=new Ge.xQ,this.pointerUp=new Ge.xQ,this.scroll=new Ge.xQ,this._preventDefaultWhileDragging=o=>{this._activeDragInstances.length>0&&o.preventDefault()},this._persistentTouchmoveListener=o=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&o.preventDefault(),this.pointerMove.next(o))},this._document=r}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,om)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,om)}startDragging(t,r){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const o=r.type.startsWith("touch");this._globalListeners.set(o?"touchend":"mouseup",{handler:c=>this.pointerUp.next(c),options:!0}).set("scroll",{handler:c=>this.scroll.next(c),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:om}),o||this._globalListeners.set("mousemove",{handler:c=>this.pointerMove.next(c),options:om}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((c,h)=>{this._document.addEventListener(h,c.handler,c.options)})})}}stopDragging(t){const r=this._activeDragInstances.indexOf(t);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const r=[this.scroll];return t&&t!==this._document&&r.push(new Tr.y(o=>this._ngZone.runOutsideAngular(()=>{const h=_=>{this._activeDragInstances.length&&o.next(_)};return t.addEventListener("scroll",h,!0),()=>{t.removeEventListener("scroll",h,!0)}}))),(0,Wd.T)(...r)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,r)=>{this._document.removeEventListener(r,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(se))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u.R0b),u.LFG(se))},token:n,providedIn:"root"}),n})();const Zd={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Nf=(()=>{class n{constructor(t,r,o,c){this._document=t,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=c}createDrag(t,r=Zd){return new vP(t,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new AC(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(se),u.LFG(u.R0b),u.LFG(Ks),u.LFG(Yd))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(se),u.LFG(u.R0b),u.LFG(Ks),u.LFG(Yd))},token:n,providedIn:"root"}),n})();const $l=new u.OlP("CDK_DRAG_PARENT"),cu=new u.OlP("CdkDropListGroup"),xC=new u.OlP("CDK_DRAG_CONFIG");let RC=0;const am=new u.OlP("CdkDropList");let kC=(()=>{class n{constructor(t,r,o,c,h,_,b){this.element=t,this._changeDetectorRef=o,this._scrollDispatcher=c,this._dir=h,this._group=_,this._destroyed=new Ge.xQ,this.connectedTo=[],this.id="cdk-drop-list-"+RC++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new u.vpe,this.entered=new u.vpe,this.exited=new u.vpe,this.sorted=new u.vpe,this._unsortedItems=new Set,this._dropListRef=r.createDropList(t),this._dropListRef.data=this,b&&this._assignDefaults(b),this._dropListRef.enterPredicate=(C,M)=>this.enterPredicate(C.data,M.data),this._dropListRef.sortPredicate=(C,M,O)=>this.sortPredicate(C,M.data,O.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),_&&_._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=Zt(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,r)=>t._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=n._dropLists.indexOf(this);t>-1&&n._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(Ar(this._dir.value),En(this._destroyed)).subscribe(r=>t.withDirection(r)),t.beforeStarted.subscribe(()=>{const r=Pl(this.connectedTo).map(o=>"string"==typeof o?n._dropLists.find(h=>h.id===o):o);if(this._group&&this._group._items.forEach(o=>{-1===r.indexOf(o)&&r.push(o)}),!this._scrollableParentsResolved){const o=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(c=>c.getElementRef().nativeElement);this._dropListRef.withScrollableParents(o),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=Zt(this.sortingDisabled),t.autoScrollDisabled=Zt(this.autoScrollDisabled),t.autoScrollStep=Mn(this.autoScrollStep,2),t.connectedTo(r.filter(o=>o&&o!==this).map(o=>o._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:r,draggingDisabled:o,sortingDisabled:c,listAutoScrollDisabled:h,listOrientation:_}=t;this.disabled=null!=o&&o,this.sortingDisabled=null!=c&&c,this.autoScrollDisabled=null!=h&&h,this.orientation=_||"vertical",r&&(this.lockAxis=r)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Nf),u.Y36(u.sBO),u.Y36(Zi),u.Y36(Ws,8),u.Y36(cu,12),u.Y36(xC,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("id",r.id),u.ekj("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[u._Bn([{provide:cu,useValue:void 0},{provide:am,useExisting:n}])]}),n._dropLists=[],n})();const Qd=new u.OlP("CdkDragHandle"),wv=new u.OlP("CdkDragPlaceholder"),Cv=new u.OlP("CdkDragPreview");let OC=(()=>{class n{constructor(t,r,o,c,h,_,b,C,M,O,G){this.element=t,this.dropContainer=r,this._ngZone=c,this._viewContainerRef=h,this._dir=b,this._changeDetectorRef=M,this._selfHandle=O,this._parentDrag=G,this._destroyed=new Ge.xQ,this.started=new u.vpe,this.released=new u.vpe,this.ended=new u.vpe,this.entered=new u.vpe,this.exited=new u.vpe,this.dropped=new u.vpe,this.moved=new Tr.y(z=>{const J=this._dragRef.moved.pipe((0,gt.U)(me=>({source:this,pointerPosition:me.pointerPosition,event:me.event,delta:me.delta,distance:me.distance}))).subscribe(z);return()=>{J.unsubscribe()}}),this._dragRef=C.createDrag(t,{dragStartThreshold:_&&null!=_.dragStartThreshold?_.dragStartThreshold:5,pointerDirectionChangeThreshold:_&&null!=_.pointerDirectionChangeThreshold?_.pointerDirectionChangeThreshold:5,zIndex:null==_?void 0:_.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),_&&this._assignDefaults(_),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Zt(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(oe(1),En(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const r=t.rootElementSelector,o=t.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const t=this.element.nativeElement,r=this.rootElementSelector?PC(t,this.rootElementSelector):t;this._dragRef.withRootElement(r||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?PC(this.element.nativeElement,t):sn(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const r=this._dir,o=this.dragStartDelay,c=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,h=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof o&&o?o:Mn(o),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(c).withPreviewTemplate(h).withPreviewContainer(this.previewContainer||"global"),r&&t.withDirection(r.value)}}),t.beforeStarted.pipe(oe(1)).subscribe(()=>{var r,o;if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let c=this.element.nativeElement.parentElement;for(;c;){if(null===(r=c.classList)||void 0===r?void 0:r.contains("cdk-drag")){t.withParent((null===(o=n._dragInstances.find(h=>h.element.nativeElement===c))||void 0===o?void 0:o._dragRef)||null);break}c=c.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint})})}_assignDefaults(t){const{lockAxis:r,dragStartDelay:o,constrainPosition:c,previewClass:h,boundaryElement:_,draggingDisabled:b,rootElementSelector:C,previewContainer:M}=t;this.disabled=null!=b&&b,this.dragStartDelay=o||0,r&&(this.lockAxis=r),c&&(this.constrainPosition=c),h&&(this.previewClass=h),_&&(this.boundaryElement=_),C&&(this.rootElementSelector=C),M&&(this.previewContainer=M)}_setupHandlesListener(){this._handles.changes.pipe(Ar(this._handles),(0,hv.b)(t=>{const r=t.filter(o=>o._parentDrag===this).map(o=>o.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),rr(t=>(0,Wd.T)(...t.map(r=>r._stateChanges.pipe(Ar(r))))),En(this._destroyed)).subscribe(t=>{const r=this._dragRef,o=t.element.nativeElement;t.disabled?r.disableHandle(o):r.enableHandle(o)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(am,12),u.Y36(se),u.Y36(u.R0b),u.Y36(u.s_b),u.Y36(xC,8),u.Y36(Ws,8),u.Y36(Nf),u.Y36(u.sBO),u.Y36(Qd,10),u.Y36($l,12))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,r,o){if(1&t&&(u.Suo(o,Cv,5),u.Suo(o,wv,5),u.Suo(o,Qd,5)),2&t){let c;u.iGM(c=u.CRH())&&(r._previewTemplate=c.first),u.iGM(c=u.CRH())&&(r._placeholderTemplate=c.first),u.iGM(c=u.CRH())&&(r._handles=c)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,r){2&t&&u.ekj("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],previewContainer:["cdkDragPreviewContainer","previewContainer"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[u._Bn([{provide:$l,useExisting:n}]),u.TTD]}),n._dragInstances=[],n})();function PC(n,e){let t=n.parentElement;for(;t;){if(t.matches?t.matches(e):t.msMatchesSelector(e))return t;t=t.parentElement}return null}let cA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Nf],imports:[qa]}),n})();class NC{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Dv extends NC{constructor(e,t,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=o}}class Jd extends NC{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class FC extends NC{constructor(e){super(),this.element=e instanceof u.SBq?e.nativeElement:e}}class Iv{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Dv?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Jd?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof FC?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class dA extends Iv{constructor(e,t,r,o,c){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=o,this.attachDomPortal=h=>{const _=h.element,b=this._document.createComment("dom-portal");_.parentNode.insertBefore(b,_),this.outletElement.appendChild(_),this._attachedPortal=h,super.setDisposeFn(()=>{b.parentNode&&b.parentNode.replaceChild(_,b)})},this._document=c}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let o;return e.viewContainerRef?(o=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>o.destroy())):(o=r.create(e.injector||this._defaultInjector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=e,o}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(o=>this.outletElement.appendChild(o)),r.detectChanges(),this.setDisposeFn(()=>{let o=t.indexOf(r);-1!==o&&t.remove(o)}),this._attachedPortal=e,r}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let lm=(()=>{class n extends Iv{constructor(t,r,o){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new u.vpe,this.attachDomPortal=c=>{const h=c.element,_=this._document.createComment("dom-portal");c.setAttachedHost(this),h.parentNode.insertBefore(_,h),this._getRootNode().appendChild(h),this._attachedPortal=c,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(h,_)})},this._document=o}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,c=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),h=r.createComponent(c,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(h.hostView.rootNodes[0]),super.setDisposeFn(()=>h.destroy()),this._attachedPortal=t,this._attachedRef=h,this.attached.emit(h),h}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36(se))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[u.qOj]}),n})(),Tv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const VC=Wn();class mA{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=hn(-this._previousScrollPosition.left),e.style.top=hn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,o=this._document.body.style,c=r.scrollBehavior||"",h=o.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),VC&&(r.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),VC&&(r.scrollBehavior=c,o.scrollBehavior=h)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class BC{constructor(e,t,r,o){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class UC{enable(){}disable(){}attach(){}}function Av(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function jC(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Mv{constructor(e,t,r,o){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=o,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:o}=this._viewportRuler.getViewportSize();Av(t,[{width:r,height:o,bottom:o,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let _A=(()=>{class n{constructor(t,r,o,c){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new UC,this.close=h=>new BC(this._scrollDispatcher,this._ngZone,this._viewportRuler,h),this.block=()=>new mA(this._viewportRuler,this._document),this.reposition=h=>new Mv(this._scrollDispatcher,this._viewportRuler,this._ngZone,h),this._document=c}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Zi),u.LFG(Ks),u.LFG(u.R0b),u.LFG(se))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(Zi),u.LFG(Ks),u.LFG(u.R0b),u.LFG(se))},token:n,providedIn:"root"}),n})();class xv{constructor(e){if(this.scrollStrategy=new UC,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class cm{constructor(e,t,r,o,c){this.offsetX=r,this.offsetY=o,this.panelClass=c,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class yA{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let Rv=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(se))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(se))},token:n,providedIn:"root"}),n})(),vA=(()=>{class n extends Rv{constructor(t){super(t),this._keydownListener=r=>{const o=this._attachedOverlays;for(let c=o.length-1;c>-1;c--)if(o[c]._keydownEvents.observers.length>0){o[c]._keydownEvents.next(r);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(se))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(se))},token:n,providedIn:"root"}),n})(),bA=(()=>{class n extends Rv{constructor(t,r){super(t),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=kn(o)},this._clickListener=o=>{const c=kn(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let b=_.length-1;b>-1;b--){const C=_[b];if(!(C._outsidePointerEvents.observers.length<1)&&C.hasAttached()){if(C.overlayElement.contains(c)||C.overlayElement.contains(h))break;C._outsidePointerEvents.next(o)}}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(se),u.LFG(V))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(se),u.LFG(V))},token:n,providedIn:"root"}),n})(),uu=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Xc()){const o=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let c=0;c<o.length;c++)o[c].parentNode.removeChild(o[c])}const r=this._document.createElement("div");r.classList.add(t),Xc()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(se),u.LFG(V))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(se),u.LFG(V))},token:n,providedIn:"root"}),n})();class IP{constructor(e,t,r,o,c,h,_,b,C){this._portalOutlet=e,this._host=t,this._pane=r,this._config=o,this._ngZone=c,this._keyboardDispatcher=h,this._document=_,this._location=b,this._outsideClickDispatcher=C,this._backdropElement=null,this._backdropClick=new Ge.xQ,this._attachments=new Ge.xQ,this._detachments=new Ge.xQ,this._locationChanges=Sr.w.EMPTY,this._backdropClickHandler=M=>this._backdropClick.next(M),this._keydownEvents=new Ge.xQ,this._outsidePointerEvents=new Ge.xQ,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(oe(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=hn(this._config.width),e.height=hn(this._config.height),e.minWidth=hn(this._config.minWidth),e.minHeight=hn(this._config.minHeight),e.maxWidth=hn(this._config.maxWidth),e.maxHeight=hn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const o=e.classList;Pl(t).forEach(c=>{c&&(r?o.add(c):o.remove(c))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(En((0,Wd.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.parentNode&&e.parentNode.removeChild(e),this._backdropElement===e&&(this._backdropElement=null))}}const zC="cdk-overlay-connected-position-bounding-box",qC=/([A-Za-z%]+)$/;class kv{constructor(e,t,r,o,c){this._viewportRuler=t,this._document=r,this._platform=o,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ge.xQ,this._resizeSubscription=Sr.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(zC),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,o=[];let c;for(let h of this._preferredPositions){let _=this._getOriginPoint(e,h),b=this._getOverlayPoint(_,t,h),C=this._getOverlayFit(b,t,r,h);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,_);this._canFitWithFlexibleDimensions(C,b,r)?o.push({position:h,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,h)}):(!c||c.overlayFit.visibleArea<C.visibleArea)&&(c={overlayFit:C,overlayPoint:b,originPoint:_,position:h,overlayRect:t})}if(o.length){let h=null,_=-1;for(const b of o){const C=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);C>_&&(_=C,h=b)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&zl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(zC),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let r,o;if("center"==t.originX)r=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;r="start"==t.originX?c:h}return o="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:r,y:o}}_getOverlayPoint(e,t,r){let o,c;return o="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,c="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+o,y:e.y+c}}_getOverlayFit(e,t,r,o){const c=Pv(t);let{x:h,y:_}=e,b=this._getOffset(o,"x"),C=this._getOffset(o,"y");b&&(h+=b),C&&(_+=C);let G=0-_,z=_+c.height-r.height,J=this._subtractOverflows(c.width,0-h,h+c.width-r.width),me=this._subtractOverflows(c.height,G,z),Ie=J*me;return{visibleArea:Ie,isCompletelyWithinViewport:c.width*c.height===Ie,fitsInViewportVertically:me===c.height,fitsInViewportHorizontally:J==c.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const o=r.bottom-t.y,c=r.right-t.x,h=Ov(this._overlayRef.getConfig().minHeight),_=Ov(this._overlayRef.getConfig().minWidth),C=e.fitsInViewportHorizontally||null!=_&&_<=c;return(e.fitsInViewportVertically||null!=h&&h<=o)&&C}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const o=Pv(t),c=this._viewportRect,h=Math.max(e.x+o.width-c.width,0),_=Math.max(e.y+o.height-c.height,0),b=Math.max(c.top-r.top-e.y,0),C=Math.max(c.left-r.left-e.x,0);let M=0,O=0;return M=o.width<=c.width?C||-h:e.x<this._viewportMargin?c.left-r.left-e.x:0,O=o.height<=c.height?b||-_:e.y<this._viewportMargin?c.top-r.top-e.y:0,this._previousPushAmount={x:M,y:O},{x:e.x+M,y:e.y+O}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),o=new yA(e,r);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,o=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let c=0;c<t.length;c++)t[c].style.transformOrigin=`${r} ${o}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,o=this._isRtl();let c,h,_,M,O,G;if("top"===t.overlayY)h=e.y,c=r.height-h+this._viewportMargin;else if("bottom"===t.overlayY)_=r.height-e.y+2*this._viewportMargin,c=r.height-_+this._viewportMargin;else{const z=Math.min(r.bottom-e.y+r.top,e.y),J=this._lastBoundingBoxSize.height;c=2*z,h=e.y-z,c>J&&!this._isInitialRender&&!this._growAfterOpen&&(h=e.y-J/2)}if("end"===t.overlayX&&!o||"start"===t.overlayX&&o)G=r.width-e.x+this._viewportMargin,M=e.x-this._viewportMargin;else if("start"===t.overlayX&&!o||"end"===t.overlayX&&o)O=e.x,M=r.right-e.x;else{const z=Math.min(r.right-e.x+r.left,e.x),J=this._lastBoundingBoxSize.width;M=2*z,O=e.x-z,M>J&&!this._isInitialRender&&!this._growAfterOpen&&(O=e.x-J/2)}return{top:h,left:O,bottom:_,right:G,width:M,height:c}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,h=this._overlayRef.getConfig().maxWidth;o.height=hn(r.height),o.top=hn(r.top),o.bottom=hn(r.bottom),o.width=hn(r.width),o.left=hn(r.left),o.right=hn(r.right),o.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",o.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",c&&(o.maxHeight=hn(c)),h&&(o.maxWidth=hn(h))}this._lastBoundingBoxSize=r,zl(this._boundingBox.style,o)}_resetBoundingBoxStyles(){zl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){zl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},o=this._hasExactPosition(),c=this._hasFlexibleDimensions,h=this._overlayRef.getConfig();if(o){const M=this._viewportRuler.getViewportScrollPosition();zl(r,this._getExactOverlayY(t,e,M)),zl(r,this._getExactOverlayX(t,e,M))}else r.position="static";let _="",b=this._getOffset(t,"x"),C=this._getOffset(t,"y");b&&(_+=`translateX(${b}px) `),C&&(_+=`translateY(${C}px)`),r.transform=_.trim(),h.maxHeight&&(o?r.maxHeight=hn(h.maxHeight):c&&(r.maxHeight="")),h.maxWidth&&(o?r.maxWidth=hn(h.maxWidth):c&&(r.maxWidth="")),zl(this._pane.style,r)}_getExactOverlayY(e,t,r){let o={top:"",bottom:""},c=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,r));let h=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return c.y-=h,"bottom"===e.overlayY?o.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":o.top=hn(c.y),o}_getExactOverlayX(e,t,r){let h,o={left:"",right:""},c=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,r)),h=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===h?o.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":o.left=hn(c.x),o}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:jC(e,r),isOriginOutsideView:Av(e,r),isOverlayClipped:jC(t,r),isOverlayOutsideView:Av(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,o)=>r-Math.max(o,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Pl(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof u.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function zl(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Ov(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(qC);return t&&"px"!==t?null:parseFloat(e)}return n||null}function Pv(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}class Xa{constructor(e,t,r,o,c,h,_){this._preferredPositions=[],this._positionStrategy=new kv(r,o,c,h,_).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,r,o){const c=new cm(e,t,r,o);return this._preferredPositions.push(c),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}const Lf="cdk-global-overlay-wrapper";class EA{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Lf),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:o,height:c,maxWidth:h,maxHeight:_}=r,b=!("100%"!==o&&"100vw"!==o||h&&"100%"!==h&&"100vw"!==h),C=!("100%"!==c&&"100vh"!==c||_&&"100%"!==_&&"100vh"!==_);e.position=this._cssPosition,e.marginLeft=b?"0":this._leftOffset,e.marginTop=C?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,b?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=C?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(Lf),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let wA=(()=>{class n{constructor(t,r,o,c){this._viewportRuler=t,this._document=r,this._platform=o,this._overlayContainer=c}global(){return new EA}connectedTo(t,r,o){return new Xa(r,o,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new kv(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ks),u.LFG(se),u.LFG(V),u.LFG(uu))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(Ks),u.LFG(se),u.LFG(V),u.LFG(uu))},token:n,providedIn:"root"}),n})(),TP=0,vo=(()=>{class n{constructor(t,r,o,c,h,_,b,C,M,O,G){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=c,this._keyboardDispatcher=h,this._injector=_,this._ngZone=b,this._document=C,this._directionality=M,this._location=O,this._outsideClickDispatcher=G}create(t){const r=this._createHostElement(),o=this._createPaneElement(r),c=this._createPortalOutlet(o),h=new xv(t);return h.direction=h.direction||this._directionality.value,new IP(c,r,o,h,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+TP++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(u.z2F)),new dA(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_A),u.LFG(uu),u.LFG(u._Vd),u.LFG(wA),u.LFG(vA),u.LFG(u.zs3),u.LFG(u.R0b),u.LFG(se),u.LFG(Ws),u.LFG(ut),u.LFG(bA))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const KC={provide:new u.OlP("cdk-connected-overlay-scroll-strategy"),deps:[vo],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let CA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[vo,KC],imports:[[bs,Tv,Ul],Ul]}),n})();const YC=new u.GfV("12.2.13");class dm{}const el="*";function Fv(n,e){return{type:7,name:n,definitions:e,options:{}}}function ql(n,e=null){return{type:4,styles:e,timings:n}}function ZC(n,e=null){return{type:2,steps:n,options:e}}function Wl(n){return{type:6,styles:n,offset:null}}function Kl(n,e,t){return{type:0,name:n,styles:e,options:t}}function Lv(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function wn(n){Promise.resolve(null).then(n)}class Yl{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){wn(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class AA{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,o=0;const c=this.players.length;0==c?wn(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++t==c&&this._onFinish()}),h.onDestroy(()=>{++r==c&&this._onDestroy()}),h.onStart(()=>{++o==c&&this._onStart()})}),this.totalTime=this.players.reduce((h,_)=>Math.max(h,_.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(o)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function hm(){return"undefined"!=typeof window&&void 0!==window.document}function Vf(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function du(n){switch(n.length){case 0:return new Yl;case 1:return n[0];default:return new AA(n)}}function QC(n,e,t,r,o={},c={}){const h=[],_=[];let b=-1,C=null;if(r.forEach(M=>{const O=M.offset,G=O==b,z=G&&C||{};Object.keys(M).forEach(J=>{let me=J,Ie=M[J];if("offset"!==J)switch(me=e.normalizePropertyName(me,h),Ie){case"!":Ie=o[J];break;case el:Ie=c[J];break;default:Ie=e.normalizeStyleValue(J,me,Ie,h)}z[me]=Ie}),G||_.push(z),C=z,b=O}),h.length){const M="\n - ";throw new Error(`Unable to animate due to the following errors:${M}${h.join(M)}`)}return _}function Vv(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&fm(t,"start",n)));break;case"done":n.onDone(()=>r(t&&fm(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&fm(t,"destroy",n)))}}function fm(n,e,t){const r=t.totalTime,c=pm(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),h=n._data;return null!=h&&(c._data=h),c}function pm(n,e,t,r,o="",c=0,h){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:o,totalTime:c,disabled:!!h}}function Ji(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function Bv(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let Uv=(n,e)=>!1,hu=(n,e)=>!1,jv=(n,e,t)=>[];const Hv=Vf();(Hv||"undefined"!=typeof Element)&&(Uv=hm()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),hu=(()=>{if(Hv||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):hu}})(),jv=(n,e,t)=>{let r=[];if(t){const o=n.querySelectorAll(e);for(let c=0;c<o.length;c++)r.push(o[c])}else{const o=n.querySelector(e);o&&r.push(o)}return r});let fu=null,eD=!1;function Gv(n){fu||(fu=("undefined"!=typeof document?document.body:null)||{},eD=!!fu.style&&"WebkitAppearance"in fu.style);let e=!0;return fu.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in fu.style,!e&&eD&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in fu.style)),e}const gm=hu,tD=Uv,mm=jv;function nD(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let rD=(()=>{class n{validateStyleProperty(t){return Gv(t)}matchesElement(t,r){return gm(t,r)}containsElement(t,r){return tD(t,r)}query(t,r,o){return mm(t,r,o)}computeStyle(t,r,o){return o||""}animate(t,r,o,c,h,_=[],b){return new Yl(o,c)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),iD=(()=>{class n{}return n.NOOP=new rD,n})();const ym="ng-enter",Bf="ng-leave",$v="ng-trigger",zv=".ng-trigger",kA="ng-animating",vm=".ng-animating";function Zl(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:bm(parseFloat(e[1]),e[2])}function bm(n,e){switch(e){case"s":return 1e3*n;default:return n}}function Em(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let o,c=0,h="";if("string"==typeof n){const _=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};o=bm(parseFloat(_[1]),_[2]);const b=_[3];null!=b&&(c=bm(parseFloat(b),_[4]));const C=_[5];C&&(h=C)}else o=n;if(!t){let _=!1,b=e.length;o<0&&(e.push("Duration values below 0 are not allowed for this animation step."),_=!0),c<0&&(e.push("Delay values below 0 are not allowed for this animation step."),_=!0),_&&e.splice(b,0,`The provided timing value "${n}" is invalid.`)}return{duration:o,delay:c,easing:h}}(n,e,t)}function pu(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Ql(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else pu(n,t);return t}function Cm(n,e,t){return t?e+":"+t+";":""}function sD(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Cm(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Cm(0,PA(t),n.style[t]));n.setAttribute("style",e)}function ua(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const o=mu(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[o]),n.style[o]=e[r]}),Vf()&&sD(n))}function gu(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=mu(t);n.style[r]=""}),Vf()&&sD(n))}function Uf(n){return Array.isArray(n)?1==n.length?n[0]:ZC(n):n}const qv=new RegExp("{{\\s*(.+?)\\s*}}","g");function jf(n){let e=[];if("string"==typeof n){let t;for(;t=qv.exec(n);)e.push(t[1]);qv.lastIndex=0}return e}function tl(n,e,t){const r=n.toString(),o=r.replace(qv,(c,h)=>{let _=e[h];return e.hasOwnProperty(h)||(t.push(`Please provide a value for the animation param ${h}`),_=""),_.toString()});return o==r?n:o}function Hf(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Eo=/-+([a-z0-9])/g;function mu(n){return n.replace(Eo,(...e)=>e[1].toUpperCase())}function PA(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function oD(n,e){return 0===n||0===e}function Dm(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let c=e[0],h=[];if(r.forEach(_=>{c.hasOwnProperty(_)||h.push(_),c[_]=t[_]}),h.length)for(var o=1;o<e.length;o++){let _=e[o];h.forEach(function(b){_[b]=_u(n,b)})}}return e}function Yn(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function _u(n,e){return window.getComputedStyle(n)[e]}function yu(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const b=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof b)return void e.push(b);n=b}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const o=r[1],c=r[2],h=r[3];e.push(vu(o,h));"<"==c[0]&&!("*"==o&&"*"==h)&&e.push(vu(h,o))}(r,t,e)):t.push(n),t}const eh=new Set(["true","1"]),nl=new Set(["false","0"]);function vu(n,e){const t=eh.has(n)||nl.has(n),r=eh.has(e)||nl.has(e);return(o,c)=>{let h="*"==n||n==o,_="*"==e||e==c;return!h&&t&&"boolean"==typeof o&&(h=o?eh.has(n):nl.has(n)),!_&&r&&"boolean"==typeof c&&(_=c?eh.has(e):nl.has(e)),h&&_}}const th=new RegExp("s*:selfs*,?","g");function Jl(n,e,t){return new nh(n).build(e,t)}class nh{constructor(e){this._driver=e}build(e,t){const r=new aD(t);return this._resetContextStyleTimingState(r),Yn(this,Uf(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,o=t.depCount=0;const c=[],h=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(_=>{if(this._resetContextStyleTimingState(t),0==_.type){const b=_,C=b.name;C.toString().split(/\s*,\s*/).forEach(M=>{b.name=M,c.push(this.visitState(b,t))}),b.name=C}else if(1==_.type){const b=this.visitTransition(_,t);r+=b.queryCount,o+=b.depCount,h.push(b)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:c,transitions:h,queryCount:r,depCount:o,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(r.containsDynamicStyles){const c=new Set,h=o||{};if(r.styles.forEach(_=>{if(Gf(_)){const b=_;Object.keys(b).forEach(C=>{jf(b[C]).forEach(M=>{h.hasOwnProperty(M)||c.add(M)})})}}),c.size){const _=Hf(c.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${_.join(", ")}`)}}return{type:0,name:e.name,style:r,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Yn(this,Uf(e.animation),t);return{type:1,matchers:yu(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Xl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Yn(this,r,t)),options:Xl(e.options)}}visitGroup(e,t){const r=t.currentTime;let o=0;const c=e.steps.map(h=>{t.currentTime=r;const _=Yn(this,h,t);return o=Math.max(o,t.currentTime),_});return t.currentTime=o,{type:3,steps:c,options:Xl(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return Tm(Em(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=Tm(0,0,"");return c.dynamic=!0,c.strValue=r,c}return t=t||Em(r,e),Tm(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let o,c=e.styles?e.styles:Wl({});if(5==c.type)o=this.visitKeyframes(c,t);else{let h=e.styles,_=!1;if(!h){_=!0;const C={};r.easing&&(C.easing=r.easing),h=Wl(C)}t.currentTime+=r.duration+r.delay;const b=this.visitStyle(h,t);b.isEmptyStep=_,o=b}return t.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(h=>{"string"==typeof h?h==el?r.push(h):t.errors.push(`The provided style string value ${h} is not allowed.`):r.push(h)}):r.push(e.styles);let o=!1,c=null;return r.forEach(h=>{if(Gf(h)){const _=h,b=_.easing;if(b&&(c=b,delete _.easing),!o)for(let C in _)if(_[C].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let o=t.currentTime,c=t.currentTime;r&&c>0&&(c-=r.duration+r.delay),e.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(_=>{if(!this._driver.validateStyleProperty(_))return void t.errors.push(`The provided animation property "${_}" is not a supported CSS property for animations`);const b=t.collectedStyles[t.currentQuerySelector],C=b[_];let M=!0;C&&(c!=o&&c>=C.startTime&&o<=C.endTime&&(t.errors.push(`The CSS property "${_}" that exists between the times of "${C.startTime}ms" and "${C.endTime}ms" is also being animated in a parallel animation between the times of "${c}ms" and "${o}ms"`),M=!1),c=C.startTime),M&&(b[_]={startTime:c,endTime:o}),t.options&&function(n,e,t){const r=e.params||{},o=jf(n);o.length&&o.forEach(c=>{r.hasOwnProperty(c)||t.push(`Unable to resolve the local animation param ${c} in the given list of values`)})}(h[_],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let c=0;const h=[];let _=!1,b=!1,C=0;const M=e.steps.map(He=>{const ct=this._makeStyleAst(He,t);let Ut=null!=ct.offset?ct.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Gf(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Gf(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(ct.styles),st=0;return null!=Ut&&(c++,st=ct.offset=Ut),b=b||st<0||st>1,_=_||st<C,C=st,h.push(st),ct});b&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),_&&t.errors.push("Please ensure that all keyframe offsets are in order");const O=e.steps.length;let G=0;c>0&&c<O?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==c&&(G=1/(O-1));const z=O-1,J=t.currentTime,me=t.currentAnimateTimings,Ie=me.duration;return M.forEach((He,ct)=>{const Ut=G>0?ct==z?1:G*ct:h[ct],st=Ut*Ie;t.currentTime=J+me.delay+st,me.duration=st,this._validateStyleAst(He,t),He.offset=Ut,r.styles.push(He)}),r}visitReference(e,t){return{type:8,animation:Yn(this,Uf(e.animation),t),options:Xl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Xl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Xl(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;const[c,h]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(th,"")),[n=n.replace(/@\*/g,zv).replace(/@\w+/g,t=>zv+"-"+t.substr(1)).replace(/:animating/g,vm),e]}(e.selector);t.currentQuerySelector=r.length?r+" "+c:c,Ji(t.collectedStyles,t.currentQuerySelector,{});const _=Yn(this,Uf(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:c,limit:o.limit||0,optional:!!o.optional,includeSelf:h,animation:_,originalSelector:e.selector,options:Xl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Em(e.timings,t.errors,!0);return{type:12,animation:Yn(this,Uf(e.animation),t),timings:r,options:null}}}class aD{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Gf(n){return!Array.isArray(n)&&"object"==typeof n}function Xl(n){return n?(n=pu(n)).params&&(n.params=function(n){return n?pu(n):null}(n.params)):n={},n}function Tm(n,e,t){return{duration:n,delay:e,easing:t}}function Sm(n,e,t,r,o,c,h=null,_=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:o,delay:c,totalTime:o+c,easing:h,subTimeline:_}}class $f{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const dD=new RegExp(":enter","g"),hD=new RegExp(":leave","g");function Am(n,e,t,r,o,c={},h={},_,b,C=[]){return(new LA).buildKeyframes(n,e,t,r,o,c,h,_,b,C)}class LA{buildKeyframes(e,t,r,o,c,h,_,b,C,M=[]){C=C||new $f;const O=new Kv(e,t,C,o,c,M,[]);O.options=b,O.currentTimeline.setStyles([h],null,O.errors,b),Yn(this,r,O);const G=O.timelines.filter(z=>z.containsAnimation());if(G.length&&Object.keys(_).length){const z=G[G.length-1];z.allowOnlyTimelineStyles()||z.setStyles([_],null,O.errors,b)}return G.length?G.map(z=>z.buildKeyframes()):[Sm(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const o=t.createSubContext(e.options),c=t.currentTimeline.currentTime,h=this._visitSubInstructions(r,o,o.options);c!=h&&t.transformIntoNewTimeline(h)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let c=t.currentTimeline.currentTime;const h=null!=r.duration?Zl(r.duration):null,_=null!=r.delay?Zl(r.delay):null;return 0!==h&&e.forEach(b=>{const C=t.appendInstructionToTimeline(b,h,_);c=Math.max(c,C.duration+C.delay)}),c}visitReference(e,t){t.updateOptions(e.options,!0),Yn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let o=t;const c=e.options;if(c&&(c.params||c.delay)&&(o=t.createSubContext(c),o.transformIntoNewTimeline(),null!=c.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Wv);const h=Zl(c.delay);o.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>Yn(this,h,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let o=t.currentTimeline.currentTime;const c=e.options&&e.options.delay?Zl(e.options.delay):0;e.steps.forEach(h=>{const _=t.createSubContext(e.options);c&&_.delayNextStep(c),Yn(this,h,_),o=Math.max(o,_.currentTimeline.currentTime),r.push(_.currentTimeline)}),r.forEach(h=>t.currentTimeline.mergeTimelineCollectedStyles(h)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Em(t.params?tl(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),o.snapshotCurrentStyles());const c=e.style;5==c.type?this.visitKeyframes(c,t):(t.incrementTime(r.duration),this.visitStyle(c,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,o=t.currentAnimateTimings;!o&&r.getCurrentStyleProperties().length&&r.forwardFrame();const c=o&&o.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(c):r.setStyles(e.styles,c,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,o=t.currentTimeline.duration,c=r.duration,_=t.createSubContext().currentTimeline;_.easing=r.easing,e.styles.forEach(b=>{_.forwardTime((b.offset||0)*c),_.setStyles(b.styles,b.easing,t.errors,t.options),_.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(_),t.transformIntoNewTimeline(o+c),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,o=e.options||{},c=o.delay?Zl(o.delay):0;c&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Wv);let h=r;const _=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=_.length;let b=null;_.forEach((C,M)=>{t.currentQueryIndex=M;const O=t.createSubContext(e.options,C);c&&O.delayNextStep(c),C===t.element&&(b=O.currentTimeline),Yn(this,e.animation,O),O.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,O.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(h),b&&(t.currentTimeline.mergeTimelineCollectedStyles(b),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,o=t.currentTimeline,c=e.timings,h=Math.abs(c.duration),_=h*(t.currentQueryTotal-1);let b=h*t.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":b=_-b;break;case"full":b=r.currentStaggerTime}const M=t.currentTimeline;b&&M.delayNextStep(b);const O=M.currentTime;Yn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=o.currentTime-O+(o.startTime-r.currentTimeline.startTime)}}const Wv={};class Kv{constructor(e,t,r,o,c,h,_,b){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=c,this.errors=h,this.timelines=_,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Wv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=b||new zf(this._driver,t,0),_.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let o=this.options;null!=r.duration&&(o.duration=Zl(r.duration)),null!=r.delay&&(o.delay=Zl(r.delay));const c=r.params;if(c){let h=o.params;h||(h=this.options.params={}),Object.keys(c).forEach(_=>{(!t||!h.hasOwnProperty(_))&&(h[_]=tl(c[_],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(o=>{r[o]=t[o]})}}return e}createSubContext(e=null,t,r){const o=t||this.element,c=new Kv(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(e),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(e){return this.previousNode=Wv,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const o={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},c=new VA(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(c),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,o,c,h){let _=[];if(o&&_.push(this.element),e.length>0){e=(e=e.replace(dD,"."+this._enterClassName)).replace(hD,"."+this._leaveClassName);let C=this._driver.query(this.element,e,1!=r);0!==r&&(C=r<0?C.slice(C.length+r,C.length):C.slice(0,r)),_.push(...C)}return!c&&0==_.length&&h.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),_}}class zf{constructor(e,t,r,o){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new zf(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||el,this._currentKeyframe[t]=el}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,o){t&&(this._previousKeyframe.easing=t);const c=o&&o.params||{},h=function(n,e){const t={};let r;return n.forEach(o=>{"*"===o?(r=r||Object.keys(e),r.forEach(c=>{t[c]=el})):Ql(o,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(h).forEach(_=>{const b=tl(h[_],c,r);this._pendingStyles[_]=b,this._localTimelineStyles.hasOwnProperty(_)||(this._backFill[_]=this._globalTimelineStyles.hasOwnProperty(_)?this._globalTimelineStyles[_]:el),this._updateStyle(_,b)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],o=e._styleSummary[t];(!r||o.time>r.time)&&this._updateStyle(t,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((_,b)=>{const C=Ql(_,!0);Object.keys(C).forEach(M=>{const O=C[M];"!"==O?e.add(M):O==el&&t.add(M)}),r||(C.offset=b/this.duration),o.push(C)});const c=e.size?Hf(e.values()):[],h=t.size?Hf(t.values()):[];if(r){const _=o[0],b=pu(_);_.offset=0,b.offset=1,o=[_,b]}return Sm(this.element,o,c,h,this.duration,this.startTime,this.easing,!1)}}class VA extends zf{constructor(e,t,r,o,c,h,_=!1){super(e,t,h.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=c,this._stretchStartingKeyframe=_,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){const c=[],h=r+t,_=t/h,b=Ql(e[0],!1);b.offset=0,c.push(b);const C=Ql(e[0],!1);C.offset=Yv(_),c.push(C);const M=e.length-1;for(let O=1;O<=M;O++){let G=Ql(e[O],!1);G.offset=Yv((t+G.offset*r)/h),c.push(G)}r=h,t=0,o="",e=c}return Sm(this.element,e,this.preStyleProps,this.postStyleProps,r,t,o,!0)}}function Yv(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class fD{}class pD extends fD{normalizePropertyName(e,t){return mu(e)}normalizeStyleValue(e,t,r,o){let c="";const h=r.toString().trim();if(LP[t]&&0!==r&&"0"!==r)if("number"==typeof r)c="px";else{const _=r.match(/^[+-]?[\d\.]+([a-z]*)$/);_&&0==_[1].length&&o.push(`Please provide a CSS unit value for ${e}:${r}`)}return h+c}}const LP=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function gD(n,e,t,r,o,c,h,_,b,C,M,O,G){return{type:0,element:n,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:c,toState:r,toStyles:h,timelines:_,queriedElements:b,preStyleProps:C,postStyleProps:M,totalTime:O,errors:G}}const mD={};class _D{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,o){return function(n,e,t,r,o){return n.some(c=>c(e,t,r,o))}(this.ast.matchers,e,t,r,o)}buildStyles(e,t,r){const o=this._stateStyles["*"],c=this._stateStyles[e],h=o?o.buildStyles(t,r):{};return c?c.buildStyles(t,r):h}build(e,t,r,o,c,h,_,b,C,M){const O=[],G=this.ast.options&&this.ast.options.params||mD,J=this.buildStyles(r,_&&_.params||mD,O),me=b&&b.params||mD,Ie=this.buildStyles(o,me,O),He=new Set,ct=new Map,Ut=new Map,st="void"===o,gn={params:Object.assign(Object.assign({},G),me)},ar=M?[]:Am(e,t,this.ast.animation,c,h,J,Ie,gn,C,O);let Gi=0;if(ar.forEach(nd=>{Gi=Math.max(nd.duration+nd.delay,Gi)}),O.length)return gD(t,this._triggerName,r,o,st,J,Ie,[],[],ct,Ut,Gi,O);ar.forEach(nd=>{const rd=nd.element,yV=Ji(ct,rd,{});nd.preStyleProps.forEach(hg=>yV[hg]=!0);const Sw=Ji(Ut,rd,{});nd.postStyleProps.forEach(hg=>Sw[hg]=!0),rd!==t&&He.add(rd)});const td=Hf(He.values());return gD(t,this._triggerName,r,o,st,J,Ie,ar,td,ct,Ut,Gi)}}class Zv{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},o=pu(this.defaultParams);return Object.keys(e).forEach(c=>{const h=e[c];null!=h&&(o[c]=h)}),this.styles.styles.forEach(c=>{if("string"!=typeof c){const h=c;Object.keys(h).forEach(_=>{let b=h[_];b.length>1&&(b=tl(b,o,t));const C=this.normalizer.normalizePropertyName(_,t);b=this.normalizer.normalizeStyleValue(_,C,b,t),r[C]=b})}}),r}}class jA{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(o=>{this.states[o.name]=new Zv(o.style,o.options&&o.options.params||{},r)}),HA(this.states,"true","1"),HA(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new _D(e,o,this.states))}),this.fallbackTransition=function(n,e,t){return new _D(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,_)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,o){return this.transitionFactories.find(h=>h.match(e,t,r,o))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function HA(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const UP=new $f;class GA{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],o=Jl(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=o}_buildPlayer(e,t,r){const o=e.element,c=QC(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(o,c,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const o=[],c=this._animations[e];let h;const _=new Map;if(c?(h=Am(this._driver,t,c,ym,Bf,{},{},r,UP,o),h.forEach(M=>{const O=Ji(_,M.element,{});M.postStyleProps.forEach(G=>O[G]=null)})):(o.push("The requested animation doesn't exist or has already been destroyed"),h=[]),o.length)throw new Error(`Unable to create the animation due to the following errors: ${o.join("\n")}`);_.forEach((M,O)=>{Object.keys(M).forEach(G=>{M[G]=this._driver.computeStyle(O,G,el)})});const C=du(h.map(M=>{const O=_.get(M.element);return this._buildPlayer(M,{},O)}));return this._playersById[e]=C,C.onDestroy(()=>this.destroy(e)),this.players.push(C),C}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,o){const c=pm(t,"","","");return Vv(this._getPlayer(e),r,c,o),()=>{}}command(e,t,r,o){if("register"==r)return void this.register(e,o[0]);if("create"==r)return void this.create(e,t,o[0]||{});const c=this._getPlayer(e);switch(r){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e)}}}const Jv="ng-animate-queued",yD="ng-animate-disabled",wu=".ng-animate-disabled",zA=[],Xv={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Mm={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xs="__ng_removed";class xm{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=null!=(n=r?e.value:e)?n:null,r){const c=pu(e);delete c.value,this.options=c}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(o=>{null==r[o]&&(r[o]=t[o])})}}}const qf="void",eb=new xm(qf);class qA{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,_i(t,this._hostClassName)}listen(e,t,r,o){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(n=r)&&"done"!=n)throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);var n;const c=Ji(this._elementListeners,e,[]),h={name:t,phase:r,callback:o};c.push(h);const _=Ji(this._engine.statesByElement,e,{});return _.hasOwnProperty(t)||(_i(e,$v),_i(e,$v+"-"+t),_[t]=eb),()=>{this._engine.afterFlush(()=>{const b=c.indexOf(h);b>=0&&c.splice(b,1),this._triggers[t]||delete _[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,o=!0){const c=this._getTrigger(t),h=new tb(this.id,t,e);let _=this._engine.statesByElement.get(e);_||(_i(e,$v),_i(e,$v+"-"+t),this._engine.statesByElement.set(e,_={}));let b=_[t];const C=new xm(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&b&&C.absorbOptions(b.options),_[t]=C,b||(b=eb),C.value!==qf&&b.value===C.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let o=0;o<t.length;o++){const c=t[o];if(!e.hasOwnProperty(c)||n[c]!==e[c])return!1}return!0}(b.params,C.params)){const me=[],Ie=c.matchStyles(b.value,b.params,me),He=c.matchStyles(C.value,C.params,me);me.length?this._engine.reportError(me):this._engine.afterFlush(()=>{gu(e,Ie),ua(e,He)})}return}const G=Ji(this._engine.playersByElement,e,[]);G.forEach(me=>{me.namespaceId==this.id&&me.triggerName==t&&me.queued&&me.destroy()});let z=c.matchTransition(b.value,C.value,e,C.params),J=!1;if(!z){if(!o)return;z=c.fallbackTransition,J=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:z,fromState:b,toState:C,player:h,isFallbackTransition:J}),J||(_i(e,Jv),h.onStart(()=>{sh(e,Jv)})),h.onDone(()=>{let me=this.players.indexOf(h);me>=0&&this.players.splice(me,1);const Ie=this._engine.playersByElement.get(e);if(Ie){let He=Ie.indexOf(h);He>=0&&Ie.splice(He,1)}}),this.players.push(h),G.push(h),h}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,zv,!0);r.forEach(o=>{if(o[Xs])return;const c=this._engine.fetchNamespacesByElement(o);c.size?c.forEach(h=>h.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,r,o){const c=this._engine.statesByElement.get(e);if(c){const h=[];if(Object.keys(c).forEach(_=>{if(this._triggers[_]){const b=this.trigger(e,_,qf,o);b&&h.push(b)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&du(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const o=new Set;t.forEach(c=>{const h=c.name;if(o.has(h))return;o.add(h);const b=this._triggers[h].fallbackTransition,C=r[h]||eb,M=new xm(qf),O=new tb(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:b,fromState:C,toState:M,player:O,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(r.totalAnimations){const c=r.players.length?r.playersByQueriedElement.get(e):[];if(c&&c.length)o=!0;else{let h=e;for(;h=h.parentNode;)if(r.statesByElement.get(h)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)r.markElementAsRemoved(this.id,e,!1,t);else{const c=e[Xs];(!c||c===Xv)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){_i(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const c=r.element,h=this._elementListeners.get(c);h&&h.forEach(_=>{if(_.name==r.triggerName){const b=pm(c,r.triggerName,r.fromState.value,r.toState.value);b._data=e,Vv(r.player,_.phase,b,_.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(r)}),this._queue=[],t.sort((r,o)=>{const c=r.transition.ast.depCount,h=o.transition.ast.depCount;return 0==c||0==h?c-h:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class WA{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,c)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new qA(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let o=!1;for(let c=r;c>=0;c--)if(this.driver.containsElement(this._namespaceList[c].hostElement,t)){this._namespaceList.splice(c+1,0,e),o=!0;break}o||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let o=this._namespaceLookup[e];o&&o.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const o=Object.keys(r);for(let c=0;c<o.length;c++){const h=r[o[c]].namespaceId;if(h){const _=this._fetchNamespace(h);_&&t.add(_)}}}return t}trigger(e,t,r,o){if(Wf(t)){const c=this._fetchNamespace(e);if(c)return c.trigger(t,r,o),!0}return!1}insertNode(e,t,r,o){if(!Wf(t))return;const c=t[Xs];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const h=this.collectedLeaveElements.indexOf(t);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(t,r)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),_i(e,yD)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),sh(e,yD))}removeNode(e,t,r,o){if(Wf(t)){const c=e?this._fetchNamespace(e):null;if(c?c.removeNode(t,o):this.markElementAsRemoved(e,t,!1,o),r){const h=this.namespacesByHostElement.get(t);h&&h.id!==e&&h.removeNode(t,o)}}else this._onRemovalComplete(t,o)}markElementAsRemoved(e,t,r,o){this.collectedLeaveElements.push(t),t[Xs]={namespaceId:e,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,o,c){return Wf(t)?this._fetchNamespace(e).listen(t,r,o,c):()=>{}}_buildInstruction(e,t,r,o,c){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,o,e.fromState.options,e.toState.options,t,c)}destroyInnerAnimations(e){let t=this.driver.query(e,zv,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,vm,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return du(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Xs];if(t&&t.setForRemoval){if(e[Xs]=Xv,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,wu)&&this.markElementAsDisabled(e,!1),this.driver.query(e,wu,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)_i(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?du(t).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new $f,o=[],c=new Map,h=[],_=new Map,b=new Map,C=new Map,M=new Set;this.disabledNodes.forEach(Je=>{M.add(Je);const lt=this.driver.query(Je,".ng-animate-queued",!0);for(let St=0;St<lt.length;St++)M.add(lt[St])});const O=this.bodyNode,G=Array.from(this.statesByElement.keys()),z=km(G,this.collectedEnterElements),J=new Map;let me=0;z.forEach((Je,lt)=>{const St=ym+me++;J.set(lt,St),Je.forEach(an=>_i(an,St))});const Ie=[],He=new Set,ct=new Set;for(let Je=0;Je<this.collectedLeaveElements.length;Je++){const lt=this.collectedLeaveElements[Je],St=lt[Xs];St&&St.setForRemoval&&(Ie.push(lt),He.add(lt),St.hasAnimation?this.driver.query(lt,".ng-star-inserted",!0).forEach(an=>He.add(an)):ct.add(lt))}const Ut=new Map,st=km(G,Array.from(He));st.forEach((Je,lt)=>{const St=Bf+me++;Ut.set(lt,St),Je.forEach(an=>_i(an,St))}),e.push(()=>{z.forEach((Je,lt)=>{const St=J.get(lt);Je.forEach(an=>sh(an,St))}),st.forEach((Je,lt)=>{const St=Ut.get(lt);Je.forEach(an=>sh(an,St))}),Ie.forEach(Je=>{this.processLeaveNode(Je)})});const gn=[],ar=[];for(let Je=this._namespaceList.length-1;Je>=0;Je--)this._namespaceList[Je].drainQueuedTransitions(t).forEach(St=>{const an=St.player,Ci=St.element;if(gn.push(an),this.collectedEnterElements.length){const Ac=Ci[Xs];if(Ac&&Ac.setForMove)return void an.destroy()}const Sc=!O||!this.driver.containsElement(O,Ci),Ro=Ut.get(Ci),Kh=J.get(Ci),vr=this._buildInstruction(St,r,Kh,Ro,Sc);if(vr.errors&&vr.errors.length)ar.push(vr);else{if(Sc)return an.onStart(()=>gu(Ci,vr.fromStyles)),an.onDestroy(()=>ua(Ci,vr.toStyles)),void o.push(an);if(St.isFallbackTransition)return an.onStart(()=>gu(Ci,vr.fromStyles)),an.onDestroy(()=>ua(Ci,vr.toStyles)),void o.push(an);vr.timelines.forEach(Ac=>Ac.stretchStartingKeyframe=!0),r.append(Ci,vr.timelines),h.push({instruction:vr,player:an,element:Ci}),vr.queriedElements.forEach(Ac=>Ji(_,Ac,[]).push(an)),vr.preStyleProps.forEach((Ac,Aw)=>{const IS=Object.keys(Ac);if(IS.length){let fg=b.get(Aw);fg||b.set(Aw,fg=new Set),IS.forEach(cP=>fg.add(cP))}}),vr.postStyleProps.forEach((Ac,Aw)=>{const IS=Object.keys(Ac);let fg=C.get(Aw);fg||C.set(Aw,fg=new Set),IS.forEach(cP=>fg.add(cP))})}});if(ar.length){const Je=[];ar.forEach(lt=>{Je.push(`@${lt.triggerName} has failed due to:\n`),lt.errors.forEach(St=>Je.push(`- ${St}\n`))}),gn.forEach(lt=>lt.destroy()),this.reportError(Je)}const Gi=new Map,td=new Map;h.forEach(Je=>{const lt=Je.element;r.has(lt)&&(td.set(lt,lt),this._beforeAnimationBuild(Je.player.namespaceId,Je.instruction,Gi))}),o.forEach(Je=>{const lt=Je.element;this._getPreviousPlayers(lt,!1,Je.namespaceId,Je.triggerName,null).forEach(an=>{Ji(Gi,lt,[]).push(an),an.destroy()})});const nd=Ie.filter(Je=>Pm(Je,b,C)),rd=new Map;YA(rd,this.driver,ct,C,el).forEach(Je=>{Pm(Je,b,C)&&nd.push(Je)});const Sw=new Map;z.forEach((Je,lt)=>{YA(Sw,this.driver,new Set(Je),b,"!")}),nd.forEach(Je=>{const lt=rd.get(Je),St=Sw.get(Je);rd.set(Je,Object.assign(Object.assign({},lt),St))});const hg=[],vV=[],bV={};h.forEach(Je=>{const{element:lt,player:St,instruction:an}=Je;if(r.has(lt)){if(M.has(lt))return St.onDestroy(()=>ua(lt,an.toStyles)),St.disabled=!0,St.overrideTotalTime(an.totalTime),void o.push(St);let Ci=bV;if(td.size>1){let Ro=lt;const Kh=[];for(;Ro=Ro.parentNode;){const vr=td.get(Ro);if(vr){Ci=vr;break}Kh.push(Ro)}Kh.forEach(vr=>td.set(vr,Ci))}const Sc=this._buildAnimation(St.namespaceId,an,Gi,c,Sw,rd);if(St.setRealPlayer(Sc),Ci===bV)hg.push(St);else{const Ro=this.playersByElement.get(Ci);Ro&&Ro.length&&(St.parentPlayer=du(Ro)),o.push(St)}}else gu(lt,an.fromStyles),St.onDestroy(()=>ua(lt,an.toStyles)),vV.push(St),M.has(lt)&&o.push(St)}),vV.forEach(Je=>{const lt=c.get(Je.element);if(lt&&lt.length){const St=du(lt);Je.setRealPlayer(St)}}),o.forEach(Je=>{Je.parentPlayer?Je.syncPlayerEvents(Je.parentPlayer):Je.destroy()});for(let Je=0;Je<Ie.length;Je++){const lt=Ie[Je],St=lt[Xs];if(sh(lt,Bf),St&&St.hasAnimation)continue;let an=[];if(_.size){let Sc=_.get(lt);Sc&&Sc.length&&an.push(...Sc);let Ro=this.driver.query(lt,vm,!0);for(let Kh=0;Kh<Ro.length;Kh++){let vr=_.get(Ro[Kh]);vr&&vr.length&&an.push(...vr)}}const Ci=an.filter(Sc=>!Sc.destroyed);Ci.length?nb(this,lt,Ci):this.processLeaveNode(lt)}return Ie.length=0,hg.forEach(Je=>{this.players.push(Je),Je.onDone(()=>{Je.destroy();const lt=this.players.indexOf(Je);this.players.splice(lt,1)}),Je.play()}),hg}elementContainsData(e,t){let r=!1;const o=t[Xs];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,o,c){let h=[];if(t){const _=this.playersByQueriedElement.get(e);_&&(h=_)}else{const _=this.playersByElement.get(e);if(_){const b=!c||c==qf;_.forEach(C=>{C.queued||!b&&C.triggerName!=o||h.push(C)})}}return(r||o)&&(h=h.filter(_=>!(r&&r!=_.namespaceId||o&&o!=_.triggerName))),h}_beforeAnimationBuild(e,t,r){const c=t.element,h=t.isRemovalTransition?void 0:e,_=t.isRemovalTransition?void 0:t.triggerName;for(const b of t.timelines){const C=b.element,M=C!==c,O=Ji(r,C,[]);this._getPreviousPlayers(C,M,h,_,t.toState).forEach(z=>{const J=z.getRealPlayer();J.beforeDestroy&&J.beforeDestroy(),z.destroy(),O.push(z)})}gu(c,t.fromStyles)}_buildAnimation(e,t,r,o,c,h){const _=t.triggerName,b=t.element,C=[],M=new Set,O=new Set,G=t.timelines.map(J=>{const me=J.element;M.add(me);const Ie=me[Xs];if(Ie&&Ie.removedBeforeQueried)return new Yl(J.duration,J.delay);const He=me!==b,ct=function(n){const e=[];return wD(n,e),e}((r.get(me)||zA).map(Gi=>Gi.getRealPlayer())).filter(Gi=>!!Gi.element&&Gi.element===me),Ut=c.get(me),st=h.get(me),gn=QC(0,this._normalizer,0,J.keyframes,Ut,st),ar=this._buildPlayer(J,gn,ct);if(J.subTimeline&&o&&O.add(me),He){const Gi=new tb(e,_,me);Gi.setRealPlayer(ar),C.push(Gi)}return ar});C.forEach(J=>{Ji(this.playersByQueriedElement,J.element,[]).push(J),J.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,J.element,J))}),M.forEach(J=>_i(J,kA));const z=du(G);return z.onDestroy(()=>{M.forEach(J=>sh(J,kA)),ua(b,t.toStyles)}),O.forEach(J=>{Ji(o,J,[]).push(z)}),z}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Yl(e.duration,e.delay)}}class tb{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Yl,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>Vv(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ji(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Wf(n){return n&&1===n.nodeType}function Rm(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function YA(n,e,t,r,o){const c=[];t.forEach(b=>c.push(Rm(b)));const h=[];r.forEach((b,C)=>{const M={};b.forEach(O=>{const G=M[O]=e.computeStyle(C,O,o);(!G||0==G.length)&&(C[Xs]=Mm,h.push(C))}),n.set(C,M)});let _=0;return t.forEach(b=>Rm(b,c[_++])),h}function km(n,e){const t=new Map;if(n.forEach(_=>t.set(_,[])),0==e.length)return t;const o=new Set(e),c=new Map;function h(_){if(!_)return 1;let b=c.get(_);if(b)return b;const C=_.parentNode;return b=t.has(C)?C:o.has(C)?1:h(C),c.set(_,b),b}return e.forEach(_=>{const b=h(_);1!==b&&t.get(b).push(_)}),t}const Om="$$classes";function _i(n,e){if(n.classList)n.classList.add(e);else{let t=n[Om];t||(t=n[Om]={}),t[e]=!0}}function sh(n,e){if(n.classList)n.classList.remove(e);else{let t=n[Om];t&&delete t[e]}}function nb(n,e,t){du(t).onDone(()=>n.processLeaveNode(e))}function wD(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof AA?wD(r.players,e):e.push(r)}}function Pm(n,e,t){const r=t.get(n);if(!r)return!1;let o=e.get(n);return o?r.forEach(c=>o.add(c)):e.set(n,r),t.delete(n),!0}class Kf{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,c)=>{},this._transitionEngine=new WA(e,t,r),this._timelineEngine=new GA(e,t,r),this._transitionEngine.onRemovalComplete=(o,c)=>this.onRemovalComplete(o,c)}registerTrigger(e,t,r,o,c){const h=e+"-"+o;let _=this._triggerCache[h];if(!_){const b=[],C=Jl(this._driver,c,b);if(b.length)throw new Error(`The animation trigger "${o}" has failed to build due to the following errors:\n - ${b.join("\n - ")}`);_=function(n,e,t){return new jA(n,e,t)}(o,C,this._normalizer),this._triggerCache[h]=_}this._transitionEngine.registerTrigger(t,o,_)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,o){this._transitionEngine.insertNode(e,t,r,o)}onRemove(e,t,r,o){this._transitionEngine.removeNode(e,t,o||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,o){if("@"==r.charAt(0)){const[c,h]=Bv(r);this._timelineEngine.command(c,t,h,o)}else this._transitionEngine.trigger(e,t,r,o)}listen(e,t,r,o,c){if("@"==r.charAt(0)){const[h,_]=Bv(r);return this._timelineEngine.listen(h,t,_,c)}return this._transitionEngine.listen(e,t,r,o,c)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function ZA(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Yf(e[0]),e.length>1&&(r=Yf(e[e.length-1]))):e&&(t=Yf(e)),t||r?new QA(n,t,r):null}let QA=(()=>{class n{constructor(t,r,o){this._element=t,this._startStyles=r,this._endStyles=o,this._state=0;let c=n.initialStylesByElement.get(t);c||n.initialStylesByElement.set(t,c={}),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&ua(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ua(this._element,this._initialStyles),this._endStyles&&(ua(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(gu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gu(this._element,this._endStyles),this._endStyles=null),ua(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Yf(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const o=t[r];sb(o)&&(e=e||{},e[o]=n[o])}return e}function sb(n){return"display"===n||"position"===n}const ob="animation",Nm="animationend";class ab{constructor(e,t,r,o,c,h,_){this._element=e,this._name=t,this._duration=r,this._delay=o,this._easing=c,this._fillMode=h,this._onDoneFn=_,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=b=>this._handleCallback(b)}apply(){(function(n,e){const t=ub(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),Zf(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Vm(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Fm(this._element,this._name,"paused")}resume(){Fm(this._element,this._name,"running")}setPosition(e){const t=cb(this._element,this._name);this._position=e*this._duration,Zf(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Vm(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=ub(n,"").split(","),o=Lm(r,e);o>=0&&(r.splice(o,1),Zf(n,"",r.join(",")))}(this._element,this._name))}}function Fm(n,e,t){Zf(n,"PlayState",t,cb(n,e))}function cb(n,e){const t=ub(n,"");return t.indexOf(",")>0?Lm(t.split(","),e):Lm([t],e)}function Lm(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function Vm(n,e,t){t?n.removeEventListener(Nm,e):n.addEventListener(Nm,e)}function Zf(n,e,t,r){const o=ob+e;if(null!=r){const c=n.style[o];if(c.length){const h=c.split(",");h[r]=t,t=h.join(",")}}n.style[o]=t}function ub(n,e){return n.style[ob+e]||""}class Bm{constructor(e,t,r,o,c,h,_,b){this.element=e,this.keyframes=t,this.animationName=r,this._duration=o,this._delay=c,this._finalStyles=_,this._specialStyles=b,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=o+c,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ab(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:_u(this.element,r))})}this.currentSnapshot=e}}class SD extends Yl{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=nD(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class hb{constructor(){this._count=0}validateStyleProperty(e){return Gv(e)}matchesElement(e,t){return gm(e,t)}containsElement(e,t){return tD(e,t)}query(e,t,r){return mm(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(_=>nD(_));let o=`@keyframes ${t} {\n`,c="";r.forEach(_=>{c=" ";const b=parseFloat(_.offset);o+=`${c}${100*b}% {\n`,c+=" ",Object.keys(_).forEach(C=>{const M=_[C];switch(C){case"offset":return;case"easing":return void(M&&(o+=`${c}animation-timing-function: ${M};\n`));default:return void(o+=`${c}${C}: ${M};\n`)}}),o+=`${c}}\n`}),o+="}\n";const h=document.createElement("style");return h.textContent=o,h}animate(e,t,r,o,c,h=[],_){const b=h.filter(Ie=>Ie instanceof Bm),C={};oD(r,o)&&b.forEach(Ie=>{let He=Ie.currentSnapshot;Object.keys(He).forEach(ct=>C[ct]=He[ct])});const M=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(o=>{"offset"==o||"easing"==o||(e[o]=r[o])})}),e}(t=Dm(e,t,C));if(0==r)return new SD(e,M);const O="gen_css_kf_"+this._count++,G=this.buildKeyframeElement(e,O,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(G);const J=ZA(e,t),me=new Bm(e,t,O,r,o,c,M,J);return me.onDestroy(()=>{var n;(n=G).parentNode.removeChild(n)}),me}}class kD{constructor(e,t,r,o){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:_u(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class eM{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(PD().toString()),this._cssKeyframesDriver=new hb}validateStyleProperty(e){return Gv(e)}matchesElement(e,t){return gm(e,t)}containsElement(e,t){return tD(e,t)}query(e,t,r){return mm(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,o,c,h=[],_){if(!_&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,o,c,h);const M={duration:r,delay:o,fill:0==o?"both":"forwards"};c&&(M.easing=c);const O={},G=h.filter(J=>J instanceof kD);oD(r,o)&&G.forEach(J=>{let me=J.currentSnapshot;Object.keys(me).forEach(Ie=>O[Ie]=me[Ie])});const z=ZA(e,t=Dm(e,t=t.map(J=>Ql(J,!1)),O));return new kD(e,t,M,z)}}function PD(){return hm()&&Element.prototype.animate||{}}let Rr=(()=>{class n extends dm{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(t)?ZC(t):t;return FD(this._renderer,null,r,"register",[o]),new ND(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(se))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ND extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new tM(this._id,e,t||{},this._renderer)}}class tM{constructor(e,t,r,o){this.id=e,this.element=t,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return FD(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function FD(n,e,t,r,o){return n.setProperty(e,`@@${t}:${r}`,o)}const LD="@.disabled";let VD=(()=>{class n{constructor(t,r,o){this.delegate=t,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(c,h)=>{h&&h.parentNode(c)&&h.removeChild(c.parentNode,c)}}createRenderer(t,r){const c=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let M=this._rendererCache.get(c);return M||(M=new pb("",c,this.engine),this._rendererCache.set(c,M)),M}const h=r.id,_=r.id+"-"+this._currentId;this._currentId++,this.engine.register(_,t);const b=M=>{Array.isArray(M)?M.forEach(b):this.engine.registerTrigger(h,_,t,M.name,M)};return r.data.animation.forEach(b),new oh(this,_,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,o){t>=0&&t<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[h,_]=c;h(_)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(Kf),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class pb{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,o=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,o){this.delegate.setAttribute(e,t,r,o)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,o){this.delegate.setStyle(e,t,r,o)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==LD?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class oh extends pb{constructor(e,t,r,o){super(t,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==LD?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const o=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let c=t.substr(1),h="";return"@"!=c.charAt(0)&&([c,h]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(c)),this.engine.listen(this.namespaceId,o,c,h,_=>{this.factory.scheduleListenerCallback(_._data||-1,r,_)})}return this.delegate.listen(e,t,r)}}let BD=(()=>{class n extends Kf{constructor(t,r,o){super(t.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(se),u.LFG(iD),u.LFG(fD))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const da=new u.OlP("AnimationModuleType"),Um=[{provide:dm,useClass:Rr},{provide:fD,useFactory:function(){return new pD}},{provide:Kf,useClass:BD},{provide:u.FYo,useFactory:function(n,e,t){return new VD(n,e,t)},deps:[gi,Kf,u.R0b]}],wo=[{provide:iD,useFactory:function(){return"function"==typeof PD()?new eM:new hb}},{provide:da,useValue:"BrowserAnimations"},...Um],jD=[{provide:iD,useClass:rD},{provide:da,useValue:"NoopAnimations"},...Um];let sM=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?jD:wo}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:wo,imports:[Kc]}),n})();const jm=new u.GfV("12.2.13"),aM=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let ec,fr=(()=>{class n{constructor(t,r,o){this._hasDoneGlobalChecks=!1,this._document=o,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!(0,u.X6Q)()||Xc())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const r=getComputedStyle(t);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&jm.full!==YC.full&&console.warn("The Angular Material version ("+jm.full+") does not match the Angular CDK version ("+YC.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(em),u.LFG(aM,8),u.LFG(se))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[bs],bs]}),n})();function $D(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Zt(e)}}}function Xf(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function zD(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Zt(e)}}}function lM(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new Ge.xQ,this.errorState=!1}updateErrorState(){const e=this.errorState,c=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);c!==e&&(this.errorState=c,this.stateChanges.next())}}}try{ec="undefined"!=typeof Intl}catch(n){ec=!1}let JD=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();class gM{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const XD={enterDuration:225,exitDuration:150},_b=Ot({passive:!0}),e0=["mousedown","touchstart"],t0=["mouseup","mouseleave","touchend","touchcancel"];class _M{constructor(e,t,r,o){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=sn(r))}fadeInRipple(e,t,r={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c=Object.assign(Object.assign({},XD),r.animation);r.centered&&(e=o.left+o.width/2,t=o.top+o.height/2);const h=r.radius||function(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),o=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+o*o)}(e,t,o),_=e-o.left,b=t-o.top,C=c.enterDuration,M=document.createElement("div");M.classList.add("mat-ripple-element"),M.style.left=_-h+"px",M.style.top=b-h+"px",M.style.height=2*h+"px",M.style.width=2*h+"px",null!=r.color&&(M.style.backgroundColor=r.color),M.style.transitionDuration=`${C}ms`,this._containerElement.appendChild(M),window.getComputedStyle(M).getPropertyValue("opacity"),M.style.transform="scale(1)";const O=new gM(this,M,r);return O.state=0,this._activeRipples.add(O),r.persistent||(this._mostRecentTransientRipple=O),this._runTimeoutOutsideZone(()=>{const G=O===this._mostRecentTransientRipple;O.state=1,!r.persistent&&(!G||!this._isPointerDown)&&O.fadeOut()},C),O}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,o=Object.assign(Object.assign({},XD),e.config.animation);r.style.transitionDuration=`${o.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.parentNode.removeChild(r)},o.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=sn(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(e0))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(t0),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=lv(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Jg(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,_b)})})}_removeTriggerEvents(){this._triggerElement&&(e0.forEach(e=>{this._triggerElement.removeEventListener(e,this,_b)}),this._pointerUpEventsRegistered&&t0.forEach(e=>{this._triggerElement.removeEventListener(e,this,_b)}))}}const s0=new u.OlP("mat-ripple-global-options");let rp=(()=>{class n{constructor(t,r,o,c,h){this._elementRef=t,this._animationMode=h,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new _M(this,r,t,o)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,o){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(V),u.Y36(s0,8),u.Y36(da,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),n})(),yb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[fr,ee],fr]}),n})();function ot(n,e){}class Eb{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const EM={dialogContainer:Fv("dialogContainer",[Kl("void, exit",Wl({opacity:0,transform:"scale(0.7)"})),Kl("enter",Wl({transform:"none"})),Lv("* => enter",ql("150ms cubic-bezier(0, 0, 0.2, 1)",Wl({transform:"none",opacity:1}))),Lv("* => void, * => exit",ql("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Wl({opacity:0})))])};let Gm=(()=>{class n extends Iv{constructor(t,r,o,c,h,_){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=o,this._config=h,this._focusMonitor=_,this._animationStateChanged=new u.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=b=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(b)),this._ariaLabelledBy=h.ariaLabelledBy||null,this._document=c}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=ti(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=ti())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=ti();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(fC),u.Y36(u.sBO),u.Y36(se,8),u.Y36(Eb),u.Y36(Qi))},n.\u0275dir=u.lG2({type:n,viewQuery:function(t,r){if(1&t&&u.Gf(lm,7),2&t){let o;u.iGM(o=u.CRH())&&(r._portalOutlet=o.first)}},features:[u.qOj]}),n})(),wM=(()=>{class n extends Gm{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&u.WFA("@dialogContainer.start",function(c){return r._onAnimationStart(c)})("@dialogContainer.done",function(c){return r._onAnimationDone(c)}),2&t&&(u.Ikx("id",r._id),u.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),u.d8E("@dialogContainer",r._state))},features:[u.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&u.YNc(0,ot,0,0,"ng-template",0)},directives:[lm],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[EM.dialogContainer]}}),n})(),$m=0;class Cu{constructor(e,t,r="mat-dialog-"+$m++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Ge.xQ,this._afterClosed=new Ge.xQ,this._beforeClosed=new Ge.xQ,this._state=0,t._id=r,t._animationStateChanged.pipe(dr(o=>"opened"===o.state),oe(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(dr(o=>"closed"===o.state),oe(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(dr(o=>27===o.keyCode&&!this.disableClose&&!function(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(o))).subscribe(o=>{o.preventDefault(),Pn(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Pn(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(dr(t=>"closing"===t.state),oe(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Pn(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const CM=new u.OlP("MatDialogData"),u0=new u.OlP("mat-dialog-default-options"),zm=new u.OlP("mat-dialog-scroll-strategy"),h0={provide:zm,deps:[vo],useFactory:function(n){return()=>n.scrollStrategies.block()}};let f0=(()=>{class n{constructor(t,r,o,c,h,_,b,C,M){this._overlay=t,this._injector=r,this._defaultOptions=o,this._parentDialog=c,this._overlayContainer=h,this._dialogRefConstructor=b,this._dialogContainerType=C,this._dialogDataToken=M,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ge.xQ,this._afterOpenedAtThisLevel=new Ge.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=function(n){return new Tr.y(e=>{let t;try{t=n()}catch(o){return void e.error(o)}return(t?(0,Fi.D)(t):(0,$.c)()).subscribe(e)})}(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ar(void 0))),this._scrollStrategy=_}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){(r=function(n,e){return Object.assign(Object.assign({},e),n)}(r,this._defaultOptions||new Eb)).id&&this.getDialogById(r.id);const o=this._createOverlay(r),c=this._attachDialogContainer(o,r),h=this._attachDialogContent(t,c,o,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.afterClosed().subscribe(()=>this._removeOpenDialog(h)),this.afterOpened.next(h),c._initializeWithAttachedContent(),h}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new xv({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const c=u.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:Eb,useValue:r}]}),h=new Dv(this._dialogContainerType,r.viewContainerRef,c,r.componentFactoryResolver);return t.attach(h).instance}_attachDialogContent(t,r,o,c){const h=new this._dialogRefConstructor(o,r,c.id);if(t instanceof u.Rgc)r.attachTemplatePortal(new Jd(t,null,{$implicit:c.data,dialogRef:h}));else{const _=this._createInjector(c,h,r),b=r.attachComponentPortal(new Dv(t,c.viewContainerRef,_));h.componentInstance=b.instance}return h.updateSize(c.width,c.height).updatePosition(c.position),h}_createInjector(t,r,o){const c=t&&t.viewContainerRef&&t.viewContainerRef.injector,h=[{provide:this._dialogContainerType,useValue:o},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!c||!c.get(Ws,null,u.XFs.Optional))&&h.push({provide:Ws,useValue:{value:t.direction,change:(0,xn.of)()}}),u.zs3.create({parent:c||this._injector,providers:h})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,c)=>{o?c.setAttribute("aria-hidden",o):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let o=r.length-1;o>-1;o--){let c=r[o];c!==t&&"SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(vo),u.Y36(u.zs3),u.Y36(void 0),u.Y36(void 0),u.Y36(uu),u.Y36(void 0),u.Y36(u.DyG),u.Y36(u.DyG),u.Y36(u.OlP))},n.\u0275dir=u.lG2({type:n}),n})(),ip=(()=>{class n extends f0{constructor(t,r,o,c,h,_,b){super(t,r,c,_,b,h,Cu,wM,CM)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(vo),u.LFG(u.zs3),u.LFG(ut,8),u.LFG(u0,8),u.LFG(zm),u.LFG(n,12),u.LFG(uu))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),TM=(()=>{class n{constructor(t,r,o){this.dialogRef=t,this._elementRef=r,this._dialog=o,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(r=>r.id===t.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const r=t._matDialogClose||t._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(t){Pn(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Cu,8),u.Y36(u.SBq),u.Y36(ip))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.NdJ("click",function(c){return r._onButtonClick(c)}),2&t&&u.uIk("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[u.TTD]}),n})(),SM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})();let Wm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[ip,h0],imports:[[CA,Tv,fr],fr]}),n})();const g0=["underline"],m0=["connectionContainer"],_0=["inputContainer"],AM=["label"];function sp(n,e){1&n&&(u.ynx(0),u.TgZ(1,"div",14),u._UZ(2,"div",15),u._UZ(3,"div",16),u._UZ(4,"div",17),u.qZA(),u.TgZ(5,"div",18),u._UZ(6,"div",15),u._UZ(7,"div",16),u._UZ(8,"div",17),u.qZA(),u.BQk())}function op(n,e){1&n&&(u.TgZ(0,"div",19),u.Hsn(1,1),u.qZA())}function MM(n,e){if(1&n&&(u.ynx(0),u.Hsn(1,2),u.TgZ(2,"span"),u._uU(3),u.qZA(),u.BQk()),2&n){const t=u.oxw(2);u.xp6(3),u.Oqu(t._control.placeholder)}}function xM(n,e){1&n&&u.Hsn(0,3,["*ngSwitchCase","true"])}function RM(n,e){1&n&&(u.TgZ(0,"span",23),u._uU(1," *"),u.qZA())}function y0(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"label",20,21),u.NdJ("cdkObserveContent",function(){return u.CHM(t),u.oxw().updateOutlineGap()}),u.YNc(2,MM,4,1,"ng-container",12),u.YNc(3,xM,1,0,"ng-content",12),u.YNc(4,RM,2,0,"span",22),u.qZA()}if(2&n){const t=u.oxw();u.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),u.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),u.uIk("for",t._control.id)("aria-owns",t._control.id),u.xp6(2),u.Q6J("ngSwitchCase",!1),u.xp6(1),u.Q6J("ngSwitchCase",!0),u.xp6(1),u.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function v0(n,e){1&n&&(u.TgZ(0,"div",24),u.Hsn(1,4),u.qZA())}function b0(n,e){if(1&n&&(u.TgZ(0,"div",25,26),u._UZ(2,"span",27),u.qZA()),2&n){const t=u.oxw();u.xp6(2),u.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function kM(n,e){if(1&n&&(u.TgZ(0,"div"),u.Hsn(1,5),u.qZA()),2&n){const t=u.oxw();u.Q6J("@transitionMessages",t._subscriptAnimationState)}}function E0(n,e){if(1&n&&(u.TgZ(0,"div",31),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.Q6J("id",t._hintLabelId),u.xp6(1),u.Oqu(t.hintLabel)}}function OM(n,e){if(1&n&&(u.TgZ(0,"div",28),u.YNc(1,E0,2,2,"div",29),u.Hsn(2,6),u._UZ(3,"div",30),u.Hsn(4,7),u.qZA()),2&n){const t=u.oxw();u.Q6J("@transitionMessages",t._subscriptAnimationState),u.xp6(1),u.Q6J("ngIf",t.hintLabel)}}const PM=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],rN=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],NM=new u.OlP("MatError"),w0={transitionMessages:Fv("transitionMessages",[Kl("enter",Wl({opacity:1,transform:"translateY(0%)"})),Lv("void => enter",[Wl({opacity:0,transform:"translateY(-5px)"}),ql("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let lh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n}),n})();const C0=new u.OlP("MatHint");let wb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-label"]]}),n})(),LM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const D0=new u.OlP("MatPrefix"),I0=new u.OlP("MatSuffix");let Du=0;const UM=Xf(class{constructor(n){this._elementRef=n}},"primary"),T0=new u.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),S0=new u.OlP("MatFormField");let A0=(()=>{class n extends UM{constructor(t,r,o,c,h,_,b,C){super(t),this._changeDetectorRef=r,this._dir=c,this._defaults=h,this._platform=_,this._ngZone=b,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ge.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Du++,this._labelId="mat-form-field-label-"+Du++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==C,this.appearance=h&&h.appearance?h.appearance:"legacy",this._hideRequiredMarker=!(!h||null==h.hideRequiredMarker)&&h.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Zt(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Ar(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(En(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(En(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Wd.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ar(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ar(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(En(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Gs(this._label.nativeElement,"transitionend").pipe(oe(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(c=>"start"===c.align):null,o=this._hintChildren?this._hintChildren.find(c=>"end"===c.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),o&&t.push(o.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let r=0,o=0;const c=this._connectionContainerRef.nativeElement,h=c.querySelectorAll(".mat-form-field-outline-start"),_=c.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const b=c.getBoundingClientRect();if(0===b.width&&0===b.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const C=this._getStartEnd(b),M=t.children,O=this._getStartEnd(M[0].getBoundingClientRect());let G=0;for(let z=0;z<M.length;z++)G+=M[z].offsetWidth;r=Math.abs(O-C)-5,o=G>0?.75*G+10:0}for(let b=0;b<h.length;b++)h[b].style.width=`${r}px`;for(let b=0;b<_.length;b++)_[b].style.width=`${o}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(Ws,8),u.Y36(T0,8),u.Y36(V),u.Y36(u.R0b),u.Y36(da,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,o){if(1&t&&(u.Suo(o,lh,5),u.Suo(o,lh,7),u.Suo(o,wb,5),u.Suo(o,wb,7),u.Suo(o,LM,5),u.Suo(o,NM,5),u.Suo(o,C0,5),u.Suo(o,D0,5),u.Suo(o,I0,5)),2&t){let c;u.iGM(c=u.CRH())&&(r._controlNonStatic=c.first),u.iGM(c=u.CRH())&&(r._controlStatic=c.first),u.iGM(c=u.CRH())&&(r._labelChildNonStatic=c.first),u.iGM(c=u.CRH())&&(r._labelChildStatic=c.first),u.iGM(c=u.CRH())&&(r._placeholderChild=c.first),u.iGM(c=u.CRH())&&(r._errorChildren=c),u.iGM(c=u.CRH())&&(r._hintChildren=c),u.iGM(c=u.CRH())&&(r._prefixChildren=c),u.iGM(c=u.CRH())&&(r._suffixChildren=c)}},viewQuery:function(t,r){if(1&t&&(u.Gf(g0,5),u.Gf(m0,7),u.Gf(_0,5),u.Gf(AM,5)),2&t){let o;u.iGM(o=u.CRH())&&(r.underlineRef=o.first),u.iGM(o=u.CRH())&&(r._connectionContainerRef=o.first),u.iGM(o=u.CRH())&&(r._inputContainerRef=o.first),u.iGM(o=u.CRH())&&(r._label=o.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&u.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[u._Bn([{provide:S0,useExisting:n}]),u.qOj],ngContentSelectors:rN,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(u.F$t(PM),u.TgZ(0,"div",0),u.TgZ(1,"div",1,2),u.NdJ("click",function(c){return r._control.onContainerClick&&r._control.onContainerClick(c)}),u.YNc(3,sp,9,0,"ng-container",3),u.YNc(4,op,2,0,"div",4),u.TgZ(5,"div",5,6),u.Hsn(7),u.TgZ(8,"span",7),u.YNc(9,y0,5,16,"label",8),u.qZA(),u.qZA(),u.YNc(10,v0,2,0,"div",9),u.qZA(),u.YNc(11,b0,3,4,"div",10),u.TgZ(12,"div",11),u.YNc(13,kM,2,1,"div",12),u.YNc(14,OM,5,2,"div",13),u.qZA(),u.qZA()),2&t&&(u.xp6(3),u.Q6J("ngIf","outline"==r.appearance),u.xp6(1),u.Q6J("ngIf",r._prefixChildren.length),u.xp6(5),u.Q6J("ngIf",r._hasFloatingLabel()),u.xp6(1),u.Q6J("ngIf",r._suffixChildren.length),u.xp6(1),u.Q6J("ngIf","outline"!=r.appearance),u.xp6(1),u.Q6J("ngSwitch",r._getDisplayedMessages()),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","hint"))},directives:[Si,us,nr,Af],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[w0.transitionMessages]},changeDetection:0}),n})(),M0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Yr,fr,Mf],fr]}),n})();const Km=Ot({passive:!0});let x0=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return $.E;const r=sn(t),o=this._monitoredElements.get(r);if(o)return o.subject;const c=new Ge.xQ,h="cdk-text-field-autofilled",_=b=>{"cdk-text-field-autofill-start"!==b.animationName||r.classList.contains(h)?"cdk-text-field-autofill-end"===b.animationName&&r.classList.contains(h)&&(r.classList.remove(h),this._ngZone.run(()=>c.next({target:b.target,isAutofilled:!1}))):(r.classList.add(h),this._ngZone.run(()=>c.next({target:b.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",_,Km),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:c,unlisten:()=>{r.removeEventListener("animationstart",_,Km)}}),c}stopMonitoring(t){const r=sn(t),o=this._monitoredElements.get(r);o&&(o.unlisten(),o.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(V),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(V),u.LFG(u.R0b))},token:n,providedIn:"root"}),n})(),k0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ee]]}),n})();var HM=L(1555);function O0(...n){if(1===n.length){const e=n[0];if((0,Yi.k)(e))return ch(e,null);if((0,HM.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return ch(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return ch(n=1===n.length&&(0,Yi.k)(n[0])?n[0]:n,null).pipe((0,gt.U)(t=>e(...t)))}return ch(n,null)}function ch(n,e){return new Tr.y(t=>{const r=n.length;if(0===r)return void t.complete();const o=new Array(r);let c=0,h=0;for(let _=0;_<r;_++){const b=(0,Fi.D)(n[_]);let C=!1;t.add(b.subscribe({next:M=>{C||(C=!0,h++),o[_]=M},error:M=>t.error(M),complete:()=>{c++,(c===r||!C)&&(h===r&&t.next(e?e.reduce((M,O,G)=>(M[O]=o[G],M),{}):o),t.complete())}}))}})}let P0=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),nc=(()=>{class n extends P0{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const ha=new u.OlP("NgValueAccessor"),$M={provide:ha,useExisting:(0,u.Gpc)(()=>Ym),multi:!0},qM=new u.OlP("CompositionEventMode");let Ym=(()=>{class n extends P0{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(qM,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[u._Bn([$M]),u.qOj]}),n})();const ri=new u.OlP("NgValidators"),ic=new u.OlP("NgAsyncValidators");function Xm(n){return null!=n}function U0(n){const e=(0,u.QGY)(n)?(0,Fi.D)(n):n;return(0,u.CqO)(e),e}function Tb(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function j0(n,e){return e.map(t=>t(n))}function Sb(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function G0(n){return null!=n?function(n){if(!n)return null;const e=n.filter(Xm);return 0==e.length?null:function(t){return Tb(j0(t,e))}}(Sb(n)):null}function oc(n){return null!=n?function(n){if(!n)return null;const e=n.filter(Xm);return 0==e.length?null:function(t){return O0(j0(t,e).map(U0)).pipe((0,gt.U)(Tb))}}(Sb(n)):null}function YM(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function e_(n){return n._rawValidators}function lp(n){return n._rawAsyncValidators}function Mb(n){return n?Array.isArray(n)?n:[n]:[]}function il(n,e){return Array.isArray(n)?n.includes(e):n===e}function z0(n,e){const t=Mb(e);return Mb(n).forEach(o=>{il(t,o)||t.push(o)}),t}function ZM(n,e){return Mb(e).filter(t=>!il(n,t))}let q0=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=G0(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=oc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n}),n})(),Nn=(()=>{class n extends q0{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();class fa extends q0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let W0=(()=>{class n extends class{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(fa,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[u.qOj]}),n})();function uh(n,e){r_(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&hp(n,e)})}(n,e),function(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&hp(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function dp(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Iu(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function n_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function r_(n,e){const t=e_(n);null!==e.validator?n.setValidators(YM(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=lp(n);null!==e.asyncValidator?n.setAsyncValidators(YM(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();n_(e._rawValidators,o),n_(e._rawAsyncValidators,o)}function Iu(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=e_(n);if(Array.isArray(o)&&o.length>0){const c=o.filter(h=>h!==e.validator);c.length!==o.length&&(t=!0,n.setValidators(c))}}if(null!==e.asyncValidator){const o=lp(n);if(Array.isArray(o)&&o.length>0){const c=o.filter(h=>h!==e.asyncValidator);c.length!==o.length&&(t=!0,n.setAsyncValidators(c))}}}const r=()=>{};return n_(e._rawValidators,r),n_(e._rawAsyncValidators,r),t}function hp(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function dh(n,e){r_(n,e)}function Q0(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function s_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const fp="VALID",o_="INVALID",hh="PENDING",a_="DISABLED";function Tu(n){return(fh(n)?n.validators:n)||null}function J0(n){return Array.isArray(n)?G0(n):n||null}function Pb(n,e){return(fh(e)?e.asyncValidators:n)||null}function X0(n){return Array.isArray(n)?oc(n):n||null}function fh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class sl{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=J0(this._rawValidators),this._composedAsyncValidatorFn=X0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===fp}get invalid(){return this.status===o_}get pending(){return this.status==hh}get disabled(){return this.status===a_}get enabled(){return this.status!==a_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=J0(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=X0(e)}addValidators(e){this.setValidators(z0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(z0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ZM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ZM(e,this._rawAsyncValidators))}hasValidator(e){return il(this._rawValidators,e)}hasAsyncValidator(e){return il(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=hh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=a_,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fp,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fp||this.status===hh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?a_:fp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=hh,this._hasOwnPendingAsyncValidator=!0;const t=U0(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=r instanceof Nb?r.controls.hasOwnProperty(o)?r.controls[o]:null:r instanceof _N&&r.at(o)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?a_:this.errors?o_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hh)?hh:this._anyControlsHaveStatus(o_)?o_:fp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){fh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class l_ extends sl{constructor(e=null,t,r){super(Tu(t),Pb(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){s_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){s_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Nb extends sl{constructor(e,t,r){super(Tu(t),Pb(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof l_?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,c)=>{r=t(r,o,c)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class _N extends sl{constructor(e,t,r){super(Tu(t),Pb(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,o)=>{this._throwIfControlMissing(o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof l_?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const ox={provide:Nn,useExisting:(0,u.Gpc)(()=>c_)},pp=(()=>Promise.resolve(null))();let c_=(()=>{class n extends Nn{constructor(t,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new u.vpe,this.form=new Nb({},G0(t),oc(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){pp.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),uh(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){pp.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),s_(this._directives,t)})}addFormGroup(t){pp.then(()=>{const r=this._findContainer(t.path),o=new Nb({});dh(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){pp.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){pp.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Q0(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ri,10),u.Y36(ic,10))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([ox]),u.qOj]}),n})();const nI={provide:fa,useExisting:(0,u.Gpc)(()=>ph)},Vb=(()=>Promise.resolve(null))();let ph=(()=>{class n extends fa{constructor(t,r,o,c){super(),this.control=new l_,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(c=>{c.constructor===Ym?t=c:function(n){return Object.getPrototypeOf(n.constructor)===nc}(c)?r=c:o=c}),o||r||t||null}(0,c)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){uh(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Vb.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;Vb.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Nn,9),u.Y36(ri,10),u.Y36(ic,10),u.Y36(ha,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([nI]),u.qOj,u.TTD]}),n})(),Au=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const rI={provide:Nn,useExisting:(0,u.Gpc)(()=>_p)};let _p=(()=>{class n extends Nn{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Iu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return uh(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){dp(t.control||null,t,!1),s_(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Q0(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(dp(r||null,t),o instanceof l_&&(uh(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);dh(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(n,e){return Iu(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){r_(this.form,this),this._oldForm&&Iu(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ri,10),u.Y36(ic,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([rI]),u.qOj,u.TTD]}),n})(),bx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Au]]}),n})(),Ex=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[bx]}),n})();const wx=new u.OlP("MAT_INPUT_VALUE_ACCESSOR"),Cx=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Dx=0;const Ix=lM(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let qb=(()=>{class n extends Ix{constructor(t,r,o,c,h,_,b,C,M,O){super(_,c,h,o),this._elementRef=t,this._platform=r,this._autofillMonitor=C,this._formField=O,this._uid="mat-input-"+Dx++,this.focused=!1,this.stateChanges=new Ge.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(J=>Be().has(J));const G=this._elementRef.nativeElement,z=G.nodeName.toLowerCase();this._inputValueAccessor=b||G,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&M.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",J=>{const me=J.target;!me.value&&0===me.selectionStart&&0===me.selectionEnd&&(me.setSelectionRange(1,1),me.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===z,this._isTextarea="textarea"===z,this._isInFormField=!!O,this._isNativeSelect&&(this.controlType=G.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Zt(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=Zt(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Be().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Zt(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,r;const o=(null===(r=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===r?void 0:r.call(t))?null:this.placeholder;if(o!==this._previousPlaceholder){const c=this._elementRef.nativeElement;this._previousPlaceholder=o,o?c.setAttribute("placeholder",o):c.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){Cx.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(V),u.Y36(fa,10),u.Y36(c_,8),u.Y36(_p,8),u.Y36(JD),u.Y36(wx,10),u.Y36(x0),u.Y36(u.R0b),u.Y36(S0,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,r){1&t&&u.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(u.Ikx("disabled",r.disabled)("required",r.required),u.uIk("id",r.id)("data-placeholder",r.placeholder)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),u.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[u._Bn([{provide:lh,useExisting:n}]),u.qOj,u.TTD]}),n})(),Tx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[JD],imports:[[k0,M0,fr],k0,M0]}),n})();const uI=["mat-button",""],Wb=["*"],AN=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Ax=Xf($D(zD(class{constructor(n){this._elementRef=n}})));let Kb=(()=>{class n extends Ax{constructor(t,r,o){super(t),this._focusMonitor=r,this._animationMode=o,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const c of AN)this._hasHostAttributes(c)&&this._getHostElement().classList.add(c);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Qi),u.Y36(da,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&u.Gf(rp,5),2&t){let o;u.iGM(o=u.CRH())&&(r.ripple=o.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(u.uIk("disabled",r.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:uI,ngContentSelectors:Wb,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(u.F$t(),u.TgZ(0,"span",0),u.Hsn(1),u.qZA(),u._UZ(2,"span",1),u._UZ(3,"span",2)),2&t&&(u.xp6(2),u.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),u.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[rp],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),Mx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[yb,fr],fr]}),n})();var xx=L(205);class wp{constructor(e){this.selector=e}call(e,t){return t.subscribe(new kx(e,this.selector,this.caught))}}class kx extends Pi.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const r=new Pi.IY(this);this.add(r);const o=(0,Pi.ft)(t,r);o!==r&&this.add(o)}}}class dI{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Cp(e,this.callback))}}class Cp extends Oi.L{constructor(e,t){super(e),this.add(new Sr.w(t))}}var xN=L(3522),hI=L(9773);class fI{}class ol{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),c=o.toLowerCase(),h=t.slice(r+1).trim();this.maybeSetNormalizedName(o,c),this.headers.has(c)?this.headers.get(c).push(h):this.headers.set(c,[h])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ol?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ol;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ol?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const c=e.value;if(c){let h=this.headers.get(t);if(!h)return;h=h.filter(_=>-1===c.indexOf(_)),0===h.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,h)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Nx{encodeKey(e){return Vx(e)}encodeValue(e){return Vx(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Fx=/%(\d[a-f0-9])/gi,Lx={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Vx(n){return encodeURIComponent(n).replace(Fx,(e,t)=>{var r;return null!==(r=Lx[t])&&void 0!==r?r:e})}function Bx(n){return`${n}`}class xu{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Nx,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const c=o.indexOf("="),[h,_]=-1==c?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,c)),e.decodeValue(o.slice(c+1))],b=t.get(h)||[];b.push(_),t.set(h,b)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(c=>{t.push({param:r,value:c,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new xu({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Bx(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(Bx(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Ux{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function _I(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function yI(n){return"undefined"!=typeof Blob&&n instanceof Blob}function vI(n){return"undefined"!=typeof FormData&&n instanceof FormData}class yh{constructor(e,t,r,o){let c;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,c=o):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new ol),this.context||(this.context=new Ux),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=t;else{const _=t.indexOf("?");this.urlWithParams=t+(-1===_?"?":_<t.length-1?"&":"")+h}}else this.params=new xu,this.urlWithParams=t}serializeBody(){return null===this.body?null:_I(this.body)||yI(this.body)||vI(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof xu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||vI(this.body)?null:yI(this.body)?this.body.type||null:_I(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof xu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,o=e.url||this.url,c=e.responseType||this.responseType,h=void 0!==e.body?e.body:this.body,_=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,b=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let C=e.headers||this.headers,M=e.params||this.params;const O=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(C=Object.keys(e.setHeaders).reduce((G,z)=>G.set(z,e.setHeaders[z]),C)),e.setParams&&(M=Object.keys(e.setParams).reduce((G,z)=>G.set(z,e.setParams[z]),M)),new yh(r,o,h,{params:M,headers:C,context:O,reportProgress:b,responseType:c,withCredentials:_})}}var Zn=(()=>((Zn=Zn||{})[Zn.Sent=0]="Sent",Zn[Zn.UploadProgress=1]="UploadProgress",Zn[Zn.ResponseHeader=2]="ResponseHeader",Zn[Zn.DownloadProgress=3]="DownloadProgress",Zn[Zn.Response=4]="Response",Zn[Zn.User=5]="User",Zn))();class kr extends class{constructor(e,t=200,r="OK"){this.headers=e.headers||new ol,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Zn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new kr({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function Is(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let vh=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let c;if(t instanceof yh)c=t;else{let b,C;b=o.headers instanceof ol?o.headers:new ol(o.headers),o.params&&(C=o.params instanceof xu?o.params:new xu({fromObject:o.params})),c=new yh(t,r,void 0!==o.body?o.body:null,{headers:b,context:o.context,params:C,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const h=(0,xn.of)(c).pipe(function(n,e){return(0,hI.zg)(n,void 0,1)}(b=>this.handler.handle(b)));if(t instanceof yh||"events"===o.observe)return h;const _=h.pipe(dr(b=>b instanceof kr));switch(o.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return _.pipe((0,gt.U)(b=>{if(null!==b.body&&!(b.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return b.body}));case"blob":return _.pipe((0,gt.U)(b=>{if(null!==b.body&&!(b.body instanceof Blob))throw new Error("Response is not a Blob.");return b.body}));case"text":return _.pipe((0,gt.U)(b=>{if(null!==b.body&&"string"!=typeof b.body)throw new Error("Response is not a string.");return b.body}));case"json":default:return _.pipe((0,gt.U)(b=>b.body))}case"response":return _;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new xu).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,Is(o,r))}post(t,r,o={}){return this.request("POST",t,Is(o,r))}put(t,r,o={}){return this.request("PUT",t,Is(o,r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fI))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Yx=["*"];function TI(n){return Error(`Unable to find icon with the name "${n}"`)}function SI(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function AI(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class To{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let Dp=(()=>{class n{constructor(t,r,o,c){this._httpClient=t,this._sanitizer=r,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=o}addSvgIcon(t,r,o){return this.addSvgIconInNamespace("",t,r,o)}addSvgIconLiteral(t,r,o){return this.addSvgIconLiteralInNamespace("",t,r,o)}addSvgIconInNamespace(t,r,o,c){return this._addSvgIconConfig(t,r,new To(o,null,c))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,o,c){const h=this._sanitizer.sanitize(u.q3G.HTML,o);if(!h)throw AI(o);return this._addSvgIconConfig(t,r,new To("",h,c))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,o){return this._addSvgIconSetConfig(t,new To(r,null,o))}addSvgIconSetLiteralInNamespace(t,r,o){const c=this._sanitizer.sanitize(u.q3G.HTML,r);if(!c)throw AI(r);return this._addSvgIconSetConfig(t,new To("",c,o))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,t);if(!r)throw SI(t);const o=this._cachedIconsByUrl.get(r);return o?(0,xn.of)(Ip(o)):this._loadSvgIconFromConfig(new To(t,null)).pipe((0,hv.b)(c=>this._cachedIconsByUrl.set(r,c)),(0,gt.U)(c=>Ip(c)))}getNamedSvgIcon(t,r=""){const o=Jb(r,t);let c=this._svgIconConfigs.get(o);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(r,t),c)return this._svgIconConfigs.set(o,c),this._getSvgFromConfig(c);const h=this._iconSetConfigs.get(r);return h?this._getSvgFromIconSetConfigs(t,h):(0,xx._)(TI(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,xn.of)(Ip(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,gt.U)(r=>Ip(r)))}_getSvgFromIconSetConfigs(t,r){const o=this._extractIconWithNameFromAnySet(t,r);return o?(0,xn.of)(o):O0(r.filter(h=>!h.svgText).map(h=>this._loadSvgIconSetFromConfig(h).pipe(function(n){return function(t){const r=new wp(n),o=t.lift(r);return r.caught=o}}(_=>{const C=`Loading icon set URL: ${this._sanitizer.sanitize(u.q3G.RESOURCE_URL,h.url)} failed: ${_.message}`;return this._errorHandler.handleError(new Error(C)),(0,xn.of)(null)})))).pipe((0,gt.U)(()=>{const h=this._extractIconWithNameFromAnySet(t,r);if(!h)throw TI(t);return h}))}_extractIconWithNameFromAnySet(t,r){for(let o=r.length-1;o>=0;o--){const c=r[o];if(c.svgText&&c.svgText.indexOf(t)>-1){const h=this._svgElementFromConfig(c),_=this._extractSvgIconFromSet(h,t,c.options);if(_)return _}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,hv.b)(r=>t.svgText=r),(0,gt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,xn.of)(null):this._fetchIcon(t).pipe((0,hv.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,o){const c=t.querySelector(`[id="${r}"]`);if(!c)return null;const h=c.cloneNode(!0);if(h.removeAttribute("id"),"svg"===h.nodeName.toLowerCase())return this._setSvgAttributes(h,o);if("symbol"===h.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(h),o);const _=this._svgElementFromString("<svg></svg>");return _.appendChild(h),this._setSvgAttributes(_,o)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(t){const r=this._svgElementFromString("<svg></svg>"),o=t.attributes;for(let c=0;c<o.length;c++){const{name:h,value:_}=o[c];"id"!==h&&r.setAttribute(h,_)}for(let c=0;c<t.childNodes.length;c++)t.childNodes[c].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[c].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){var r;const{url:o,options:c}=t,h=null!==(r=null==c?void 0:c.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==o)throw Error(`Cannot fetch icon from URL "${o}".`);const _=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,o);if(!_)throw SI(o);const b=this._inProgressUrlFetches.get(_);if(b)return b;const C=this._httpClient.get(_,{responseType:"text",withCredentials:h}).pipe(function(n){return e=>e.lift(new dI(n))}(()=>this._inProgressUrlFetches.delete(_)),(0,xN.B)());return this._inProgressUrlFetches.set(_,C),C}_addSvgIconConfig(t,r,o){return this._svgIconConfigs.set(Jb(t,r),o),this}_addSvgIconSetConfig(t,r){const o=this._iconSetConfigs.get(t);return o?o.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let o=0;o<this._resolvers.length;o++){const c=this._resolvers[o](r,t);if(c)return xI(c)?new To(c.url,null,c.options):new To(c,null)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(vh,8),u.LFG(Bs),u.LFG(se,8),u.LFG(u.qLn))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(vh,8),u.LFG(Bs),u.LFG(se,8),u.LFG(u.qLn))},token:n,providedIn:"root"}),n})();function Ip(n){return n.cloneNode(!0)}function Jb(n,e){return n+":"+e}function xI(n){return!(!n.url||!n.options)}const Jx=Xf(class{constructor(n){this._elementRef=n}}),RI=new u.OlP("mat-icon-location",{providedIn:"root",factory:function(){const n=(0,u.f3M)(se),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),kI=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],tR=kI.map(n=>`[${n}]`).join(", "),Tp=/^url\(['"]?#(.*?)['"]?\)$/;let bh=(()=>{class n extends Jx{constructor(t,r,o,c,h){super(t),this._iconRegistry=r,this._location=c,this._errorHandler=h,this._inline=!1,this._currentIconFetch=Sr.w.EMPTY,o||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Zt(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=t.querySelectorAll("style");for(let c=0;c<r.length;c++)r[c].textContent+=" ";const o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const o=t.childNodes[r];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&t.removeChild(o)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((o,c)=>{o.forEach(h=>{c.setAttribute(h.name,`url('${t}#${h.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(tR),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<r.length;c++)kI.forEach(h=>{const _=r[c],b=_.getAttribute(h),C=b?b.match(Tp):null;if(C){let M=o.get(_);M||(M=[],o.set(_,M)),M.push({name:h,value:C[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,o]=this._splitIconName(t);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe(oe(1)).subscribe(c=>this._setSvgElement(c),c=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${o}! ${c.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Dp),u.$8M("aria-hidden"),u.Y36(RI),u.Y36(u.qLn))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),u.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[u.qOj],ngContentSelectors:Yx,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),nR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[fr],fr]}),n})();const Xb=function(n){return{task:n,delete:!0}};function pa(n,e){if(1&n&&(u.TgZ(0,"button",6),u.TgZ(1,"mat-icon"),u._uU(2,"delete"),u.qZA(),u.qZA()),2&n){const t=u.oxw();u.Q6J("mat-dialog-close",u.VKq(1,Xb,t.data.task))}}const rR=function(n){return{task:n}};let Sp=(()=>{class n{constructor(t,r){this.dialogRef=t,this.data=r,this.backupTask=Object.assign({},this.data.task)}cancel(){this.data.task.title=this.backupTask.title,this.data.task.description=this.backupTask.description,this.dialogRef.close(this.data)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Cu),u.Y36(CM))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-task-dialog"]],decls:14,vars:6,consts:[["matInput","","cdkFocusInitial","",3,"ngModel","ngModelChange"],["matInput","",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"mat-dialog-close"],["mat-button","",3,"click"],["mat-fab","","color","primary","aria-label","Delete",3,"mat-dialog-close",4,"ngIf"],["mat-fab","","color","primary","aria-label","Delete",3,"mat-dialog-close"]],template:function(t,r){1&t&&(u.TgZ(0,"mat-form-field"),u.TgZ(1,"mat-label"),u._uU(2,"Title"),u.qZA(),u.TgZ(3,"input",0),u.NdJ("ngModelChange",function(c){return r.data.task.title=c}),u.qZA(),u.qZA(),u.TgZ(4,"mat-form-field"),u.TgZ(5,"mat-label"),u._uU(6,"Description"),u.qZA(),u.TgZ(7,"textarea",1),u.NdJ("ngModelChange",function(c){return r.data.task.description=c}),u.qZA(),u.qZA(),u.TgZ(8,"div",2),u.TgZ(9,"button",3),u._uU(10,"OK"),u.qZA(),u.TgZ(11,"button",4),u.NdJ("click",function(){return r.cancel()}),u._uU(12,"Cancel"),u.qZA(),u.YNc(13,pa,3,3,"button",5),u.qZA()),2&t&&(u.xp6(3),u.Q6J("ngModel",r.data.task.title),u.xp6(4),u.Q6J("ngModel",r.data.task.description),u.xp6(2),u.Q6J("mat-dialog-close",u.VKq(4,rR,r.data.task)),u.xp6(4),u.Q6J("ngIf",r.data.enableDelete))},directives:[A0,wb,qb,Ym,W0,ph,SM,Kb,TM,Si,bh],styles:[""]}),n})();var ii=L(251);function eE(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(o){return o.lift(new BN(n,e,t))}}class BN{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new tE(e,this.accumulator,this.seed,this.hasSeed))}}class tE extends Oi.L{constructor(e,t,r,o){super(e),this.accumulator=t,this._seed=r,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(o){this.destination.error(o)}this.seed=r,this.destination.next(r)}}var ze,Ts=L(8939),nE=(L(941),L(3394)),ye=L(8239),ku=L(8026),__=L(3910),uc=L(5422),Vt=L(3854),OI="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},So={},y_=y_||{},yt=OI||self;function Ap(){}function rE(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Eh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var iE="closure_uid_"+(1e9*Math.random()>>>0),NI=0;function sR(n,e,t){return n.call.apply(n.bind,arguments)}function UN(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function on(n,e,t){return(on=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sR:UN).apply(null,arguments)}function al(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function si(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,c){for(var h=Array(arguments.length-2),_=2;_<arguments.length;_++)h[_-2]=arguments[_];return e.prototype[o].apply(r,h)}}function dc(){this.s=this.s,this.o=this.o}var Mp={};dc.prototype.s=!1,dc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,iE)&&n[iE]||(n[iE]=++NI)}(this);delete Mp[n]}},dc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const FI=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},v_=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let c=0;c<r;c++)c in o&&e.call(t,o[c],c,n)};function sE(n){return Array.prototype.concat.apply([],arguments)}function oE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function b_(n){return/^[\s\xa0]*$/.test(n)}var Br,E_=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function yi(n,e){return-1!=n.indexOf(e)}function w_(n,e){return n<e?-1:n>e?1:0}e:{var C_=yt.navigator;if(C_){var aR=C_.userAgent;if(aR){Br=aR;break e}}Br=""}function D_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function LI(n){const e={};for(const t in n)e[t]=n[t];return e}var aE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xp(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let c=0;c<aE.length;c++)t=aE[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function I_(n){return I_[" "](n),n}I_[" "]=Ap;var T_,n,lE=yi(Br,"Opera"),hc=yi(Br,"Trident")||yi(Br,"MSIE"),VI=yi(Br,"Edge"),cE=VI||hc,uE=yi(Br,"Gecko")&&!(yi(Br.toLowerCase(),"webkit")&&!yi(Br,"Edge"))&&!(yi(Br,"Trident")||yi(Br,"MSIE"))&&!yi(Br,"Edge"),BI=yi(Br.toLowerCase(),"webkit")&&!yi(Br,"Edge");function dE(){var n=yt.document;return n?n.documentMode:void 0}e:{var S_="",A_=(n=Br,uE?/rv:([^\);]+)(\)|;)/.exec(n):VI?/Edge\/([\d\.]+)/.exec(n):hc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):BI?/WebKit\/(\S+)/.exec(n):lE?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(A_&&(S_=A_?A_[1]:""),hc){var hE=dE();if(null!=hE&&hE>parseFloat(S_)){T_=String(hE);break e}}T_=S_}var cR={};function UI(){return e=cR,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=E_(String(T_)).split("."),t=E_("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",c=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==o[0].length&&0==c[0].length)break;n=w_(0==o[1].length?0:parseInt(o[1],10),0==c[1].length?0:parseInt(c[1],10))||w_(0==o[2].length,0==c[2].length)||w_(o[2],c[2]),o=o[3],c=c[3]}while(0==n)}return 0<=n}();var e}var jI=yt.document&&hc&&(dE()||parseInt(T_,10))||void 0,HI=function(){if(!yt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{yt.addEventListener("test",Ap,e),yt.removeEventListener("test",Ap,e)}catch(t){}return n}();function oi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Rp(n,e){if(oi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(uE){e:{try{I_(e.nodeName);var o=!0;break e}catch(c){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:uR[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Rp.Z.h.call(this)}}oi.prototype.h=function(){this.defaultPrevented=!0},si(Rp,oi);var uR={2:"touch",3:"pen",4:"mouse"};Rp.prototype.h=function(){Rp.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var kp="closure_listenable_"+(1e6*Math.random()|0),GI=0;function HN(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++GI,this.ca=this.fa=!1}function gE(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function mE(n){this.src=n,this.g={},this.h=0}function $I(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],o=FI(r,e);(c=0<=o)&&Array.prototype.splice.call(r,o,1),c&&(gE(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function zI(n,e,t,r){for(var o=0;o<n.length;++o){var c=n[o];if(!c.ca&&c.listener==e&&c.capture==!!t&&c.ia==r)return o}return-1}mE.prototype.add=function(n,e,t,r,o){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var h=zI(n,e,r,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new HN(e,this.src,c,!!r,o)).fa=t,n.push(e)),e};var qI="closure_lm_"+(1e6*Math.random()|0),WI={};function dR(n,e,t,r,o){if(r&&r.once)return fR(n,e,t,r,o);if(Array.isArray(e)){for(var c=0;c<e.length;c++)dR(n,e[c],t,r,o);return null}return t=_E(t),n&&n[kp]?n.N(e,t,Eh(r)?!!r.capture:!!r,o):hR(n,e,t,!1,r,o)}function hR(n,e,t,r,o,c){if(!e)throw Error("Invalid event type");var h=Eh(o)?!!o.capture:!!o,_=YI(n);if(_||(n[qI]=_=new mE(n)),(t=_.add(e,t,r,h,c)).proxy)return t;if(r=function(){var e=$N;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)HI||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(gR(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function fR(n,e,t,r,o){if(Array.isArray(e)){for(var c=0;c<e.length;c++)fR(n,e[c],t,r,o);return null}return t=_E(t),n&&n[kp]?n.O(e,t,Eh(r)?!!r.capture:!!r,o):hR(n,e,t,!0,r,o)}function pR(n,e,t,r,o){if(Array.isArray(e))for(var c=0;c<e.length;c++)pR(n,e[c],t,r,o);else r=Eh(r)?!!r.capture:!!r,t=_E(t),n&&n[kp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=zI(c=n.g[e],t,r,o))&&(gE(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=YI(n))&&(e=n.g[e.toString()],n=-1,e&&(n=zI(e,t,r,o)),(t=-1<n?e[n]:null)&&KI(t))}function KI(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[kp])$I(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(gR(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=YI(e))?($I(t,n),0==t.h&&(t.src=null,e[qI]=null)):gE(n)}}}function gR(n){return n in WI?WI[n]:WI[n]="on"+n}function $N(n,e){if(n.ca)n=!0;else{e=new Rp(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&KI(n),n=t.call(r,e)}return n}function YI(n){return(n=n[qI])instanceof mE?n:null}var ZI="__closure_events_fn_"+(1e9*Math.random()>>>0);function _E(n){return"function"==typeof n?n:(n[ZI]||(n[ZI]=function(e){return n.handleEvent(e)}),n[ZI])}function Ur(){dc.call(this),this.i=new mE(this),this.P=this,this.I=null}function ai(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new oi(e,n);else if(e instanceof oi)e.target=e.target||n;else{var o=e;xp(e=new oi(r,n),o)}if(o=!0,t)for(var c=t.length-1;0<=c;c--){var h=e.g=t[c];o=yE(h,r,!0,e)&&o}if(o=yE(h=e.g=n,r,!0,e)&&o,o=yE(h,r,!1,e)&&o,t)for(c=0;c<t.length;c++)o=yE(h=e.g=t[c],r,!1,e)&&o}function yE(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,c=0;c<e.length;++c){var h=e[c];if(h&&!h.ca&&h.capture==t){var _=h.listener,b=h.ia||h.src;h.fa&&$I(n.i,h),o=!1!==_.call(b,r)&&o}}return o&&!r.defaultPrevented}si(Ur,dc),Ur.prototype[kp]=!0,Ur.prototype.removeEventListener=function(n,e,t,r){pR(this,n,e,t,r)},Ur.prototype.M=function(){if(Ur.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)gE(t[r]);delete n.g[e],n.h--}}this.I=null},Ur.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ur.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var QI=yt.JSON.stringify;function zN(){var n=yR;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var eT,JI=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new _R,n=>n.reset());class _R{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function qN(n){yt.setTimeout(()=>{throw n},0)}function XI(n,e){eT||function(){var n=yt.Promise.resolve(void 0);eT=function(){n.then(vR)}}(),vE||(eT(),vE=!0),yR.add(n,e)}var vE=!1,yR=new class{constructor(){this.h=this.g=null}add(e,t){const r=JI.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function vR(){for(var n;n=zN();){try{n.h.call(n.g)}catch(t){qN(t)}var e=JI;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}vE=!1}function wh(n,e){Ur.call(this),this.h=n||1,this.g=e||yt,this.j=on(this.kb,this),this.l=Date.now()}function fc(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function M_(n,e,t){if("function"==typeof n)t&&(n=on(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=on(n.handleEvent,n)}return 2147483647<Number(e)?-1:yt.setTimeout(n,e||0)}function tT(n){n.g=M_(()=>{n.g=null,n.i&&(n.i=!1,tT(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}si(wh,Ur),(ze=wh.prototype).da=!1,ze.S=null,ze.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ai(this,"tick"),this.da&&(fc(this),this.start()))}},ze.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ze.M=function(){wh.Z.M.call(this),fc(this),delete this.g};class bR extends dc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tT(this)}M(){super.M(),this.g&&(yt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ou(n){dc.call(this),this.h=n,this.g={}}si(Ou,dc);var bE=[];function EE(n,e,t,r){Array.isArray(t)||(t&&(bE[0]=t.toString()),t=bE);for(var o=0;o<t.length;o++){var c=dR(e,t[o],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function nT(n){D_(n.g,function(e,t){this.g.hasOwnProperty(t)&&KI(e)},n),n.g={}}function wE(){this.g=!0}function Pu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var c=o[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var h=1;h<o.length;h++)o[h]=""}}}return QI(t)}catch(_){return e}}(n,t)+(r?" "+r:"")})}Ou.prototype.M=function(){Ou.Z.M.call(this),nT(this)},Ou.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wE.prototype.Aa=function(){this.g=!1},wE.prototype.info=function(){};var Ch={},iT=null;function CE(){return iT=iT||new Ur}function Op(n){oi.call(this,Ch.Ma,n)}function Pp(n){const e=CE();ai(e,new Op(e,n))}function ER(n,e){oi.call(this,Ch.STAT_EVENT,n),this.stat=e}function es(n){const e=CE();ai(e,new ER(e,n))}function R_(n,e){oi.call(this,Ch.Na,n),this.size=e}function Np(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return yt.setTimeout(function(){n()},e)}Ch.Ma="serverreachability",si(Op,oi),Ch.STAT_EVENT="statevent",si(ER,oi),Ch.Na="timingevent",si(R_,oi);var DE={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},wR={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function IE(){}function TE(){}IE.prototype.h=null;var SE,Fp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function sT(){oi.call(this,"d")}function oT(){oi.call(this,"c")}function Nu(){}function Lp(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Ou(this),this.P=DR,this.W=new wh(n=cE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new aT}function aT(){this.i=null,this.g="",this.h=!1}si(sT,oi),si(oT,oi),si(Nu,IE),Nu.prototype.g=function(){return new XMLHttpRequest},Nu.prototype.i=function(){return{}},SE=new Nu;var DR=45e3,Vp={},k_={};function Bi(n,e,t){n.K=1,n.v=V_(ll(e)),n.s=t,n.U=!0,lT(n,null)}function lT(n,e){n.F=Date.now(),Fu(n),n.A=ll(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),B_(t.h,"t",r),n.C=0,t=n.l.H,n.h=new aT,n.g=xT(n.l,t?e:null,!n.s),0<n.O&&(n.L=new bR(on(n.Ia,n,n.g),n.O)),EE(n.V,n.g,"readystatechange",n.gb),e=n.H?LI(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Pp(1),function(n,e,t,r,o,c){n.info(function(){if(n.g)if(c)for(var h="",_=c.split("&"),b=0;b<_.length;b++){var C=_[b].split("=");if(1<C.length){var M=C[0];C=C[1];var O=M.split("_");h=2<=O.length&&"type"==O[1]?h+(M+"=")+C+"&":h+(M+"=redacted&")}}else h=null;else h=c;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function O_(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function cT(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=IR(n,t),o==k_){4==e&&(n.o=4,es(14),r=!1),Pu(n.j,n.m,null,"[Incomplete Response]");break}if(o==Vp){n.o=4,es(15),Pu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Pu(n.j,n.m,o,null),P_(n,o)}O_(n)&&o!=k_&&o!=Vp&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,es(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),UE(e),e.L=!0,es(11))):(Pu(n.j,n.m,t,"[Invalid Chunked Response]"),pc(n),Up(n))}function IR(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?k_:(t=Number(e.substring(t,r)),isNaN(t)?Vp:(r+=1)+t>e.length?k_:(e=e.substr(r,t),n.C=r+t,e))}function Fu(n){n.Y=Date.now()+n.P,AE(n,n.P)}function AE(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Np(on(n.eb,n),e)}function Bp(n){n.B&&(yt.clearTimeout(n.B),n.B=null)}function Up(n){0==n.l.G||n.I||LR(n.l,n)}function pc(n){Bp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,fc(n.W),nT(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function P_(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||U_(t.i,n)))if(t.I=n.N,!n.J&&U_(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(C){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Np(on(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;W_(t),q_(t)}TT(t),es(18)}if(1>=PE(t.i)&&t.ka){try{t.ka()}catch(C){}t.ka=void 0}}else Uu(t,11)}else if((n.J||t.g==n)&&W_(t),!b_(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let C=o[e];if(t.U=C[0],C=C[1],2==t.G)if("c"==C[0]){t.J=C[1],t.la=C[2];const M=C[3];null!=M&&(t.ma=M,t.h.info("VER="+t.ma));const O=C[4];null!=O&&(t.za=O,t.h.info("SVER="+t.za));const G=C[5];null!=G&&"number"==typeof G&&0<G&&(t.K=r=1.5*G,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const z=n.g;if(z){const J=z.g?z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(J){var c=r.i;!c.g&&(yi(J,"spdy")||yi(J,"quic")||yi(J,"h2"))&&(c.j=c.l,c.g=new Set,c.h&&(NE(c,c.h),c.h=null))}if(r.D){const me=z.g?z.g.getResponseHeader("X-HTTP-Session-Id"):null;me&&(r.sa=me,Ln(r.F,r.D,me))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=MT(r,r.H?r.la:null,r.W),h.J){fT(r.i,h);var _=h,b=r.K;b&&_.setTimeout(b),_.B&&(Bp(_),Fu(_)),r.g=h}else IT(r);0<t.l.length&&BE(t)}else"stop"!=C[0]&&"close"!=C[0]||Uu(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?Uu(t,7):Sh(t):"noop"!=C[0]&&t.j&&t.j.wa(C),t.A=0)}Pp(4)}catch(C){}}function ME(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(rE(n)||"string"==typeof n)v_(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(rE(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;o=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(rE(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n)).length;for(var c=0;c<o;c++)e.call(void 0,r[c],t&&t[c],n)}}function gc(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof gc)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function N_(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];mc(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)mc(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function mc(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ze=Lp.prototype).setTimeout=function(n){this.P=n},ze.gb=function(n){n=n.target;const e=this.L;e&&3==ga(n)?e.l():this.Ia(n)},ze.Ia=function(n){try{if(n==this.g)e:{const M=ga(this.g);var e=this.g.Da();const O=this.g.ba();if(!(3>M)&&(3!=M||cE||this.g&&(this.h.h||this.g.ga()||Or(this.g)))){this.I||4!=M||7==e||Pp(8==e||0>=O?3:2),Bp(this);var t=this.g.ba();this.N=t;t:if(O_(this)){var r=Or(this.g);n="";var o=r.length,c=4==ga(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){pc(this),Up(this);var h="";break t}this.h.i=new yt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function(n,e,t,r,o,c,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+c+" "+h})}(this.j,this.u,this.A,this.m,this.X,M,t),this.i){if(this.$&&!this.J){t:{if(this.g){var _,b=this.g;if((_=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b_(_)){var C=_;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,es(12),pc(this),Up(this);break e}Pu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,P_(this,t)}this.U?(cT(this,M,h),cE&&this.i&&3==M&&(EE(this.V,this.W,"tick",this.fb),this.W.start())):(Pu(this.j,this.m,h,null),P_(this,h)),4==M&&pc(this),this.i&&!this.I&&(4==M?LR(this.l,this):(this.i=!1,Fu(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,es(12)):(this.o=0,es(13)),pc(this),Up(this)}}}catch(M){}},ze.fb=function(){if(this.g){var n=ga(this.g),e=this.g.ga();this.C<e.length&&(Bp(this),cT(this,n,e),this.i&&4!=n&&Fu(this))}},ze.cancel=function(){this.I=!0,pc(this)},ze.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Pp(3),es(17)),pc(this),this.o=2,Up(this)):AE(this,this.Y-n)},(ze=gc.prototype).R=function(){N_(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ze.T=function(){return N_(this),this.g.concat()},ze.get=function(n,e){return mc(this.h,n)?this.h[n]:e},ze.set=function(n,e){mc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ze.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],c=this.get(o);n.call(e,c,o,this)}};var F_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function li(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof li){this.g=void 0!==e?e:n.g,xE(this,n.j),this.s=n.s,L_(this,n.i),RE(this,n.m),this.l=n.l,e=n.h;var t=new Hp;t.i=e.i,e.g&&(t.g=new gc(e.g),t.h=e.h),uT(this,t),this.o=n.o}else n&&(t=String(n).match(F_))?(this.g=!!e,xE(this,t[1]||"",!0),this.s=Dh(t[2]||""),L_(this,t[3]||"",!0),RE(this,t[4]),this.l=Dh(t[5]||"",!0),uT(this,t[6]||"",!0),this.o=Dh(t[7]||"")):(this.g=!!e,this.h=new Hp(null,this.g))}function ll(n){return new li(n)}function xE(n,e,t){n.j=t?Dh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function L_(n,e,t){n.i=t?Dh(e,!0):e}function RE(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function uT(n,e,t){e instanceof Hp?(n.h=e,function(n,e){e&&!n.j&&(_c(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(OE(this,r),B_(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=jp(e,dT)),n.h=new Hp(e,n.g))}function Ln(n,e,t){n.h.set(e,t)}function V_(n){return Ln(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Dh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function jp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,MR),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function MR(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}li.prototype.toString=function(){var n=[],e=this.j;e&&n.push(jp(e,kE,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(jp(e,kE,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(jp(t,"/"==t.charAt(0)?QN:xR,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",jp(t,hT)),n.join("")};var kE=/[#\/\?@]/g,xR=/[#\?:]/g,QN=/[#\?]/g,dT=/[#\?@]/g,hT=/#/g;function Hp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function _c(n){n.g||(n.g=new gc,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var c=n[t].substring(0,r);o=n[t].substring(r+1)}else c=n[t];e(c,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function OE(n,e){_c(n),e=Lu(n,e),mc(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,mc((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&N_(n)))}function Ih(n,e){return _c(n),e=Lu(n,e),mc(n.g.h,e)}function B_(n,e,t){OE(n,e),0<t.length&&(n.i=null,n.g.set(Lu(n,e),oE(t)),n.h+=t.length)}function Lu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function kR(n){this.l=n||XN,n=yt.PerformanceNavigationTiming?0<(n=yt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(yt.g&&yt.g.Ea&&yt.g.Ea()&&yt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ze=Hp.prototype).add=function(n,e){_c(this),this.i=null,n=Lu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ze.forEach=function(n,e){_c(this),this.g.forEach(function(t,r){v_(t,function(o){n.call(e,o,r,this)},this)},this)},ze.T=function(){_c(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],c=0;c<o.length;c++)t.push(e[r]);return t},ze.R=function(n){_c(this);var e=[];if("string"==typeof n)Ih(this,n)&&(e=sE(e,this.g.get(Lu(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=sE(e,n[t])}return e},ze.set=function(n,e){return _c(this),this.i=null,Ih(this,n=Lu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ze.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ze.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var c=0;c<r.length;c++){var h=o;""!==r[c]&&(h+="="+encodeURIComponent(String(r[c]))),n.push(h)}}return this.i=n.join("&")};var XN=10;function OR(n){return!!n.h||!!n.g&&n.g.size>=n.j}function PE(n){return n.h?1:n.g?n.g.size:0}function U_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function NE(n,e){n.g?n.g.add(e):n.h=e}function fT(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function pT(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return oE(n.i)}function gT(){}function mT(){this.g=new gT}function eF(n,e,t){const r=t||"";try{ME(n,function(o,c){let h=o;Eh(o)&&(h=QI(o)),e.push(r+c+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function j_(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(c){}}function Vu(n){this.l=n.$b||null,this.j=n.ib||!1}function ir(n,e){Ur.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=_T,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kR.prototype.cancel=function(){if(this.i=pT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},gT.prototype.stringify=function(n){return yt.JSON.stringify(n,void 0)},gT.prototype.parse=function(n){return yt.JSON.parse(n,void 0)},si(Vu,IE),Vu.prototype.g=function(){return new ir(this.l,this.j)},Vu.prototype.i=function(n){return function(){return n}}({}),si(ir,Ur);var _T=0;function FE(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Th(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Gp(n)}function Gp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ze=ir.prototype).open=function(n,e){if(this.readyState!=_T)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Gp(this)},ze.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||yt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ze.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Th(this)),this.readyState=_T},ze.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Gp(this)),this.g&&(this.readyState=3,Gp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==yt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;FE(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ze.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Th(this):Gp(this),3==this.readyState&&FE(this)}},ze.Ua=function(n){this.g&&(this.response=this.responseText=n,Th(this))},ze.Ta=function(n){this.g&&(this.response=n,Th(this))},ze.ha=function(){this.g&&Th(this)},ze.setRequestHeader=function(n,e){this.v.append(n,e)},ze.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ze.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ir.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var H_=yt.JSON.parse;function pr(n){Ur.call(this),this.headers=new gc,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=yT,this.K=this.L=!1}si(pr,Ur);var yT="",vT=/^https?$/i,Bu=["POST","PUT"];function LE(n){return"content-type"==n.toLowerCase()}function G_(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ET(n),$_(n)}function ET(n){n.D||(n.D=!0,ai(n,"complete"),ai(n,"error"))}function $p(n){if(n.h&&void 0!==y_&&(!n.C[1]||4!=ga(n)||2!=n.ba()))if(n.v&&4==ga(n))M_(n.Fa,0,n);else if(ai(n,"readystatechange"),4==ga(n)){n.h=!1;try{const _=n.ba();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===_){var o=String(n.H).match(F_)[1]||null;if(!o&&yt.self&&yt.self.location){var c=yt.self.location.protocol;o=c.substr(0,c.length-1)}r=!vT.test(o?o.toLowerCase():"")}t=r}if(t)ai(n,"complete"),ai(n,"success");else{n.m=6;try{var h=2<ga(n)?n.g.statusText:""}catch(b){h=""}n.j=h+" ["+n.ba()+"]",ET(n)}}finally{$_(n)}}}function $_(n,e){if(n.g){z_(n);const t=n.g,r=n.C[0]?Ap:null;n.g=null,n.C=null,e||ai(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function z_(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(yt.clearTimeout(n.A),n.A=null)}function ga(n){return n.g?n.g.readyState:0}function Or(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case yT:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function VE(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return D_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ln(n,e,t))}function zp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function PR(n){this.za=0,this.l=[],this.h=new wE,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=zp("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=zp("baseRetryDelayMs",5e3,n),this.$a=zp("retryDelaySeedMs",1e4,n),this.Ya=zp("forwardChannelMaxRetries",2,n),this.ra=zp("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new kR(n&&n.concurrentRequestLimit),this.Ca=new mT,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Sh(n){if(NR(n),3==n.G){var e=n.V++,t=ll(n.F);Ln(t,"SID",n.J),Ln(t,"RID",e),Ln(t,"TYPE","terminate"),qp(n,t),(e=new Lp(n,n.h,e,void 0)).K=2,e.v=V_(ll(t)),t=!1,yt.navigator&&yt.navigator.sendBeacon&&(t=yt.navigator.sendBeacon(e.v.toString(),"")),!t&&yt.Image&&((new Image).src=e.v,t=!0),t||(e.g=xT(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Fu(e)}AT(n)}function q_(n){n.g&&(UE(n),n.g.cancel(),n.g=null)}function NR(n){q_(n),n.u&&(yt.clearTimeout(n.u),n.u=null),W_(n),n.i.cancel(),n.m&&("number"==typeof n.m&&yt.clearTimeout(n.m),n.m=null)}function wT(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&BE(n)}function BE(n){OR(n.i)||n.m||(n.m=!0,XI(n.Ha,n),n.C=0)}function CT(n,e){var t;t=e?e.m:n.V++;const r=ll(n.F);Ln(r,"SID",n.J),Ln(r,"RID",t),Ln(r,"AID",n.U),qp(n,r),n.o&&n.s&&VE(r,n.o,n.s),t=new Lp(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=DT(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),NE(n.i,t),Bi(t,r,e)}function qp(n,e){n.j&&ME({},function(t,r){Ln(e,r,t)})}function DT(n,e,t){t=Math.min(n.l.length,t);var r=n.j?on(n.j.Oa,n.j,n):null;e:{var o=n.l;let c=-1;for(;;){const h=["count="+t];-1==c?0<t?(c=o[0].h,h.push("ofs="+c)):c=0:h.push("ofs="+c);let _=!0;for(let b=0;b<t;b++){let C=o[b].h;const M=o[b].g;if(C-=c,0>C)c=Math.max(0,o[b].h-100),_=!1;else try{eF(M,h,"req"+C+"_")}catch(O){r&&r(M)}}if(_){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function IT(n){n.g||n.u||(n.Y=1,XI(n.Ga,n),n.A=0)}function TT(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Np(on(n.Ga,n),VR(n,n.A)),n.A++,0))}function UE(n){null!=n.B&&(yt.clearTimeout(n.B),n.B=null)}function ST(n){n.g=new Lp(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ll(n.oa);Ln(e,"RID","rpc"),Ln(e,"SID",n.J),Ln(e,"CI",n.N?"0":"1"),Ln(e,"AID",n.U),qp(n,e),Ln(e,"TYPE","xmlhttp"),n.o&&n.s&&VE(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=V_(ll(e)),t.s=null,t.U=!0,lT(t,n)}function W_(n){null!=n.v&&(yt.clearTimeout(n.v),n.v=null)}function LR(n,e){var t=null;if(n.g==e){W_(n),UE(n),n.g=null;var r=2}else{if(!U_(n.i,e))return;t=e.D,fT(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;ai(r=CE(),new R_(r,t,e,o)),BE(n)}else IT(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function(n,e){return!(PE(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Np(on(n.Ha,n,e),VR(n,n.C)),n.C++,0)))}(n,e)||2==r&&TT(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Uu(n,5);break;case 4:Uu(n,10);break;case 3:Uu(n,6);break;default:Uu(n,2)}}function VR(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Uu(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=on(n.jb,n);t||(t=new li("//www.google.com/images/cleardot.gif"),yt.location&&"http"==yt.location.protocol||xE(t,"https"),V_(t)),function(n,e){const t=new wE;if(yt.Image){const r=new Image;r.onload=al(j_,t,r,"TestLoadImage: loaded",!0,e),r.onerror=al(j_,t,r,"TestLoadImage: error",!1,e),r.onabort=al(j_,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=al(j_,t,r,"TestLoadImage: timeout",!1,e),yt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else es(2);n.G=0,n.j&&n.j.va(e),AT(n),NR(n)}function AT(n){n.G=0,n.I=-1,n.j&&((0!=pT(n.i).length||0!=n.l.length)&&(n.i.i.length=0,oE(n.l),n.l.length=0),n.j.ua())}function MT(n,e,t){let r=function(n){return n instanceof li?ll(n):new li(n,void 0)}(t);if(""!=r.i)e&&L_(r,e+"."+r.i),RE(r,r.m);else{const o=yt.location;r=function(n,e,t,r){var o=new li(null,void 0);return n&&xE(o,n),e&&L_(o,e),t&&RE(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&D_(n.aa,function(o,c){Ln(r,c,o)}),t=n.sa,(e=n.D)&&t&&Ln(r,e,t),Ln(r,"VER",n.ma),qp(n,r),r}function xT(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pr(t&&n.Ba&&!n.qa?new Vu({ib:!0}):n.qa)).L=n.H,e}function RT(){}function ts(){if(hc&&!(10<=Number(jI)))throw Error("Environmental error: no available transport.")}function Ss(n,e){Ur.call(this),this.g=new PR(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!b_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!b_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ah(this)}function kT(n){sT.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function OT(){oT.call(this),this.status=1}function Ah(n){this.g=n}(ze=pr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():SE.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:SE),this.g.onreadystatechange=on(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(c){return void G_(this,c)}n=t||"";const o=new gc(this.headers);r&&ME(r,function(c,h){o.set(h,c)}),r=function(n){e:{var e=LE;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=yt.FormData&&n instanceof yt.FormData,!(0<=FI(Bu,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(c,h){this.g.setRequestHeader(h,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{z_(this),0<this.B&&((this.K=function(n){return hc&&UI()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=on(this.pa,this)):this.A=M_(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){G_(this,c)}},ze.pa=function(){void 0!==y_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ai(this,"timeout"),this.abort(8))},ze.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ai(this,"complete"),ai(this,"abort"),$_(this))},ze.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$_(this,!0)),pr.Z.M.call(this)},ze.Fa=function(){this.s||(this.F||this.v||this.l?$p(this):this.cb())},ze.cb=function(){$p(this)},ze.ba=function(){try{return 2<ga(this)?this.g.status:-1}catch(n){return-1}},ze.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ze.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),H_(e)}},ze.Da=function(){return this.m},ze.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ze=PR.prototype).ma=8,ze.G=1,ze.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ze.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Lp(this,this.h,n,void 0);let c=this.s;if(this.P&&(c?(c=LI(c),xp(c,this.P)):c=this.P),null===this.o&&(o.H=c),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=DT(this,o,e),Ln(t=ll(this.F),"RID",n),Ln(t,"CVER",22),this.D&&Ln(t,"X-HTTP-Session-Id",this.D),qp(this,t),this.o&&c&&VE(t,this.o,c),NE(this.i,o),this.Ra&&Ln(t,"TYPE","init"),this.ja?(Ln(t,"$req",e),Ln(t,"SID","null"),o.$=!0,Bi(o,t,null)):Bi(o,t,e),this.G=2}}else 3==this.G&&(n?CT(this,n):0==this.l.length||OR(this.i)||CT(this))},ze.Ga=function(){if(this.u=null,ST(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Np(on(this.bb,this),n)}},ze.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,es(10),q_(this),ST(this))},ze.ab=function(){null!=this.v&&(this.v=null,q_(this),TT(this),es(19))},ze.jb=function(n){n?(this.h.info("Successfully pinged google.com"),es(2)):(this.h.info("Failed to ping google.com"),es(1))},(ze=RT.prototype).xa=function(){},ze.wa=function(){},ze.va=function(){},ze.ua=function(){},ze.Oa=function(){},ts.prototype.g=function(n,e){return new Ss(n,e)},si(Ss,Ur),Ss.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),XI(on(n.hb,n,e))),es(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=MT(n,null,n.W),BE(n)},Ss.prototype.close=function(){Sh(this.g)},Ss.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,wT(this.g,e)}else this.v?((e={}).__data__=QI(n),wT(this.g,e)):wT(this.g,n)},Ss.prototype.M=function(){this.g.j=null,delete this.j,Sh(this.g),delete this.g,Ss.Z.M.call(this)},si(kT,sT),si(OT,oT),si(Ah,RT),Ah.prototype.xa=function(){ai(this.g,"a")},Ah.prototype.wa=function(n){ai(this.g,new kT(n))},Ah.prototype.va=function(n){ai(this.g,new OT(n))},Ah.prototype.ua=function(){ai(this.g,"b")},ts.prototype.createWebChannel=ts.prototype.g,Ss.prototype.send=Ss.prototype.u,Ss.prototype.open=Ss.prototype.m,Ss.prototype.close=Ss.prototype.close,DE.NO_ERROR=0,DE.TIMEOUT=8,DE.HTTP_ERROR=6,wR.COMPLETE="complete",TE.EventType=Fp,Fp.OPEN="a",Fp.CLOSE="b",Fp.ERROR="c",Fp.MESSAGE="d",Ur.prototype.listen=Ur.prototype.N,pr.prototype.listenOnce=pr.prototype.O,pr.prototype.getLastError=pr.prototype.La,pr.prototype.getLastErrorCode=pr.prototype.Da,pr.prototype.getStatus=pr.prototype.ba,pr.prototype.getResponseJson=pr.prototype.Qa,pr.prototype.getResponseText=pr.prototype.ga,pr.prototype.send=pr.prototype.ea;var rF=So.createWebChannelTransport=function(){return new ts},BR=So.getStatEventTarget=function(){return CE()},jE=So.ErrorCode=DE,UR=So.EventType=wR,Wp=So.Event=Ch,HE=So.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},iF=So.FetchXmlHttpFactory=Vu,K_=So.WebChannel=TE,sF=So.XhrIo=pr;const jR="@firebase/firestore";class vi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vi.UNAUTHENTICATED=new vi(null),vi.GOOGLE_CREDENTIALS=new vi("google-credentials-uid"),vi.FIRST_PARTY=new vi("first-party-uid"),vi.MOCK_USER=new vi("mock-user");let yc="9.4.0";const vc=new uc.Yd("@firebase/firestore");function GE(){return vc.logLevel}function Ne(n,...e){if(vc.logLevel<=uc.in.DEBUG){const t=e.map($E);vc.debug(`Firestore (${yc}): ${n}`,...t)}}function gr(n,...e){if(vc.logLevel<=uc.in.ERROR){const t=e.map($E);vc.error(`Firestore (${yc}): ${n}`,...t)}}function Kp(n,...e){if(vc.logLevel<=uc.in.WARN){const t=e.map($E);vc.warn(`Firestore (${yc}): ${n}`,...t)}}function $E(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function $e(n="Unexpected state"){const e=`FIRESTORE (${yc}) INTERNAL ASSERTION FAILED: `+n;throw gr(e),new Error(e)}function mt(n,e){n||$e()}function Ve(n,e){return n}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Y_{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class zE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(vi.UNAUTHENTICATED))}shutdown(){}}class qE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Z_{constructor(e){this.t=e,this.currentUser=vi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const c=C=>this.i!==o?(o=this.i,t(C)):Promise.resolve();let h=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Pr,e.enqueueRetryable(()=>c(this.currentUser))};const _=()=>{const C=h;e.enqueueRetryable((0,ye.Z)(function*(){yield C.promise,yield c(r.currentUser)}))},b=C=>{Ne("FirebaseCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),_()};this.t.onInit(C=>b(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?b(C):(Ne("FirebaseCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Pr)}},0),_()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ne("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt("string"==typeof r.accessToken),new Y_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return mt(null===e||"string"==typeof e),new vi(e)}}class Q_{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=vi.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class NT{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Q_(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(vi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ns{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.g(r),this.p=r=>t.writeSequenceNumber(r))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function GR(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}ns.T=-1;class FT{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=GR(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<t&&(r+=e.charAt(o[c]%e.length))}return r}}function Bt(n,e){return n<e?-1:n>e?1:0}function Mh(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function LT(n){return n+"\0"}class jr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ae(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jr.fromMillis(Date.now())}static fromDate(e){return jr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new jr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new jr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function VT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function sr(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function xh(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class bc{constructor(e,t,r){void 0===t?t=0:t>e.length&&$e(),void 0===r?r=e.length-t:r>e.length-t&&$e(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===bc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bc?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const c=e.get(o),h=t.get(o);if(c<h)return-1;if(c>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class en extends bc{construct(e,t,r){return new en(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new en(t)}static emptyPath(){return new en([])}}const J_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nr extends bc{construct(e,t,r){return new Nr(e,t,r)}static isValidIdentifier(e){return J_.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Nr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const c=()=>{if(0===r.length)throw new Ae(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const _=e[o];if("\\"===_){if(o+1===e.length)throw new Ae(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[o+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new Ae(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=b,o+=2}else"`"===_?(h=!h,o++):"."!==_||h?(r+=_,o++):(c(),o++)}if(c(),h)throw new Ae(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nr(t)}static emptyPath(){return new Nr([])}}class ju{constructor(e){this.fields=e,e.sort(Nr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Mh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Hr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Hr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(e);return new Hr(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hr.EMPTY_BYTE_STRING=new Hr("");const $R=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ec(n){if(mt(!!n),"string"==typeof n){let e=0;const t=$R.exec(n);if(mt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mr(n.seconds),nanos:mr(n.nanos)}}function mr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Hu(n){return"string"==typeof n?Hr.fromBase64String(n):Hr.fromUint8Array(n)}function WE(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function BT(n){const e=n.mapValue.fields.__previous_value__;return WE(e)?BT(e):e}function Yp(n){const e=Ec(n.mapValue.fields.__local_write_time__.timestampValue);return new jr(e.seconds,e.nanos)}function rs(n){return null==n}function wc(n){return 0===n&&1/n==-1/0}function ey(n){return"number"==typeof n&&Number.isInteger(n)&&!wc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(en.fromString(e))}static fromName(e){return new Xe(en.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===en.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return en.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new en(e.slice()))}}function Gu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?WE(n)?4:10:$e()}function ma(n,e){const t=Gu(n);if(t!==Gu(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Yp(n).isEqual(Yp(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Ec(r.timestampValue),h=Ec(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Hu(n.bytesValue).isEqual(Hu(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return mr(r.geoPointValue.latitude)===mr(o.geoPointValue.latitude)&&mr(r.geoPointValue.longitude)===mr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return mr(r.integerValue)===mr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=mr(r.doubleValue),h=mr(o.doubleValue);return c===h?wc(c)===wc(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return Mh(n.arrayValue.values||[],e.arrayValue.values||[],ma);case 10:return function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(VT(c)!==VT(h))return!1;for(const _ in c)if(c.hasOwnProperty(_)&&(void 0===h[_]||!ma(c[_],h[_])))return!1;return!0}(n,e);default:return $e()}var o}function $u(n,e){return void 0!==(n.values||[]).find(t=>ma(t,e))}function Rh(n,e){const t=Gu(n),r=Gu(e);if(t!==r)return Bt(t,r);switch(t){case 0:return 0;case 1:return Bt(n.booleanValue,e.booleanValue);case 2:return function(o,c){const h=mr(o.integerValue||o.doubleValue),_=mr(c.integerValue||c.doubleValue);return h<_?-1:h>_?1:h===_?0:isNaN(h)?isNaN(_)?0:-1:1}(n,e);case 3:return KE(n.timestampValue,e.timestampValue);case 4:return KE(Yp(n),Yp(e));case 5:return Bt(n.stringValue,e.stringValue);case 6:return function(o,c){const h=Hu(o),_=Hu(c);return h.compareTo(_)}(n.bytesValue,e.bytesValue);case 7:return function(o,c){const h=o.split("/"),_=c.split("/");for(let b=0;b<h.length&&b<_.length;b++){const C=Bt(h[b],_[b]);if(0!==C)return C}return Bt(h.length,_.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,c){const h=Bt(mr(o.latitude),mr(c.latitude));return 0!==h?h:Bt(mr(o.longitude),mr(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,c){const h=o.values||[],_=c.values||[];for(let b=0;b<h.length&&b<_.length;++b){const C=Rh(h[b],_[b]);if(C)return C}return Bt(h.length,_.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,c){const h=o.fields||{},_=Object.keys(h),b=c.fields||{},C=Object.keys(b);_.sort(),C.sort();for(let M=0;M<_.length&&M<C.length;++M){const O=Bt(_[M],C[M]);if(0!==O)return O;const G=Rh(h[_[M]],b[C[M]]);if(0!==G)return G}return Bt(_.length,C.length)}(n.mapValue,e.mapValue);default:throw $e()}}function KE(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Bt(n,e);const t=Ec(n),r=Ec(e),o=Bt(t.seconds,r.seconds);return 0!==o?o:Bt(t.nanos,r.nanos)}function ty(n){return YE(n)}function YE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Ec(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Hu(n.bytesValue).toBase64():"referenceValue"in n?Xe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",c=!0;for(const h of r.values||[])c?c=!1:o+=",",o+=YE(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let c="{",h=!0;for(const _ of o)h?h=!1:c+=",",c+=`${_}:${YE(r.fields[_])}`;return c+"}"}(n.mapValue):$e();var e}function ny(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ZE(n){return!!n&&"integerValue"in n}function Ao(n){return!!n&&"arrayValue"in n}function kh(n){return!!n&&"nullValue"in n}function zu(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qu(n){return!!n&&"mapValue"in n}function _a(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return sr(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=_a(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_a(n.arrayValue.values[t]);return e}return Object.assign({},n)}class bi{constructor(e){this.value=e}static empty(){return new bi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_a(t)}setAll(e){let t=Nr.emptyPath(),r={},o=[];e.forEach((h,_)=>{if(!t.isImmediateParentOf(_)){const b=this.getFieldsMap(t);this.applyChanges(b,r,o),r={},o=[],t=_.popLast()}h?r[_.lastSegment()]=_a(h):o.push(_.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,o)}delete(e){const t=this.field(e.popLast());qu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ma(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];qu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){sr(t,(o,c)=>e[o]=c);for(const o of r)delete e[o]}clone(){return new bi(_a(this.value))}}function UT(n){const e=[];return sr(n.fields,(t,r)=>{const o=new Nr([t]);if(qu(r)){const c=UT(r.mapValue).fields;if(0===c.length)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)}),new ju(e)}class Vn{constructor(e,t,r,o,c){this.key=e,this.documentType=t,this.version=r,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Vn(e,0,It.min(),bi.empty(),0)}static newFoundDocument(e,t,r){return new Vn(e,1,t,r,0)}static newNoDocument(e,t){return new Vn(e,2,t,bi.empty(),0)}static newUnknownDocument(e,t){return new Vn(e,3,t,bi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Vn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jT{constructor(e,t=null,r=[],o=[],c=null,h=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=h,this.endAt=_,this.A=null}}function QE(n,e=null,t=[],r=[],o=null,c=null,h=null){return new jT(n,e,t,r,o,c,h)}function Oh(n){const e=Ve(n);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+ty(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),rs(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=iy(e.startAt)),e.endAt&&(t+="|ub:",t+=iy(e.endAt)),e.A=t}return e.A}function Ph(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!uF(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!ma(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!WR(n.startAt,e.startAt)&&WR(n.endAt,e.endAt)}function ry(n){return Xe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ui extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,r):new Wu(e,t,r):"array-contains"===t?new oF(e,r):"in"===t?new aF(e,r):"not-in"===t?new lF(e,r):"array-contains-any"===t?new cF(e,r):new Ui(e,t,r)}static R(e,t,r){return"in"===t?new JE(e,r):new zR(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(Rh(t,this.value)):null!==t&&Gu(this.value)===Gu(t)&&this.P(Rh(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $e()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Wu extends Ui{constructor(e,t,r){super(e,t,r),this.key=Xe.fromName(r.referenceValue)}matches(e){const t=Xe.comparator(e.key,this.key);return this.P(t)}}class JE extends Ui{constructor(e,t){super(e,"in",t),this.keys=$T(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class zR extends Ui{constructor(e,t){super(e,"not-in",t),this.keys=$T(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $T(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Xe.fromName(r.referenceValue))}class oF extends Ui{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ao(t)&&$u(t.arrayValue,this.value)}}class aF extends Ui{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&$u(this.value.arrayValue,t)}}class lF extends Ui{constructor(e,t){super(e,"not-in",t)}matches(e){if($u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!$u(this.value.arrayValue,t)}}class cF extends Ui{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ao(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>$u(this.value.arrayValue,r))}}class Zp{constructor(e,t){this.position=e,this.before=t}}function iy(n){return`${n.before?"b":"a"}:${n.position.map(e=>ty(e)).join(",")}`}class Qp{constructor(e,t="asc"){this.field=e,this.dir=t}}function uF(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function qR(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const c=e[o],h=n.position[o];if(r=c.field.isKeyField()?Xe.comparator(Xe.fromName(h.referenceValue),t.key):Rh(h,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function WR(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ma(n.position[t],e.position[t]))return!1;return!0}class cl{constructor(e,t=null,r=[],o=[],c=null,h="F",_=null,b=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=h,this.startAt=_,this.endAt=b,this.V=null,this.S=null}}function KR(n,e,t,r,o,c,h,_){return new cl(n,e,t,r,o,c,h,_)}function Jp(n){return new cl(n)}function XE(n){return!rs(n.limit)&&"F"===n.limitType}function ew(n){return!rs(n.limit)&&"L"===n.limitType}function i(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function s(n){for(const e of n.filters)if(e.v())return e.field;return null}function a(n){return null!==n.collectionGroup}function l(n){const e=Ve(n);if(null===e.V){e.V=[];const t=s(e),r=i(e);if(null!==t&&null===r)t.isKeyField()||e.V.push(new Qp(t)),e.V.push(new Qp(Nr.keyField(),"asc"));else{let o=!1;for(const c of e.explicitOrderBy)e.V.push(c),c.field.isKeyField()&&(o=!0);if(!o){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new Qp(Nr.keyField(),c))}}}return e.V}function d(n){const e=Ve(n);if(!e.S)if("F"===e.limitType)e.S=QE(e.path,e.collectionGroup,l(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of l(e))t.push(new Qp(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new Zp(e.endAt.position,!e.endAt.before):null,o=e.startAt?new Zp(e.startAt.position,!e.startAt.before):null;e.S=QE(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.S}function f(n,e,t){return new cl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function m(n,e){return Ph(d(n),d(e))&&n.limitType===e.limitType}function v(n){return`${Oh(d(n))}|lt:${n.limitType}`}function w(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${ty(r.value)}`;var r}).join(", ")}]`),rs(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+iy(n.startAt)),n.endAt&&(e+=", endAt: "+iy(n.endAt)),`Target(${e})`}(d(n))}; limitType=${n.limitType})`}function I(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Xe.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!qR(t.startAt,l(t),r)||t.endAt&&qR(t.endAt,l(t),r)));var t,r}function x(n){return(e,t)=>{let r=!1;for(const o of l(n)){const c=P(o,e,t);if(0!==c)return c;r=r||o.field.isKeyField()}return 0}}function P(n,e,t){const r=n.field.isKeyField()?Xe.comparator(e.key,t.key):function(o,c,h){const _=c.data.field(o),b=h.data.field(o);return null!==_&&null!==b?Rh(_,b):$e()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return $e()}}function N(n,e){if(n.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wc(e)?"-0":e}}function H(n){return{integerValue:""+n}}function Y(n,e){return ey(e)?H(e):N(n,e)}class fe{constructor(){this._=void 0}}function ie(n,e,t){return n instanceof Ke?function(r,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(c.fields.__previous_value__=o),{mapValue:c}}(t,e):n instanceof rt?Pt(n,e):n instanceof Cn?As(n,e):function(r,o){const c=ve(r,o),h=Ku(c)+Ku(r.C);return ZE(c)&&ZE(r.C)?H(h):N(r.N,h)}(n,e)}function Oe(n,e,t){return n instanceof rt?Pt(n,e):n instanceof Cn?As(n,e):t}function ve(n,e){return n instanceof ya?ZE(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ke extends fe{}class rt extends fe{constructor(e){super(),this.elements=e}}function Pt(n,e){const t=Yu(e);for(const r of n.elements)t.some(o=>ma(o,r))||t.push(r);return{arrayValue:{values:t}}}class Cn extends fe{constructor(e){super(),this.elements=e}}function As(n,e){let t=Yu(e);for(const r of n.elements)t=t.filter(o=>!ma(o,r));return{arrayValue:{values:t}}}class ya extends fe{constructor(e,t){super(),this.N=e,this.C=t}}function Ku(n){return mr(n.integerValue||n.doubleValue)}function Yu(n){return Ao(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class va{constructor(e,t){this.field=e,this.transform=t}}class nw{constructor(e,t){this.version=e,this.transformResults=t}}class Qn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nh(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Fh{}function NV(n,e,t){n instanceof rw?function(r,o,c){const h=r.value.clone(),_=pF(r.fieldTransforms,o,c.transformResults);h.setAll(_),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Lh?function(r,o,c){if(!Nh(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=pF(r.fieldTransforms,o,c.transformResults),_=o.data;_.setAll(fF(r)),_.setAll(h),o.convertToFoundDocument(c.version,_).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function YR(n,e,t){var o;n instanceof rw?function(r,o,c){if(!Nh(r.precondition,o))return;const h=r.value.clone(),_=gF(r.fieldTransforms,c,o);h.setAll(_),o.convertToFoundDocument(hF(o),h).setHasLocalMutations()}(n,e,t):n instanceof Lh?function(r,o,c){if(!Nh(r.precondition,o))return;const h=gF(r.fieldTransforms,c,o),_=o.data;_.setAll(fF(r)),_.setAll(h),o.convertToFoundDocument(hF(o),_).setHasLocalMutations()}(n,e,t):Nh(n.precondition,o=e)&&o.convertToNoDocument(It.min())}function FV(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),c=ve(r.transform,o||null);null!=c&&(null==t&&(t=bi.empty()),t.set(r.field,c))}return t||null}function dF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Mh(t,r,(o,c)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof rt&&r instanceof rt||t instanceof Cn&&r instanceof Cn?Mh(t.elements,r.elements,ma):t instanceof ya&&r instanceof ya?ma(t.C,r.C):t instanceof Ke&&r instanceof Ke);var t,r}(o,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function hF(n){return n.isFoundDocument()?n.version:It.min()}class rw extends Fh{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class Lh extends Fh{constructor(e,t,r,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}}function fF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function pF(n,e,t){const r=new Map;mt(n.length===t.length);for(let o=0;o<t.length;o++){const c=n[o],h=c.transform,_=e.data.field(c.field);r.set(c.field,Oe(h,_,t[o]))}return r}function gF(n,e,t){const r=new Map;for(const o of n){const c=o.transform,h=t.data.field(o.field);r.set(o.field,ie(c,h,e))}return r}class iw extends Fh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class ZR extends Fh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class LV{constructor(e){this.count=e}}var Gr,tn;function mF(n){switch(n){default:return $e();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function _F(n){if(void 0===n)return gr("GRPC error has no .code"),ge.UNKNOWN;switch(n){case Gr.OK:return ge.OK;case Gr.CANCELLED:return ge.CANCELLED;case Gr.UNKNOWN:return ge.UNKNOWN;case Gr.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case Gr.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case Gr.INTERNAL:return ge.INTERNAL;case Gr.UNAVAILABLE:return ge.UNAVAILABLE;case Gr.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case Gr.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case Gr.NOT_FOUND:return ge.NOT_FOUND;case Gr.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case Gr.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case Gr.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case Gr.ABORTED:return ge.ABORTED;case Gr.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case Gr.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case Gr.DATA_LOSS:return ge.DATA_LOSS;default:return $e()}}(tn=Gr||(Gr={}))[tn.OK=0]="OK",tn[tn.CANCELLED=1]="CANCELLED",tn[tn.UNKNOWN=2]="UNKNOWN",tn[tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tn[tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tn[tn.NOT_FOUND=5]="NOT_FOUND",tn[tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",tn[tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",tn[tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",tn[tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tn[tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tn[tn.ABORTED=10]="ABORTED",tn[tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",tn[tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",tn[tn.INTERNAL=13]="INTERNAL",tn[tn.UNAVAILABLE=14]="UNAVAILABLE",tn[tn.DATA_LOSS=15]="DATA_LOSS";class ci{constructor(e,t){this.comparator=e,this.root=t||ji.EMPTY}insert(e,t){return new ci(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ji.BLACK,null,null))}remove(e){return new ci(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ji.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zT(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zT(this.root,e,this.comparator,!1)}getReverseIterator(){return new zT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zT(this.root,e,this.comparator,!0)}}class zT{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ji{constructor(e,t,r,o,c){this.key=e,this.value=t,this.color=null!=r?r:ji.RED,this.left=null!=o?o:ji.EMPTY,this.right=null!=c?c:ji.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,c){return new ji(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===c?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ji.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return ji.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ji.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ji.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $e();const e=this.left.check();if(e!==this.right.check())throw $e();return e+(this.isRed()?0:1)}}ji.EMPTY=null,ji.RED=!0,ji.BLACK=!1,ji.EMPTY=new class{constructor(){this.size=0}get key(){throw $e()}get value(){throw $e()}get color(){throw $e()}get left(){throw $e()}get right(){throw $e()}copy(n,e,t,r,o){return this}insert(n,e,t){return new ji(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _r{constructor(e){this.comparator=e,this.data=new ci(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yF(this.data.getIterator())}getIteratorFrom(e){return new yF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof _r)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(o,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _r(this.comparator);return t.data=e,t}}class yF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const VV=new ci(Xe.comparator);function ba(){return VV}const BV=new ci(Xe.comparator);function QR(){return BV}const UV=new ci(Xe.comparator);function vF(){return UV}const jV=new _r(Xe.comparator);function pn(...n){let e=jV;for(const t of n)e=e.add(t);return e}const HV=new _r(Bt);function qT(){return HV}class sw{constructor(e,t,r,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,ow.createSynthesizedTargetChangeForCurrentChange(e,t)),new sw(It.min(),r,qT(),ba(),pn())}}class ow{constructor(e,t,r,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ow(Hr.EMPTY_BYTE_STRING,t,pn(),pn(),pn())}}class WT{constructor(e,t,r,o){this.k=e,this.removedTargetIds=t,this.key=r,this.$=o}}class bF{constructor(e,t){this.targetId=e,this.O=t}}class EF{constructor(e,t,r=Hr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class wF{constructor(){this.F=0,this.M=DF(),this.L=Hr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=pn(),t=pn(),r=pn();return this.M.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:$e()}}),new ow(this.L,this.B,e,t,r)}G(){this.U=!1,this.M=DF()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class GV{constructor(e){this.tt=e,this.et=new Map,this.nt=ba(),this.st=CF(),this.it=new _r(Bt)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.ct(t,e.key,e.$);for(const t of e.removedTargetIds)this.ct(t,e.key,e.$)}at(e){this.forEachTarget(e,t=>{const r=this.ut(t);switch(e.state){case 0:this.ht(t)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||this.removeTarget(t);break;case 3:this.ht(t)&&(r.Z(),r.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),r.j(e.resumeToken));break;default:$e()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((r,o)=>{this.ht(o)&&t(o)})}ft(e){const t=e.targetId,r=e.O.count,o=this.dt(t);if(o){const c=o.target;if(ry(c))if(0===r){const h=new Xe(c.path);this.ct(t,h,Vn.newNoDocument(h,It.min()))}else mt(1===r);else this.wt(t)!==r&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((c,h)=>{const _=this.dt(h);if(_){if(c.current&&ry(_.target)){const b=new Xe(_.target.path);null!==this.nt.get(b)||this.gt(h,b)||this.ct(h,b,Vn.newNoDocument(b,e))}c.K&&(t.set(h,c.W()),c.G())}});let r=pn();this.st.forEach((c,h)=>{let _=!0;h.forEachWhile(b=>{const C=this.dt(b);return!C||2===C.purpose||(_=!1,!1)}),_&&(r=r.add(c))});const o=new sw(e,t,this.it,this.nt,r);return this.nt=ba(),this.st=CF(),this.it=new _r(Bt),o}ot(e,t){if(!this.ht(e))return;const r=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,r),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}ct(e,t,r){if(!this.ht(e))return;const o=this.ut(e);this.gt(e,t)?o.H(t,1):o.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),r&&(this.nt=this.nt.insert(t,r))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new wF,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new _r(Bt),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new wF),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function CF(){return new ci(Xe.comparator)}function DF(){return new ci(Xe.comparator)}const $V={asc:"ASCENDING",desc:"DESCENDING"},zV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class qV{constructor(e,t){this.databaseId=e,this.D=t}}function aw(n,e){return n.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IF(n,e){return n.D?e.toBase64():e.toUint8Array()}function WV(n,e){return aw(n,e.toTimestamp())}function Ei(n){return mt(!!n),It.fromTimestamp(function(e){const t=Ec(e);return new jr(t.seconds,t.nanos)}(n))}function JR(n,e){return(t=n,new en(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function TF(n){const e=en.fromString(n);return mt(VF(e)),e}function lw(n,e){return JR(n.databaseId,e.path)}function Cc(n,e){const t=TF(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Xe(AF(t))}function XR(n,e){return JR(n.databaseId,e)}function SF(n){const e=TF(n);return 4===e.length?en.emptyPath():AF(e)}function cw(n){return new en(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function AF(n){return mt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function MF(n,e,t){return{name:lw(n,e),fields:t.value.mapValue.fields}}function xF(n,e,t){const r=Cc(n,e.name),o=Ei(e.updateTime),c=new bi({mapValue:{fields:e.fields}}),h=Vn.newFoundDocument(r,o,c);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function KT(n,e){let t;if(e instanceof rw)t={update:MF(n,e.key,e.value)};else if(e instanceof iw)t={delete:lw(n,e.key)};else if(e instanceof Lh)t={update:MF(n,e.key,e.data),updateMask:nB(e.fieldMask)};else{if(!(e instanceof ZR))return $e();t={verify:lw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const h=c.transform;if(h instanceof Ke)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof rt)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Cn)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ya)return{fieldPath:c.field.canonicalString(),increment:h.C};throw $e()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:WV(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:$e()),t;var o}function RF(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Qn.updateTime(Ei(o.updateTime)):void 0!==o.exists?Qn.exists(o.exists):Qn.none():Qn.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(c,h){let _=null;"setToServerValue"in h?(mt("REQUEST_TIME"===h.setToServerValue),_=new Ke):"appendMissingElements"in h?_=new rt(h.appendMissingElements.values||[]):"removeAllFromArray"in h?_=new Cn(h.removeAllFromArray.values||[]):"increment"in h?_=new ya(c,h.increment):$e();const b=Nr.fromServerFormat(h.fieldPath);return new va(b,_)}(n,o)):[];var o;if(e.update){const o=Cc(n,e.update.name),c=new bi({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new ju((e.updateMask.fieldPaths||[]).map(C=>Nr.fromServerFormat(C)));return new Lh(o,c,h,t,r)}return new rw(o,c,t,r)}if(e.delete){const o=Cc(n,e.delete);return new iw(o,t)}if(e.verify){const o=Cc(n,e.verify);return new ZR(o,t)}return $e()}function kF(n,e){return{documents:[XR(n,e.path)]}}function OF(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=XR(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=XR(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(_){if(0===_.length)return;const b=_.map(C=>function(M){if("=="===M.op){if(zu(M.value))return{unaryFilter:{field:sy(M.field),op:"IS_NAN"}};if(kh(M.value))return{unaryFilter:{field:sy(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(zu(M.value))return{unaryFilter:{field:sy(M.field),op:"IS_NOT_NAN"}};if(kh(M.value))return{unaryFilter:{field:sy(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sy(M.field),op:XV(M.op),value:M.value}}}(C));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);o&&(t.structuredQuery.where=o);const c=function(_){if(0!==_.length)return _.map(b=>{return{field:sy((C=b).field),direction:JV(C.dir)};var C})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=(b=e.limit,n.D||rs(b)?b:{value:b});var b;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=FF(e.startAt)),e.endAt&&(t.structuredQuery.endAt=FF(e.endAt)),t}function PF(n){let e=SF(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){mt(1===r);const M=t.from[0];M.allDescendants?o=M.collectionId:e=e.child(M.collectionId)}let c=[];t.where&&(c=NF(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(M=>{return new Qp(oy((O=M).field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let _=null;t.limit&&(_=function(M){let O;return O="object"==typeof M?M.value:M,rs(O)?null:O}(t.limit));let b=null;t.startAt&&(b=LF(t.startAt));let C=null;return t.endAt&&(C=LF(t.endAt)),KR(e,o,h,c,_,"F",b,C)}function NF(n){return n?void 0!==n.unaryFilter?[tB(n)]:void 0!==n.fieldFilter?[eB(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>NF(e)).reduce((e,t)=>e.concat(t)):$e():[]}function FF(n){return{before:n.before,values:n.position}}function LF(n){return new Zp(n.values||[],!!n.before)}function JV(n){return $V[n]}function XV(n){return zV[n]}function sy(n){return{fieldPath:n.canonicalString()}}function oy(n){return Nr.fromServerFormat(n.fieldPath)}function eB(n){return Ui.create(oy(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $e()}}(n.fieldFilter.op),n.fieldFilter.value)}function tB(n){switch(n.unaryFilter.op){case"IS_NAN":const e=oy(n.unaryFilter.field);return Ui.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=oy(n.unaryFilter.field);return Ui.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=oy(n.unaryFilter.field);return Ui.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=oy(n.unaryFilter.field);return Ui.create(o,"!=",{nullValue:"NULL_VALUE"});default:return $e()}}function nB(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function VF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ul(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=BF(e)),e=rB(n.get(t),e);return BF(e)}function rB(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const c=n.charAt(o);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function BF(n){return n+"\x01\x01"}function Zu(n){const e=n.length;if(mt(e>=2),2===e)return mt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),en.emptyPath();const t=e-2,r=[];let o="";for(let c=0;c<e;){const h=n.indexOf("\x01",c);switch((h<0||h>t)&&$e(),n.charAt(h+1)){case"\x01":const _=n.substring(c,h);let b;0===o.length?b=_:(o+=_,b=o,o=""),r.push(b);break;case"\x10":o+=n.substring(c,h),o+="\0";break;case"\x11":o+=n.substring(c,h+1);break;default:$e()}c=h+2}return new en(r)}class iB{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Mo{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}Mo.store="owner",Mo.key="owner";class Vh{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}Vh.store="mutationQueues",Vh.keyPath="userId";class Gn{constructor(e,t,r,o,c){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=o,this.mutations=c}}Gn.store="mutations",Gn.keyPath="batchId",Gn.userMutationsIndex="userMutationsIndex",Gn.userMutationsKeyPath=["userId","batchId"];class is{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,ul(t)]}static key(e,t,r){return[e,ul(t),r]}}is.store="documentMutations",is.PLACEHOLDER=new is;class sB{constructor(e,t){this.path=e,this.readTime=t}}class oB{constructor(e,t){this.path=e,this.version=t}}class yr{constructor(e,t,r,o,c,h){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=o,this.readTime=c,this.parentPath=h}}yr.store="remoteDocuments",yr.readTimeIndex="readTimeIndex",yr.readTimeIndexPath="readTime",yr.collectionReadTimeIndex="collectionReadTimeIndex",yr.collectionReadTimeIndexPath=["parentPath","readTime"];class Dc{constructor(e){this.byteSize=e}}Dc.store="remoteDocumentGlobal",Dc.key="remoteDocumentGlobalKey";class eo{constructor(e,t,r,o,c,h,_){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=o,this.lastListenSequenceNumber=c,this.lastLimboFreeSnapshotVersion=h,this.query=_}}eo.store="targets",eo.keyPath="targetId",eo.queryTargetsIndexName="queryTargetsIndex",eo.queryTargetsKeyPath=["canonicalId","targetId"];class Hi{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}Hi.store="targetDocuments",Hi.keyPath=["targetId","path"],Hi.documentTargetsIndex="documentTargetsIndex",Hi.documentTargetsKeyPath=["path","targetId"];class xo{constructor(e,t,r,o){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=o}}xo.key="targetGlobalKey",xo.store="targetGlobal";class Xp{constructor(e,t){this.collectionId=e,this.parent=t}}Xp.store="collectionParents",Xp.keyPath=["collectionId","parent"];class Qu{constructor(e,t,r,o){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=o}}Qu.store="clientMetadata",Qu.keyPath="clientId";class ay{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}ay.store="bundles",ay.keyPath="bundleId";class ly{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}ly.store="namedQueries",ly.keyPath="name";const aB=[Vh.store,Gn.store,is.store,yr.store,eo.store,Mo.store,xo.store,Hi.store,Qu.store,Dc.store,Xp.store,ay.store,ly.store],UF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Me((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Me?t:Me.resolve(t)}catch(t){return Me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Me.reject(t)}static resolve(e){return new Me((t,r)=>{t(e)})}static reject(e){return new Me((t,r)=>{r(e)})}static waitFor(e){return new Me((t,r)=>{let o=0,c=0,h=!1;e.forEach(_=>{++o,_.next(()=>{++c,h&&c===o&&t()},b=>r(b))}),h=!0,c===o&&t()})}static or(e){let t=Me.resolve(!1);for(const r of e)t=t.next(o=>o?Me.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,c)=>{r.push(t.call(this,o,c))}),this.waitFor(r)}}class YT{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new Pr,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new uw(e,t.error)):this.Et.resolve()},this.transaction.onerror=r=>{const o=ek(r.target.error);this.Et.reject(new uw(e,o))}}static open(e,t,r,o){try{return new YT(t,e.transaction(o,r))}catch(c){throw new uw(t,c)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(Ne("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new cB(t)}}class dl{constructor(e,t,r){this.name=e,this.version=t,this.At=r,12.2===dl.Rt((0,Vt.z$)())&&gr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ne("SimpleDb","Removing database:",e),tg(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Vt.hl)())return!1;if(dl.Pt())return!0;const e=(0,Vt.z$)(),t=dl.Rt(e),r=0<t&&t<10,o=dl.vt(e),c=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Dt(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Ne("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=h=>{r(h.target.result)},c.onblocked=()=>{o(new uw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=h=>{const _=h.target.error;o("VersionError"===_.name?new Ae(ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===_.name?new Ae(ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+_):new uw(e,_))},c.onupgradeneeded=h=>{Ne("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.At.Ct(h.target.result,c.transaction,h.oldVersion,t.version).next(()=>{Ne("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=r=>t.Nt(r)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var c=this;return(0,ye.Z)(function*(){const h="readonly"===t;let _=0;for(;;){++_;try{c.db=yield c.Dt(e);const b=YT.open(c.db,e,h?"readonly":"readwrite",r),C=o(b).catch(M=>(b.abort(M),Me.reject(M))).toPromise();return C.catch(()=>{}),yield b.It,C}catch(b){const C="FirebaseError"!==b.name&&_<3;if(Ne("SimpleDb","Transaction failed with error:",b.message,"Retrying:",C),c.close(),!C)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class lB{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return tg(this.kt.delete())}}class uw extends Ae{constructor(e,t){super(ge.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function eg(n){return"IndexedDbTransactionError"===n.name}class cB{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ne("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ne("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),tg(r)}add(e){return Ne("SimpleDb","ADD",this.store.name,e,e),tg(this.store.add(e))}get(e){return tg(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ne("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ne("SimpleDb","DELETE",this.store.name,e),tg(this.store.delete(e))}count(){return Ne("SimpleDb","COUNT",this.store.name),tg(this.store.count())}Lt(e,t){const r=this.cursor(this.options(e,t)),o=[];return this.Bt(r,(c,h)=>{o.push(h)}).next(()=>o)}Ut(e,t){Ne("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.qt=!1;const o=this.cursor(r);return this.Bt(o,(c,h,_)=>_.delete())}Kt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Bt(o,t)}jt(e){const t=this.cursor({});return new Me((r,o)=>{t.onerror=c=>{const h=ek(c.target.error);o(h)},t.onsuccess=c=>{const h=c.target.result;h?e(h.primaryKey,h.value).next(_=>{_?h.continue():r()}):r()}})}Bt(e,t){const r=[];return new Me((o,c)=>{e.onerror=h=>{c(h.target.error)},e.onsuccess=h=>{const _=h.target.result;if(!_)return void o();const b=new lB(_),C=t(_.primaryKey,_.value,b);if(C instanceof Me){const M=C.catch(O=>(b.done(),Me.reject(O)));r.push(M)}b.isDone?o():null===b.Ft?_.continue():_.continue(b.Ft)}}).next(()=>Me.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.qt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function tg(n){return new Me((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=ek(r.target.error);t(o)}})}let HF=!1;function ek(n){const e=dl.Rt((0,Vt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return HF||(HF=!0,setTimeout(()=>{throw r},0)),r}}return n}class GF extends jF{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function to(n,e){const t=Ve(n);return dl.St(t.Qt,e)}class tk{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&NV(c,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&YR(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&YR(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(It.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pn())}isEqual(e){return this.batchId===e.batchId&&Mh(this.mutations,e.mutations,(t,r)=>dF(t,r))&&Mh(this.baseMutations,e.baseMutations,(t,r)=>dF(t,r))}}class nk{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){mt(e.mutations.length===r.length);let o=vF();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,r[h].version);return new nk(e,t,r,o)}}class Bh{constructor(e,t,r,o,c=It.min(),h=It.min(),_=Hr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=_}withSequenceNumber(e){return new Bh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Bh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Bh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class $F{constructor(e){this.Wt=e}}function rk(n,e){if(e.document)return xF(n.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=Xe.fromSegments(e.noDocument.path),r=uy(e.noDocument.readTime),o=Vn.newNoDocument(t,r);return e.hasCommittedMutations?o.setHasCommittedMutations():o}if(e.unknownDocument){const t=Xe.fromSegments(e.unknownDocument.path),r=uy(e.unknownDocument.version);return Vn.newUnknownDocument(t,r)}return $e()}function zF(n,e,t){const r=ik(t),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){const c={name:lw(_=n.Wt,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:aw(_,b.version.toTimestamp())};return new yr(null,null,c,e.hasCommittedMutations,r,o)}var _,b;if(e.isNoDocument()){const c=e.key.path.toArray(),h=cy(e.version),_=e.hasCommittedMutations;return new yr(null,new sB(c,h),null,_,r,o)}if(e.isUnknownDocument()){const c=e.key.path.toArray(),h=cy(e.version);return new yr(new oB(c,h),null,null,!0,r,o)}return $e()}function ik(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function qF(n){const e=new jr(n[0],n[1]);return It.fromTimestamp(e)}function cy(n){const e=n.toTimestamp();return new iB(e.seconds,e.nanoseconds)}function uy(n){const e=new jr(n.seconds,n.nanoseconds);return It.fromTimestamp(e)}function dy(n,e){const t=(e.baseMutations||[]).map(c=>RF(n.Wt,c));for(let c=0;c<e.mutations.length-1;++c){const h=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(h.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const r=e.mutations.map(c=>RF(n.Wt,c)),o=jr.fromMillis(e.localWriteTimeMs);return new tk(e.batchId,o,t,r)}function dw(n){const e=uy(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?uy(n.lastLimboFreeSnapshotVersion):It.min();let r;var o;return void 0!==n.query.documents?(mt(1===(o=n.query).documents.length),r=d(Jp(SF(o.documents[0])))):r=d(PF(n.query)),new Bh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Hr.fromBase64String(n.resumeToken))}function WF(n,e){const t=cy(e.snapshotVersion),r=cy(e.lastLimboFreeSnapshotVersion);let o;o=ry(e.target)?kF(n.Wt,e.target):OF(n.Wt,e.target);const c=e.resumeToken.toBase64();return new eo(e.targetId,Oh(e.target),t,c,e.sequenceNumber,r,o)}function sk(n){const e=PF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?f(e,e.limit,"L"):e}class uB{getBundleMetadata(e,t){return KF(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:uy(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return KF(e).put({bundleId:(r=t).id,createTime:cy(Ei(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return YF(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:sk(o.bundledQuery),readTime:uy(o.readTime)};var o})}saveNamedQuery(e,t){return YF(e).put({name:(r=t).name,readTime:cy(Ei(r.readTime)),bundledQuery:r.bundledQuery});var r}}function KF(n){return to(n,ay.store)}function YF(n){return to(n,ly.store)}class dB{constructor(){this.Gt=new ok}addToCollectionParentIndex(e,t){return this.Gt.add(t),Me.resolve()}getCollectionParents(e,t){return Me.resolve(this.Gt.getEntries(t))}}class ok{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new _r(en.comparator),c=!o.has(r);return this.index[t]=o.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new _r(en.comparator)).toArray()}}class hB{constructor(){this.zt=new ok}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const c={collectionId:r,parent:ul(o)};return ZF(e).put(c)}return Me.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[LT(t),""],!1,!0);return ZF(e).Lt(o).next(c=>{for(const h of c){if(h.collectionId!==t)break;r.push(Zu(h.parent))}return r})}}function ZF(n){return to(n,Xp.store)}const QF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class no{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new no(e,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function JF(n,e,t){const r=n.store(Gn.store),o=n.store(is.store),c=[],h=IDBKeyRange.only(t.batchId);let _=0;const b=r.Kt({range:h},(M,O,G)=>(_++,G.delete()));c.push(b.next(()=>{mt(1===_)}));const C=[];for(const M of t.mutations){const O=is.key(e,M.key.path,t.batchId);c.push(o.delete(O)),C.push(M.key)}return Me.waitFor(c).next(()=>C)}function ZT(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw $e();e=n.noDocument}return JSON.stringify(e).length}no.DEFAULT_COLLECTION_PERCENTILE=10,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,no.DEFAULT=new no(41943040,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),no.DISABLED=new no(-1,0,0);class ak{constructor(e,t,r,o){this.userId=e,this.N=t,this.Ht=r,this.referenceDelegate=o,this.Jt={}}static Yt(e,t,r,o){mt(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new ak(c,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Uh(e).Kt({index:Gn.userMutationsIndex,range:r},(o,c,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const c=hy(e),h=Uh(e);return h.add({}).next(_=>{mt("number"==typeof _);const b=new tk(_,t,r,o),C=function(G,z,J){const me=J.baseMutations.map(He=>KT(G.Wt,He)),Ie=J.mutations.map(He=>KT(G.Wt,He));return new Gn(z,J.batchId,J.localWriteTime.toMillis(),me,Ie)}(this.N,this.userId,b),M=[];let O=new _r((G,z)=>Bt(G.canonicalString(),z.canonicalString()));for(const G of o){const z=is.key(this.userId,G.key.path,_);O=O.add(G.key.path.popLast()),M.push(h.put(C)),M.push(c.put(z,is.PLACEHOLDER))}return O.forEach(G=>{M.push(this.Ht.addToCollectionParentIndex(e,G))}),e.addOnCommittedListener(()=>{this.Jt[_]=b.keys()}),Me.waitFor(M).next(()=>b)})}lookupMutationBatch(e,t){return Uh(e).get(t).next(r=>r?(mt(r.userId===this.userId),dy(this.N,r)):null)}Xt(e,t){return this.Jt[t]?Me.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Jt[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return Uh(e).Kt({index:Gn.userMutationsIndex,range:o},(h,_,b)=>{_.userId===this.userId&&(mt(_.batchId>=r),c=dy(this.N,_)),b.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Uh(e).Kt({index:Gn.userMutationsIndex,range:t,reverse:!0},(o,c,h)=>{r=c.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Uh(e).Lt(Gn.userMutationsIndex,t).next(r=>r.map(o=>dy(this.N,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=is.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),c=[];return hy(e).Kt({range:o},(h,_,b)=>{const[C,M,O]=h,G=Zu(M);if(C===this.userId&&t.path.isEqual(G))return Uh(e).get(O).next(z=>{if(!z)throw $e();mt(z.userId===this.userId),c.push(dy(this.N,z))});b.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new _r(Bt);const o=[];return t.forEach(c=>{const h=is.prefixForPath(this.userId,c.path),_=IDBKeyRange.lowerBound(h),b=hy(e).Kt({range:_},(C,M,O)=>{const[G,z,J]=C,me=Zu(z);G===this.userId&&c.path.isEqual(me)?r=r.add(J):O.done()});o.push(b)}),Me.waitFor(o).next(()=>this.Zt(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,c=is.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(c);let _=new _r(Bt);return hy(e).Kt({range:h},(b,C,M)=>{const[O,G,z]=b,J=Zu(G);O===this.userId&&r.isPrefixOf(J)?J.length===o&&(_=_.add(z)):M.done()}).next(()=>this.Zt(e,_))}Zt(e,t){const r=[],o=[];return t.forEach(c=>{o.push(Uh(e).get(c).next(h=>{if(null===h)throw $e();mt(h.userId===this.userId),r.push(dy(this.N,h))}))}),Me.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return JF(e.Qt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),Me.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Me.resolve();const r=IDBKeyRange.lowerBound(is.prefixForUser(this.userId)),o=[];return hy(e).Kt({range:r},(c,h,_)=>{if(c[0]===this.userId){const b=Zu(c[1]);o.push(b)}else _.done()}).next(()=>{mt(0===o.length)})})}containsKey(e,t){return XF(e,this.userId,t)}ee(e){return e1(e).get(this.userId).next(t=>t||new Vh(this.userId,-1,""))}}function XF(n,e,t){const r=is.prefixForPath(e,t.path),o=r[1],c=IDBKeyRange.lowerBound(r);let h=!1;return hy(n).Kt({range:c,qt:!0},(_,b,C)=>{const[M,O,G]=_;M===e&&O===o&&(h=!0),C.done()}).next(()=>h)}function Uh(n){return to(n,Gn.store)}function hy(n){return to(n,is.store)}function e1(n){return to(n,Vh.store)}class ng{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new ng(0)}static ie(){return new ng(-1)}}class fB{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const r=new ng(t.highestTargetId);return t.highestTargetId=r.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(t=>It.fromTimestamp(new jr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.re(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.oe(e,o)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.re(e).next(r=>(r.targetCount+=1,this.ae(t,r),this.oe(e,r))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>fy(e).delete(t.targetId)).next(()=>this.re(e)).next(r=>(mt(r.targetCount>0),r.targetCount-=1,this.oe(e,r)))}removeTargets(e,t,r){let o=0;const c=[];return fy(e).Kt((h,_)=>{const b=dw(_);b.sequenceNumber<=t&&null===r.get(b.targetId)&&(o++,c.push(this.removeTargetData(e,b)))}).next(()=>Me.waitFor(c)).next(()=>o)}forEachTarget(e,t){return fy(e).Kt((r,o)=>{const c=dw(o);t(c)})}re(e){return t1(e).get(xo.key).next(t=>(mt(null!==t),t))}oe(e,t){return t1(e).put(xo.key,t)}ce(e,t){return fy(e).put(WF(this.N,t))}ae(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.re(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Oh(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return fy(e).Kt({range:o,index:eo.queryTargetsIndexName},(h,_,b)=>{const C=dw(_);Ph(t,C.target)&&(c=C,b.done())}).next(()=>c)}addMatchingKeys(e,t,r){const o=[],c=jh(e);return t.forEach(h=>{const _=ul(h.path);o.push(c.put(new Hi(r,_))),o.push(this.referenceDelegate.addReference(e,r,h))}),Me.waitFor(o)}removeMatchingKeys(e,t,r){const o=jh(e);return Me.forEach(t,c=>{const h=ul(c.path);return Me.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=jh(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=jh(e);let c=pn();return o.Kt({range:r,qt:!0},(h,_,b)=>{const C=Zu(h[1]),M=new Xe(C);c=c.add(M)}).next(()=>c)}containsKey(e,t){const r=ul(t.path),o=IDBKeyRange.bound([r],[LT(r)],!1,!0);let c=0;return jh(e).Kt({index:Hi.documentTargetsIndex,qt:!0,range:o},([h,_],b,C)=>{0!==h&&(c++,C.done())}).next(()=>c>0)}Tt(e,t){return fy(e).get(t).next(r=>r?dw(r):null)}}function fy(n){return to(n,eo.store)}function t1(n){return to(n,xo.store)}function jh(n){return to(n,Hi.store)}function rg(n){return lk.apply(this,arguments)}function lk(){return(lk=(0,ye.Z)(function*(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==UF)throw n;Ne("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function n1([n,e],[t,r]){const o=Bt(n,t);return 0===o?Bt(e,r):o}class pB{constructor(e){this.ue=e,this.buffer=new _r(n1),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();n1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gB{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const r=this.de?3e5:6e4;Ne("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,ye.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){eg(o)?Ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield rg(o)}yield t._e(e)}))}}class mB{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Me.resolve(ns.T);const r=new pB(t);return this.me.forEachTarget(e,o=>r.fe(o.sequenceNumber)).next(()=>this.me.ye(e,o=>r.fe(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.me.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),Me.resolve(QF)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QF):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let r,o,c,h,_,b,C;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),o=this.params.maximumSequenceNumbersToCollect):o=O,h=Date.now(),this.nthSequenceNumber(e,o))).next(O=>(r=O,_=Date.now(),this.removeTargets(e,r,t))).next(O=>(c=O,b=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(C=Date.now(),GE()<=uc.in.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-M}ms\n\tDetermined least recently used ${o} in `+(_-h)+`ms\n\tRemoved ${c} targets in `+(b-_)+`ms\n\tRemoved ${O} documents in `+(C-b)+`ms\nTotal Duration: ${C-M}ms`),Me.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:O})))}}class _B{constructor(e,t){this.db=e,this.garbageCollector=new mB(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Te(e){let t=0;return this.ye(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(r,o)=>t(o))}addReference(e,t,r){return QT(e,r)}removeReference(e,t,r){return QT(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return QT(e,t)}Ie(e,t){return function(r,o){let c=!1;return e1(r).jt(h=>XF(r,h,o).next(_=>(_&&(c=!0),Me.resolve(!_)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let c=0;return this.Ee(e,(h,_)=>{if(_<=t){const b=this.Ie(e,h).next(C=>{if(!C)return c++,r.getEntry(e,h).next(()=>(r.removeEntry(h),jh(e).delete([0,ul(h.path)])))});o.push(b)}}).next(()=>Me.waitFor(o)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return QT(e,t)}Ee(e,t){const r=jh(e);let o,c=ns.T;return r.Kt({index:Hi.documentTargetsIndex},([h,_],{path:b,sequenceNumber:C})=>{0===h?(c!==ns.T&&t(new Xe(Zu(o)),c),c=C,o=b):c=ns.T}).next(()=>{c!==ns.T&&t(new Xe(Zu(o)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function QT(n,e){return jh(n).put((r=n.currentSequenceNumber,new Hi(0,ul(e.path),r)));var r}class py{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,c]of r)if(this.equalsFn(o,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o){for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),!0;return!1}forEach(e){sr(this.inner,(t,r)=>{for(const[o,c]of r)e(o,c)})}isEmpty(){return xh(this.inner)}}class r1{constructor(){this.changes=new py(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:It.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Vn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Me.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yB{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,r){return Hh(e).put(JT(t),r)}removeEntry(e,t){const r=Hh(e),o=JT(t);return r.delete(o)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Ae(e,r)))}getEntry(e,t){return Hh(e).get(JT(t)).next(r=>this.Re(t,r))}be(e,t){return Hh(e).get(JT(t)).next(r=>({document:this.Re(t,r),size:ZT(r)}))}getEntries(e,t){let r=ba();return this.Pe(e,t,(o,c)=>{const h=this.Re(o,c);r=r.insert(o,h)}).next(()=>r)}ve(e,t){let r=ba(),o=new ci(Xe.comparator);return this.Pe(e,t,(c,h)=>{const _=this.Re(c,h);r=r.insert(c,_),o=o.insert(c,ZT(h))}).next(()=>({documents:r,Ve:o}))}Pe(e,t,r){if(t.isEmpty())return Me.resolve();const o=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),c=t.getIterator();let h=c.getNext();return Hh(e).Kt({range:o},(_,b,C)=>{const M=Xe.fromSegments(_);for(;h&&Xe.comparator(h,M)<0;)r(h,null),h=c.getNext();h&&h.isEqual(M)&&(r(h,b),h=c.hasNext()?c.getNext():null),h?C.Mt(h.path.toArray()):C.done()}).next(()=>{for(;h;)r(h,null),h=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r){let o=ba();const c=t.path.length+1,h={};if(r.isEqual(It.min())){const _=t.path.toArray();h.range=IDBKeyRange.lowerBound(_)}else{const _=t.path.toArray(),b=ik(r);h.range=IDBKeyRange.lowerBound([_,b],!0),h.index=yr.collectionReadTimeIndex}return Hh(e).Kt(h,(_,b,C)=>{if(_.length!==c)return;const M=rk(this.N,b);t.path.isPrefixOf(M.key.path)?I(t,M)&&(o=o.insert(M.key,M)):C.done()}).next(()=>o)}newChangeBuffer(e){return new vB(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return i1(e).get(Dc.key).next(t=>(mt(!!t),t))}Ae(e,t){return i1(e).put(Dc.key,t)}Re(e,t){if(t){const r=rk(this.N,t);if(!r.isNoDocument()||!r.version.isEqual(It.min()))return r}return Vn.newInvalidDocument(e)}}class vB extends r1{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new py(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new _r((c,h)=>Bt(c.canonicalString(),h.canonicalString()));return this.changes.forEach((c,h)=>{const _=this.De.get(c);if(h.document.isValidDocument()){const b=zF(this.Se.N,h.document,this.getReadTime(c));o=o.add(c.path.popLast()),r+=ZT(b)-_,t.push(this.Se.addEntry(e,c,b))}else if(r-=_,this.trackRemovals){const b=zF(this.Se.N,Vn.newNoDocument(c,It.min()),this.getReadTime(c));t.push(this.Se.addEntry(e,c,b))}else t.push(this.Se.removeEntry(e,c))}),o.forEach(c=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,c))}),t.push(this.Se.updateMetadata(e,r)),Me.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(r=>(this.De.set(t,r.size),r.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:r,Ve:o})=>(o.forEach((c,h)=>{this.De.set(c,h)}),r))}}function i1(n){return to(n,Dc.store)}function Hh(n){return to(n,yr.store)}function JT(n){return n.path.toArray()}class bB{constructor(e){this.N=e}Ct(e,t,r,o){mt(r<o&&r>=0&&o<=11);const c=new YT("createOrUpgrade",t);var _;r<1&&o>=1&&(e.createObjectStore(Mo.store),(_=e).createObjectStore(Vh.store,{keyPath:Vh.keyPath}),_.createObjectStore(Gn.store,{keyPath:Gn.keyPath,autoIncrement:!0}).createIndex(Gn.userMutationsIndex,Gn.userMutationsKeyPath,{unique:!0}),_.createObjectStore(is.store),s1(e),function(_){_.createObjectStore(yr.store)}(e));let h=Me.resolve();return r<3&&o>=3&&(0!==r&&(function(_){_.deleteObjectStore(Hi.store),_.deleteObjectStore(eo.store),_.deleteObjectStore(xo.store)}(e),s1(e)),h=h.next(()=>function(_){const b=_.store(xo.store),C=new xo(0,0,It.min().toTimestamp(),0);return b.put(xo.key,C)}(c))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(_,b){return b.store(Gn.store).Lt().next(C=>{_.deleteObjectStore(Gn.store),_.createObjectStore(Gn.store,{keyPath:Gn.keyPath,autoIncrement:!0}).createIndex(Gn.userMutationsIndex,Gn.userMutationsKeyPath,{unique:!0});const M=b.store(Gn.store),O=C.map(G=>M.put(G));return Me.waitFor(O)})}(e,c))),h=h.next(()=>{!function(_){_.createObjectStore(Qu.store,{keyPath:Qu.keyPath})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.Ce(c))),r<6&&o>=6&&(h=h.next(()=>(function(_){_.createObjectStore(Dc.store)}(e),this.Ne(c)))),r<7&&o>=7&&(h=h.next(()=>this.xe(c))),r<8&&o>=8&&(h=h.next(()=>this.ke(e,c))),r<9&&o>=9&&(h=h.next(()=>{(function(_){_.objectStoreNames.contains("remoteDocumentChanges")&&_.deleteObjectStore("remoteDocumentChanges")})(e),function(_){const b=_.objectStore(yr.store);b.createIndex(yr.readTimeIndex,yr.readTimeIndexPath,{unique:!1}),b.createIndex(yr.collectionReadTimeIndex,yr.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&o>=10&&(h=h.next(()=>this.$e(c))),r<11&&o>=11&&(h=h.next(()=>{(function(_){_.createObjectStore(ay.store,{keyPath:ay.keyPath})})(e),function(_){_.createObjectStore(ly.store,{keyPath:ly.keyPath})}(e)})),h}Ne(e){let t=0;return e.store(yr.store).Kt((r,o)=>{t+=ZT(o)}).next(()=>{const r=new Dc(t);return e.store(Dc.store).put(Dc.key,r)})}Ce(e){const t=e.store(Vh.store),r=e.store(Gn.store);return t.Lt().next(o=>Me.forEach(o,c=>{const h=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.Lt(Gn.userMutationsIndex,h).next(_=>Me.forEach(_,b=>{mt(b.userId===c.userId);const C=dy(this.N,b);return JF(e,c.userId,C).next(()=>{})}))}))}xe(e){const t=e.store(Hi.store),r=e.store(yr.store);return e.store(xo.store).get(xo.key).next(o=>{const c=[];return r.Kt((h,_)=>{const b=new en(h),C=[0,ul(b)];c.push(t.get(C).next(M=>M?Me.resolve():t.put(new Hi(0,ul(b),o.highestListenSequenceNumber))))}).next(()=>Me.waitFor(c))})}ke(e,t){e.createObjectStore(Xp.store,{keyPath:Xp.keyPath});const r=t.store(Xp.store),o=new ok,c=h=>{if(o.add(h)){const _=h.lastSegment(),b=h.popLast();return r.put({collectionId:_,parent:ul(b)})}};return t.store(yr.store).Kt({qt:!0},(h,_)=>{const b=new en(h);return c(b.popLast())}).next(()=>t.store(is.store).Kt({qt:!0},([h,_,b],C)=>{const M=Zu(_);return c(M.popLast())}))}$e(e){const t=e.store(eo.store);return t.Kt((r,o)=>{const c=dw(o),h=WF(this.N,c);return t.put(h)})}}function s1(n){n.createObjectStore(Hi.store,{keyPath:Hi.keyPath}).createIndex(Hi.documentTargetsIndex,Hi.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(eo.store,{keyPath:eo.keyPath}).createIndex(eo.queryTargetsIndexName,eo.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(xo.store)}const ck="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class uk{constructor(e,t,r,o,c,h,_,b,C,M){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Oe=c,this.window=h,this.document=_,this.Fe=C,this.Me=M,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=O=>Promise.resolve(),!uk.bt())throw new Ae(ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _B(this,o),this.We=t+"main",this.N=new $F(b),this.Ge=new dl(this.We,11,new bB(this.N)),this.ze=new fB(this.referenceDelegate,this.N),this.Ht=new hB,this.He=new yB(this.N,this.Ht),this.Je=new uB,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===M&&gr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ae(ge.FAILED_PRECONDITION,ck);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new ns(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var r=(0,ye.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,ye.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>XT(e).put(new Qu(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(eg(e))return Ne("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return hw(e).get(Mo.key).next(t=>Me.resolve(this.an(t)))}un(e){return XT(e).delete(this.clientId)}hn(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=to(r,Qu.store);return o.Lt().next(c=>{const h=e.fn(c,18e5),_=c.filter(b=>-1===h.indexOf(b));return Me.forEach(_,b=>o.delete(b.clientId)).next(()=>_)})}).catch(()=>[]);if(e.Ye)for(const r of t)e.Ye.removeItem(e.dn(r.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Me.resolve(!0):hw(e).get(Mo.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.an(t)&&this.networkEnabled)return!0;if(!this.an(t)){if(!t.allowTabSynchronization)throw new Ae(ge.FAILED_PRECONDITION,ck);return!1}}return!(!this.networkEnabled||!this.inForeground)||XT(e).Lt().next(r=>void 0===this.fn(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,_=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&_)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ne("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[Mo.store,Qu.store],t=>{const r=new GF(t,ns.T);return e.on(r).next(()=>e.un(r))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(r=>this.ln(r.updateTimeMs,t)&&!this.wn(r.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>XT(e).Lt().next(t=>this.fn(t,18e5).map(r=>r.clientId)))}get started(){return this.Be}getMutationQueue(e){return ak.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,r){let c;return Ne("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",aB,h=>(c=new GF(h,this.Le?this.Le.next():ns.T),"readwrite-primary"===t?this.sn(c).next(_=>!!_||this.rn(c)).next(_=>{if(!_)throw gr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Ae(ge.FAILED_PRECONDITION,UF);return r(c)}).next(_=>this.cn(c).next(()=>_)):this.Tn(c).next(()=>r(c)))).then(h=>(c.raiseOnCommittedEvent(),h))}Tn(e){return hw(e).get(Mo.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.an(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ae(ge.FAILED_PRECONDITION,ck)})}cn(e){const t=new Mo(this.clientId,this.allowTabSynchronization,Date.now());return hw(e).put(Mo.key,t)}static bt(){return dl.bt()}on(e){const t=hw(e);return t.get(Mo.key).next(r=>this.an(r)?(Ne("IndexedDbPersistence","Releasing primary lease."),t.delete(Mo.key)):Me.resolve())}ln(e,t){const r=Date.now();return!(e<r-t||e>r&&(gr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,Vt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const r=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Ne("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return gr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){gr("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function hw(n){return to(n,Mo.store)}function XT(n){return to(n,Qu.store)}function dk(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class EB{constructor(e,t){this.progress=e,this.En=t}}class o1{constructor(e,t,r){this.He=e,this.In=t,this.Ht=r}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Rn(e,t,r))}Rn(e,t,r){return this.He.getEntry(e,t).next(o=>{for(const c of r)c.applyToLocalView(o);return o})}bn(e,t){e.forEach((r,o)=>{for(const c of t)c.applyToLocalView(o)})}Pn(e,t){return this.He.getEntries(e,t).next(r=>this.vn(e,r).next(()=>r))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.bn(t,r))}getDocumentsMatchingQuery(e,t,r){return Xe.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Vn(e,t.path):a(t)?this.Sn(e,t,r):this.Dn(e,t,r);var o}Vn(e,t){return this.An(e,new Xe(t)).next(r=>{let o=QR();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Sn(e,t,r){const o=t.collectionGroup;let c=QR();return this.Ht.getCollectionParents(e,o).next(h=>Me.forEach(h,_=>{const b=(C=t,M=_.child(o),new cl(M,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,M;return this.Dn(e,b,r).next(C=>{C.forEach((M,O)=>{c=c.insert(M,O)})})}).next(()=>c))}Dn(e,t,r){let o,c;return this.He.getDocumentsMatchingQuery(e,t,r).next(h=>(o=h,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(c=h,this.Cn(e,c,o).next(_=>{o=_;for(const b of c)for(const C of b.mutations){const M=C.key;let O=o.get(M);null==O&&(O=Vn.newInvalidDocument(M),o=o.insert(M,O)),YR(C,O,b.localWriteTime),O.isFoundDocument()||(o=o.remove(M))}}))).next(()=>(o.forEach((h,_)=>{I(t,_)||(o=o.remove(h))}),o))}Cn(e,t,r){let o=pn();for(const h of t)for(const _ of h.mutations)_ instanceof Lh&&null===r.get(_.key)&&(o=o.add(_.key));let c=r;return this.He.getEntries(e,o).next(h=>(h.forEach((_,b)=>{b.isFoundDocument()&&(c=c.insert(_,b))}),c))}}class hk{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Nn=r,this.xn=o}static kn(e,t){let r=pn(),o=pn();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new hk(e,t.fromCache,r,o)}}class a1{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,r,o){return 0===(c=t).filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())||r.isEqual(It.min())?this.Fn(e,t):this.On.Pn(e,o).next(c=>{const h=this.Mn(t,c);return(XE(t)||ew(t))&&this.Ln(t.limitType,h,o,r)?this.Fn(e,t):(GE()<=uc.in.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),w(t)),this.On.getDocumentsMatchingQuery(e,t,r).next(_=>(h.forEach(b=>{_=_.insert(b.key,b)}),_)))});var c}Mn(e,t){let r=new _r(x(e));return t.forEach((o,c)=>{I(e,c)&&(r=r.add(c))}),r}Ln(e,t,r,o){if(r.size!==t.size)return!0;const c="F"===e?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Fn(e,t){return GE()<=uc.in.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",w(t)),this.On.getDocumentsMatchingQuery(e,t,It.min())}}class wB{constructor(e,t,r,o){this.persistence=e,this.Bn=t,this.N=o,this.Un=new ci(Bt),this.qn=new py(c=>Oh(c),Ph),this.Kn=It.min(),this.In=e.getMutationQueue(r),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new o1(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function l1(n,e,t,r){return new wB(n,e,t,r)}function c1(n,e){return fk.apply(this,arguments)}function fk(){return(fk=(0,ye.Z)(function*(n,e){const t=Ve(n);let r=t.In,o=t.Qn;const c=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let _;return t.In.getAllMutationBatches(h).next(b=>(_=b,r=t.persistence.getMutationQueue(e),o=new o1(t.jn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(b=>{const C=[],M=[];let O=pn();for(const G of _){C.push(G.batchId);for(const z of G.mutations)O=O.add(z.key)}for(const G of b){M.push(G.batchId);for(const z of G.mutations)O=O.add(z.key)}return o.Pn(h,O).next(G=>({Wn:G,removedBatchIds:C,addedBatchIds:M}))})});return t.In=r,t.Qn=o,t.Bn.$n(t.Qn),c})).apply(this,arguments)}function CB(n,e){const t=Ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),c=t.jn.newChangeBuffer({trackRemovals:!0});return function(h,_,b,C){const M=b.batch,O=M.keys();let G=Me.resolve();return O.forEach(z=>{G=G.next(()=>C.getEntry(_,z)).next(J=>{const me=b.docVersions.get(z);mt(null!==me),J.version.compareTo(me)<0&&(M.applyToRemoteDocument(J,b),J.isValidDocument()&&C.addEntry(J,b.commitVersion))})}),G.next(()=>h.In.removeMutationBatch(_,M))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.In.performConsistencyCheck(r)).next(()=>t.Qn.Pn(r,o))})}function u1(n){const e=Ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function DB(n,e){const t=Ve(n),r=e.snapshotVersion;let o=t.Un;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=t.jn.newChangeBuffer({trackRemovals:!0});o=t.Un;const _=[];e.targetChanges.forEach((C,M)=>{const O=o.get(M);if(!O)return;_.push(t.ze.removeMatchingKeys(c,C.removedDocuments,M).next(()=>t.ze.addMatchingKeys(c,C.addedDocuments,M)));const G=C.resumeToken;if(G.approximateByteSize()>0){const z=O.withResumeToken(G,r).withSequenceNumber(c.currentSequenceNumber);o=o.insert(M,z),J=O,Ie=C,mt((me=z).resumeToken.approximateByteSize()>0),(0===J.resumeToken.approximateByteSize()||me.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=3e8||Ie.addedDocuments.size+Ie.modifiedDocuments.size+Ie.removedDocuments.size>0)&&_.push(t.ze.updateTargetData(c,z))}var J,me,Ie});let b=ba();if(e.documentUpdates.forEach((C,M)=>{e.resolvedLimboDocuments.has(C)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(c,C))}),_.push(d1(c,h,e.documentUpdates,r,void 0).next(C=>{b=C})),!r.isEqual(It.min())){const C=t.ze.getLastRemoteSnapshotVersion(c).next(M=>t.ze.setTargetsMetadata(c,c.currentSequenceNumber,r));_.push(C)}return Me.waitFor(_).next(()=>h.apply(c)).next(()=>t.Qn.vn(c,b)).next(()=>b)}).then(c=>(t.Un=o,c))}function d1(n,e,t,r,o){let c=pn();return t.forEach(h=>c=c.add(h)),e.getEntries(n,c).next(h=>{let _=ba();return t.forEach((b,C)=>{const M=h.get(b),O=(null==o?void 0:o.get(b))||r;C.isNoDocument()&&C.version.isEqual(It.min())?(e.removeEntry(b,O),_=_.insert(b,C)):!M.isValidDocument()||C.version.compareTo(M.version)>0||0===C.version.compareTo(M.version)&&M.hasPendingWrites?(e.addEntry(C,O),_=_.insert(b,C)):Ne("LocalStore","Ignoring outdated watch update for ",b,". Current version:",M.version," Watch version:",C.version)}),_})}function IB(n,e){const t=Ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.In.getNextMutationBatchAfterBatchId(r,e)))}function gy(n,e){const t=Ve(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.ze.getTargetData(r,e).next(c=>c?(o=c,Me.resolve(o)):t.ze.allocateTargetId(r).next(h=>(o=new Bh(e,h,0,r.currentSequenceNumber),t.ze.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Un.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Un=t.Un.insert(r.targetId,r),t.qn.set(e,r.targetId)),r})}function my(n,e,t){return pk.apply(this,arguments)}function pk(){return(pk=(0,ye.Z)(function*(n,e,t){const r=Ve(n),o=r.Un.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!eg(h))throw h;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.Un=r.Un.remove(e),r.qn.delete(o.target)})).apply(this,arguments)}function eS(n,e,t){const r=Ve(n);let o=It.min(),c=pn();return r.persistence.runTransaction("Execute query","readonly",h=>function(_,b,C){const M=Ve(_),O=M.qn.get(C);return void 0!==O?Me.resolve(M.Un.get(O)):M.ze.getTargetData(b,C)}(r,h,d(e)).next(_=>{if(_)return o=_.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(h,_.targetId).next(b=>{c=b})}).next(()=>r.Bn.getDocumentsMatchingQuery(h,e,t?o:It.min(),t?c:pn())).next(_=>({documents:_,Gn:c})))}function h1(n,e){const t=Ve(n),r=Ve(t.ze),o=t.Un.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",c=>r.Tt(c,e).next(h=>h?h.target:null))}function f1(n){const e=Ve(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,o,c){const h=Ve(r);let _=ba(),b=ik(c);const C=Hh(o),M=IDBKeyRange.lowerBound(b,!0);return C.Kt({index:yr.readTimeIndex,range:M},(O,G)=>{const z=rk(h.N,G);_=_.insert(z.key,z),b=G.readTime}).next(()=>({En:_,readTime:qF(b)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:r})=>(e.Kn=r,t))}function gk(){return(gk=(0,ye.Z)(function*(n){const e=Ve(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const o=Hh(r);let c=It.min();return o.Kt({index:yr.readTimeIndex,reverse:!0},(h,_,b)=>{_.readTime&&(c=qF(_.readTime)),b.done()}).next(()=>c)}(t)).then(t=>{e.Kn=t})})).apply(this,arguments)}function mk(){return(mk=(0,ye.Z)(function*(n,e,t,r){const o=Ve(n);let c=pn(),h=ba(),_=vF();for(const M of t){const O=e.zn(M.metadata.name);M.document&&(c=c.add(O)),h=h.insert(O,e.Hn(M)),_=_.insert(O,e.Jn(M.metadata.readTime))}const b=o.jn.newChangeBuffer({trackRemovals:!0}),C=yield gy(o,(M=r,d(Jp(en.fromString(`__bundle__/docs/${M}`)))));var M;return o.persistence.runTransaction("Apply bundle documents","readwrite",M=>d1(M,b,h,It.min(),_).next(O=>(b.apply(M),O)).next(O=>o.ze.removeMatchingKeysForTargetId(M,C.targetId).next(()=>o.ze.addMatchingKeys(M,c,C.targetId)).next(()=>o.Qn.vn(M,O)).next(()=>O)))})).apply(this,arguments)}function AB(n,e){return _k.apply(this,arguments)}function _k(){return(_k=(0,ye.Z)(function*(n,e,t=pn()){const r=yield gy(n,d(sk(e.bundledQuery))),o=Ve(n);return o.persistence.runTransaction("Save named query","readwrite",c=>{const h=Ei(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o.Je.saveNamedQuery(c,e);const _=r.withResumeToken(Hr.EMPTY_BYTE_STRING,h);return o.Un=o.Un.insert(_.targetId,_),o.ze.updateTargetData(c,_).next(()=>o.ze.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>o.ze.addMatchingKeys(c,t,r.targetId)).next(()=>o.Je.saveNamedQuery(c,e))})})).apply(this,arguments)}class MB{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Me.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var r;return this.Yn.set(t.id,{id:(r=t).id,version:r.version,createTime:Ei(r.createTime)}),Me.resolve()}getNamedQuery(e,t){return Me.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(r=t).name,query:sk(r.bundledQuery),readTime:Ei(r.readTime)}),Me.resolve();var r}}class yk{constructor(){this.Zn=new _r(wi.ts),this.es=new _r(wi.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new wi(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new wi(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}cs(e){const t=new Xe(new en([])),r=new wi(t,e),o=new wi(t,e+1),c=[];return this.es.forEachInRange([r,o],h=>{this.rs(h),c.push(h.key)}),c}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Xe(new en([])),r=new wi(t,e),o=new wi(t,e+1);let c=pn();return this.es.forEachInRange([r,o],h=>{c=c.add(h.key)}),c}containsKey(e){const t=new wi(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class wi{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Xe.comparator(e.key,t.key)||Bt(e.ls,t.ls)}static ns(e,t){return Bt(e.ls,t.ls)||Xe.comparator(e.key,t.key)}}class xB{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new _r(wi.ts)}checkEmpty(e){return Me.resolve(0===this.In.length)}addMutationBatch(e,t,r,o){const c=this.fs;this.fs++;const h=new tk(c,t,r,o);this.In.push(h);for(const _ of o)this.ds=this.ds.add(new wi(_.key,c)),this.Ht.addToCollectionParentIndex(e,_.key.path.popLast());return Me.resolve(h)}lookupMutationBatch(e,t){return Me.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const o=this._s(t+1),c=o<0?0:o;return Me.resolve(this.In.length>c?this.In[c]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Me.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new wi(t,0),o=new wi(t,Number.POSITIVE_INFINITY),c=[];return this.ds.forEachInRange([r,o],h=>{const _=this.ws(h.ls);c.push(_)}),Me.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new _r(Bt);return t.forEach(o=>{const c=new wi(o,0),h=new wi(o,Number.POSITIVE_INFINITY);this.ds.forEachInRange([c,h],_=>{r=r.add(_.ls)})}),Me.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let c=r;Xe.isDocumentKey(c)||(c=c.child(""));const h=new wi(new Xe(c),0);let _=new _r(Bt);return this.ds.forEachWhile(b=>{const C=b.key.path;return!!r.isPrefixOf(C)&&(C.length===o&&(_=_.add(b.ls)),!0)},h),Me.resolve(this.gs(_))}gs(e){const t=[];return e.forEach(r=>{const o=this.ws(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){mt(0===this.ys(t.batchId,"removed")),this.In.shift();let r=this.ds;return Me.forEach(t.mutations,o=>{const c=new wi(o.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ds=r})}te(e){}containsKey(e,t){const r=new wi(t,0),o=this.ds.firstAfterOrEqual(r);return Me.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Me.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class RB{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new ci(Xe.comparator),this.size=0}addEntry(e,t,r){const o=t.key,c=this.docs.get(o),h=c?c.size:0,_=this.ps(t);return this.docs=this.docs.insert(o,{document:t.clone(),size:_,readTime:r}),this.size+=_-h,this.Ht.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Me.resolve(r?r.document.clone():Vn.newInvalidDocument(t))}getEntries(e,t){let r=ba();return t.forEach(o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.clone():Vn.newInvalidDocument(o))}),Me.resolve(r)}getDocumentsMatchingQuery(e,t,r){let o=ba();const c=new Xe(t.path.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:_,value:{document:b,readTime:C}}=h.getNext();if(!t.path.isPrefixOf(_.path))break;C.compareTo(r)<=0||I(t,b)&&(o=o.insert(b.key,b.clone()))}return Me.resolve(o)}Ts(e,t){return Me.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new kB(this)}getSize(e){return Me.resolve(this.size)}}class kB extends r1{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.document.isValidDocument()?t.push(this.Se.addEntry(e,o.document,this.getReadTime(r))):this.Se.removeEntry(r)}),Me.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class OB{constructor(e){this.persistence=e,this.Es=new py(t=>Oh(t),Ph),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Is=0,this.As=new yk,this.targetCount=0,this.Rs=ng.se()}forEachTarget(e,t){return this.Es.forEach((r,o)=>t(o)),Me.resolve()}getLastRemoteSnapshotVersion(e){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Me.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Is&&(this.Is=t),Me.resolve()}ce(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new ng(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,Me.resolve()}updateTargetData(e,t){return this.ce(t),Me.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Me.resolve()}removeTargets(e,t,r){let o=0;const c=[];return this.Es.forEach((h,_)=>{_.sequenceNumber<=t&&null===r.get(_.targetId)&&(this.Es.delete(h),c.push(this.removeMatchingKeysForTargetId(e,_.targetId)),o++)}),Me.waitFor(c).next(()=>o)}getTargetCount(e){return Me.resolve(this.targetCount)}getTargetData(e,t){const r=this.Es.get(t)||null;return Me.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),Me.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(h=>{c.push(o.markPotentiallyOrphaned(e,h))}),Me.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Me.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return Me.resolve(r)}containsKey(e,t){return Me.resolve(this.As.containsKey(t))}}class PB{constructor(e,t){this.bs={},this.Le=new ns(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new OB(this),this.Ht=new dB,this.He=new RB(this.Ht,r=>this.referenceDelegate.Ps(r)),this.N=new $F(t),this.Je=new MB(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new xB(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,r){Ne("MemoryPersistence","Starting transaction:",e);const o=new NB(this.Le.next());return this.referenceDelegate.vs(),r(o).next(c=>this.referenceDelegate.Vs(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ss(e,t){return Me.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class NB extends jF{constructor(e){super(),this.currentSequenceNumber=e}}class vk{constructor(e){this.persistence=e,this.Ds=new yk,this.Cs=null}static Ns(e){return new vk(e)}get xs(){if(this.Cs)return this.Cs;throw $e()}addReference(e,t,r){return this.Ds.addReference(r,t),this.xs.delete(r.toString()),Me.resolve()}removeReference(e,t,r){return this.Ds.removeReference(r,t),this.xs.add(r.toString()),Me.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Me.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(o=>this.xs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.xs.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.xs,r=>{const o=Xe.fromPath(r);return this.ks(e,o).next(c=>{c||t.removeEntry(o)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return Me.or([()=>Me.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function p1(n,e){return`firestore_clients_${n}_${e}`}function g1(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function bk(n,e){return`firestore_targets_${n}_${e}`}class tS{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static $s(e,t,r){const o=JSON.parse(r);let c,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(c=new Ae(o.error.code,o.error.message))),h?new tS(e,t,o.state,c):(gr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){const r=JSON.parse(t);let o,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new Ae(r.error.code,r.error.message))),c?new fw(e,r.state,o):(gr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nS{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,c=qT();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=ey(r.activeTargetIds[h]),c=c.add(r.activeTargetIds[h]);return o?new nS(e,c):(gr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Ek{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Ek(t.clientId,t.onlineState):(gr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class wk{constructor(){this.activeTargetIds=qT()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ck{constructor(e,t,r,o,c){this.window=e,this.Oe=t,this.persistenceKey=r,this.Ls=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new ci(Bt),this.started=!1,this.Ks=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.js=p1(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new wk),this.Ws=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(_){return`firestore_bundle_loaded_${_}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.pn();for(const o of t){if(o===e.Ls)continue;const c=e.getItem(p1(e.persistenceKey,o));if(c){const h=nS.$s(o,c);h&&(e.qs=e.qs.insert(h.clientId,h))}}e.Ys();const r=e.storage.getItem(e.Hs);if(r){const o=e.Xs(r);o&&e.Zs(o)}for(const o of e.Ks)e.Us(o);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,r){this.ei(e,t,r),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(bk(this.persistenceKey,e));if(r){const o=fw.$s(e,r);o&&(t=o.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(bk(this.persistenceKey,e))}updateQueryState(e,t,r){this.ii(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.ni(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ne("SharedClientState","READ",e,t),t}setItem(e,t){Ne("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ne("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ne("SharedClientState","EVENT",r.key,r.newValue),r.key===this.js)return void gr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ws.test(r.key)){if(null==r.newValue){const o=t.ci(r.key);return t.ai(o,null)}{const o=t.ui(r.key,r.newValue);if(o)return t.ai(o.clientId,o)}}else if(t.Gs.test(r.key)){if(null!==r.newValue){const o=t.hi(r.key,r.newValue);if(o)return t.li(o)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const o=t.fi(r.key,r.newValue);if(o)return t.di(o)}}else if(r.key===t.Hs){if(null!==r.newValue){const o=t.Xs(r.newValue);if(o)return t.Zs(o)}}else if(r.key===t.Qs){const o=function(c){let h=ns.T;if(null!=c)try{const _=JSON.parse(c);mt("number"==typeof _),h=_}catch(_){gr("SharedClientState","Failed to read sequence number from WebStorage",_)}return h}(r.newValue);o!==ns.T&&t.sequenceNumberHandler(o)}else if(r.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(r)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,r){const o=new tS(this.currentUser,e,t,r),c=g1(this.persistenceKey,this.currentUser,e);this.setItem(c,o.Os())}ni(e){const t=g1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,r){const o=bk(this.persistenceKey,e),c=new fw(e,t,r);this.setItem(o,c.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const r=this.ci(e);return nS.$s(r,t)}hi(e,t){const r=this.Gs.exec(e),o=Number(r[1]);return tS.$s(new vi(void 0!==r[2]?r[2]:null),o,t)}fi(e,t){const r=this.zs.exec(e),o=Number(r[1]);return fw.$s(o,t)}Xs(e){return Ek.$s(e)}li(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);Ne("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ai(e,t){const r=t?this.qs.insert(e,t):this.qs.remove(e),o=this.ti(this.qs),c=this.ti(r),h=[],_=[];return c.forEach(b=>{o.has(b)||h.push(b)}),o.forEach(b=>{c.has(b)||_.push(b)}),this.syncEngine.gi(h,_).then(()=>{this.qs=r})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=qT();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class m1{constructor(){this.yi=new wk,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,r){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new wk,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class FB{Ti(e){}shutdown(){}}class _1{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const LB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class VB{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class BB extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,r,o){const c=this.Bi(e,t);Ne("RestConnection","Sending: ",c,r);const h={};return this.Ui(h,o),this.qi(e,c,h,r).then(_=>(Ne("RestConnection","Received: ",_),_),_=>{throw Kp("RestConnection",`${e} failed with error: `,_,"url: ",c,"request:",r),_})}Ki(e,t,r,o){return this.Li(e,t,r,o)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+yc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const r in t.authHeaders)t.authHeaders.hasOwnProperty(r)&&(e[r]=t.authHeaders[r])}Bi(e,t){return`${this.Fi}/v1/${t}:${LB[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,r,o){return new Promise((c,h)=>{const _=new sF;_.listenOnce(UR.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case jE.NO_ERROR:const C=_.getResponseJson();Ne("Connection","XHR received:",JSON.stringify(C)),c(C);break;case jE.TIMEOUT:Ne("Connection",'RPC "'+e+'" timed out'),h(new Ae(ge.DEADLINE_EXCEEDED,"Request time out"));break;case jE.HTTP_ERROR:const M=_.getStatus();if(Ne("Connection",'RPC "'+e+'" failed with status:',M,"response text:",_.getResponseText()),M>0){const O=_.getResponseJson().error;if(O&&O.status&&O.message){const G=function(z){const J=z.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(J)>=0?J:ge.UNKNOWN}(O.status);h(new Ae(G,O.message))}else h(new Ae(ge.UNKNOWN,"Server responded with status "+_.getStatus()))}else h(new Ae(ge.UNAVAILABLE,"Connection failed."));break;default:$e()}}finally{Ne("Connection",'RPC "'+e+'" completed.')}});const b=JSON.stringify(o);_.send(t,"POST",b,r,15)})}ji(e,t){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=rF(),c=BR(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new iF({})),this.Ui(h.initMessageHeaders,t),(0,Vt.uI)()||(0,Vt.b$)()||(0,Vt.d)()||(0,Vt.w1)()||(0,Vt.Mn)()||(0,Vt.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");Ne("Connection","Creating WebChannel: "+_,h);const b=o.createWebChannel(_,h);let C=!1,M=!1;const O=new VB({vi:z=>{M?Ne("Connection","Not sending because WebChannel is closed:",z):(C||(Ne("Connection","Opening WebChannel transport."),b.open(),C=!0),Ne("Connection","WebChannel sending:",z),b.send(z))},Vi:()=>b.close()}),G=(z,J,me)=>{z.listen(J,Ie=>{try{me(Ie)}catch(He){setTimeout(()=>{throw He},0)}})};return G(b,K_.EventType.OPEN,()=>{M||Ne("Connection","WebChannel transport opened.")}),G(b,K_.EventType.CLOSE,()=>{M||(M=!0,Ne("Connection","WebChannel transport closed"),O.$i())}),G(b,K_.EventType.ERROR,z=>{M||(M=!0,Kp("Connection","WebChannel transport errored:",z),O.$i(new Ae(ge.UNAVAILABLE,"The operation could not be completed")))}),G(b,K_.EventType.MESSAGE,z=>{var J;if(!M){const me=z.data[0];mt(!!me);const Ie=me,He=Ie.error||(null===(J=Ie[0])||void 0===J?void 0:J.error);if(He){Ne("Connection","WebChannel received error:",He);const ct=He.status;let Ut=function(gn){const ar=Gr[gn];if(void 0!==ar)return _F(ar)}(ct),st=He.message;void 0===Ut&&(Ut=ge.INTERNAL,st="Unknown error status: "+ct+" with message "+He.message),M=!0,O.$i(new Ae(Ut,st)),b.close()}else Ne("Connection","WebChannel received:",me),O.Oi(me)}}),G(c,Wp.STAT_EVENT,z=>{z.stat===HE.PROXY?Ne("Connection","Detected buffering proxy"):z.stat===HE.NOPROXY&&Ne("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.ki()},0),O}}function y1(){return"undefined"!=typeof window?window:null}function rS(){return"undefined"!=typeof document?document:null}function pw(n){return new qV(n,!0)}class Dk{constructor(e,t,r=1e3,o=1.5,c=6e4){this.Oe=e,this.timerId=t,this.Qi=r,this.Wi=o,this.Gi=c,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),o=Math.max(0,t-r);o>0&&Ne("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,o,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class v1{constructor(e,t,r,o,c,h,_){this.Oe=e,this.er=r,this.nr=o,this.sr=c,this.credentialsProvider=h,this.listener=_,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new Dk(e,t)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var e=this;return(0,ye.Z)(function*(){e.ur()&&(yield e.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(e){this.gr(),this.stream.send(e)}_r(){var e=this;return(0,ye.Z)(function*(){if(e.hr())return e.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var r=this;return(0,ye.Z)(function*(){r.gr(),r.yr(),r.ar.cancel(),r.ir++,4!==e?r.ar.reset():t&&t.code===ge.RESOURCE_EXHAUSTED?(gr(t.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),r.ar.Yi()):t&&t.code===ge.UNAUTHENTICATED&&3!==r.state&&r.credentialsProvider.invalidateToken(),null!==r.stream&&(r.pr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ci(t)})()}pr(){}auth(){this.state=1;const e=this.Tr(this.ir),t=this.ir;this.credentialsProvider.getToken().then(r=>{this.ir===t&&this.Er(r)},r=>{e(()=>{const o=new Ae(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ir(o)})})}Er(e){const t=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si(()=>{t(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(r=>{t(()=>this.Ir(r))}),this.stream.onMessage(r=>{t(()=>this.onMessage(r))})}lr(){var e=this;this.state=5,this.ar.Xi((0,ye.Z)(function*(){e.state=0,e.start()}))}Ir(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Tr(e){return t=>{this.Oe.enqueueAndForget(()=>this.ir===e?t():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UB extends v1{constructor(e,t,r,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,c),this.N=o}Ar(e){return this.sr.ji("Listen",e)}onMessage(e){this.ar.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(b=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:$e(),o=e.targetChange.targetIds||[],c=function(b,C){return b.D?(mt(void 0===C||"string"==typeof C),Hr.fromBase64String(C||"")):(mt(void 0===C||C instanceof Uint8Array),Hr.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,_=h&&function(b){const C=void 0===b.code?ge.UNKNOWN:_F(b.code);return new Ae(C,b.message||"")}(h);t=new EF(r,o,c,_||null)}else if("documentChange"in e){const r=e.documentChange,o=Cc(n,r.document.name),c=Ei(r.document.updateTime),h=new bi({mapValue:{fields:r.document.fields}}),_=Vn.newFoundDocument(o,c,h);t=new WT(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,o=Cc(n,r.document),c=r.readTime?Ei(r.readTime):It.min(),h=Vn.newNoDocument(o,c);t=new WT([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=Cc(n,r.document);t=new WT([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return $e();{const r=e.filter,c=new LV(r.count||0);t=new bF(r.targetId,c)}}var b;return t}(this.N,e),r=function(o){if(!("targetChange"in o))return It.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?It.min():c.readTime?Ei(c.readTime):It.min()}(e);return this.listener.Rr(t,r)}br(e){const t={};t.database=cw(this.N),t.addTarget=function(o,c){let h;const _=c.target;return h=ry(_)?{documents:kF(o,_)}:{query:OF(o,_)},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?h.resumeToken=IF(o,c.resumeToken):c.snapshotVersion.compareTo(It.min())>0&&(h.readTime=aw(o,c.snapshotVersion.toTimestamp())),h}(this.N,e);const r=function(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return $e()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.mr(t)}Pr(e){const t={};t.database=cw(this.N),t.removeTarget=e,this.mr(t)}}class jB extends v1{constructor(e,t,r,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,c),this.N=o,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(e){return this.sr.ji("Write",e)}onMessage(e){if(mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.vr){this.ar.reset();const t=function(n,e){return n&&n.length>0?(mt(void 0!==e),n.map(t=>function(r,o){let c=Ei(r.updateTime?r.updateTime:o);return c.isEqual(It.min())&&(c=Ei(o)),new nw(c,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ei(e.commitTime);return this.listener.Dr(r,t)}return mt(!e.writeResults||0===e.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const e={};e.database=cw(this.N),this.mr(e)}Sr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>KT(this.N,r))};this.mr(t)}}class HB extends class{}{constructor(e,t,r){super(),this.credentials=e,this.sr=t,this.N=r,this.kr=!1}$r(){if(this.kr)throw new Ae(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,r){return this.$r(),this.credentials.getToken().then(o=>this.sr.Li(e,t,r,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ge.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new Ae(ge.UNKNOWN,o.toString())})}Ki(e,t,r){return this.$r(),this.credentials.getToken().then(o=>this.sr.Ki(e,t,r,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ge.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new Ae(ge.UNKNOWN,o.toString())})}terminate(){this.kr=!0}}class GB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Br("Offline")))}set(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}Br(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Ur(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(gr(t),this.Mr=!1):Ne("OnlineStateTracker",t)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class $B{constructor(e,t,r,o,c){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=c,this.zr.Ti(_=>{r.enqueueAndForget((0,ye.Z)(function*(){var b;Gh(h)&&(Ne("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,ye.Z)(function*(C){const M=Ve(C);M.Wr.add(4),yield _y(M),M.Hr.set("Unknown"),M.Wr.delete(4),yield gw(M)}),function(C){return b.apply(this,arguments)})(h))}))}),this.Hr=new GB(r,o)}}function gw(n){return Ik.apply(this,arguments)}function Ik(){return(Ik=(0,ye.Z)(function*(n){if(Gh(n))for(const e of n.Gr)yield e(!0)})).apply(this,arguments)}function _y(n){return Tk.apply(this,arguments)}function Tk(){return(Tk=(0,ye.Z)(function*(n){for(const e of n.Gr)yield e(!1)})).apply(this,arguments)}function iS(n,e){const t=Ve(n);t.Qr.has(e.targetId)||(t.Qr.set(e.targetId,e),Mk(t)?Ak(t):vy(t).hr()&&Sk(t,e))}function mw(n,e){const t=Ve(n),r=vy(t);t.Qr.delete(e),r.hr()&&b1(t,e),0===t.Qr.size&&(r.hr()?r.wr():Gh(t)&&t.Hr.set("Unknown"))}function Sk(n,e){n.Jr.Y(e.targetId),vy(n).br(e)}function b1(n,e){n.Jr.Y(e),vy(n).Pr(e)}function Ak(n){n.Jr=new GV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.Qr.get(e)||null}),vy(n).start(),n.Hr.Lr()}function Mk(n){return Gh(n)&&!vy(n).ur()&&n.Qr.size>0}function Gh(n){return 0===Ve(n).Wr.size}function E1(n){n.Jr=void 0}function zB(n){return xk.apply(this,arguments)}function xk(){return(xk=(0,ye.Z)(function*(n){n.Qr.forEach((e,t)=>{Sk(n,e)})})).apply(this,arguments)}function qB(n,e){return Rk.apply(this,arguments)}function Rk(){return(Rk=(0,ye.Z)(function*(n,e){E1(n),Mk(n)?(n.Hr.qr(e),Ak(n)):n.Hr.set("Unknown")})).apply(this,arguments)}function WB(n,e,t){return kk.apply(this,arguments)}function kk(){return(kk=(0,ye.Z)(function*(n,e,t){if(n.Hr.set("Online"),e instanceof EF&&2===e.state&&e.cause)try{yield(r=(0,ye.Z)(function*(o,c){const h=c.cause;for(const _ of c.targetIds)o.Qr.has(_)&&(yield o.remoteSyncer.rejectListen(_,h),o.Qr.delete(_),o.Jr.removeTarget(_))}),function(o,c){return r.apply(this,arguments)})(n,e)}catch(r){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield sS(n,r)}else if(e instanceof WT?n.Jr.rt(e):e instanceof bF?n.Jr.ft(e):n.Jr.at(e),!t.isEqual(It.min()))try{const r=yield u1(n.localStore);t.compareTo(r)>=0&&(yield function(o,c){const h=o.Jr._t(c);return h.targetChanges.forEach((_,b)=>{if(_.resumeToken.approximateByteSize()>0){const C=o.Qr.get(b);C&&o.Qr.set(b,C.withResumeToken(_.resumeToken,c))}}),h.targetMismatches.forEach(_=>{const b=o.Qr.get(_);if(!b)return;o.Qr.set(_,b.withResumeToken(Hr.EMPTY_BYTE_STRING,b.snapshotVersion)),b1(o,_);const C=new Bh(b.target,_,1,b.sequenceNumber);Sk(o,C)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Ne("RemoteStore","Failed to raise snapshot:",r),yield sS(n,r)}var r})).apply(this,arguments)}function sS(n,e,t){return Ok.apply(this,arguments)}function Ok(){return(Ok=(0,ye.Z)(function*(n,e,t){if(!eg(e))throw e;n.Wr.add(1),yield _y(n),n.Hr.set("Offline"),t||(t=()=>u1(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Ne("RemoteStore","Retrying IndexedDB access"),yield t(),n.Wr.delete(1),yield gw(n)}))})).apply(this,arguments)}function w1(n,e){return e().catch(t=>sS(n,t,e))}function yy(n){return Pk.apply(this,arguments)}function Pk(){return(Pk=(0,ye.Z)(function*(n){const e=Ve(n),t=$h(e);let r=e.jr.length>0?e.jr[e.jr.length-1].batchId:-1;for(;KB(e);)try{const o=yield IB(e.localStore,r);if(null===o){0===e.jr.length&&t.wr();break}r=o.batchId,YB(e,o)}catch(o){yield sS(e,o)}C1(e)&&D1(e)})).apply(this,arguments)}function KB(n){return Gh(n)&&n.jr.length<10}function YB(n,e){n.jr.push(e);const t=$h(n);t.hr()&&t.Vr&&t.Sr(e.mutations)}function C1(n){return Gh(n)&&!$h(n).ur()&&n.jr.length>0}function D1(n){$h(n).start()}function ZB(n){return Nk.apply(this,arguments)}function Nk(){return(Nk=(0,ye.Z)(function*(n){$h(n).Nr()})).apply(this,arguments)}function QB(n){return Fk.apply(this,arguments)}function Fk(){return(Fk=(0,ye.Z)(function*(n){const e=$h(n);for(const t of n.jr)e.Sr(t.mutations)})).apply(this,arguments)}function JB(n,e,t){return Lk.apply(this,arguments)}function Lk(){return(Lk=(0,ye.Z)(function*(n,e,t){const r=n.jr.shift(),o=nk.from(r,e,t);yield w1(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield yy(n)})).apply(this,arguments)}function XB(n,e){return Vk.apply(this,arguments)}function Vk(){return(Vk=(0,ye.Z)(function*(n,e){var t;e&&$h(n).Vr&&(yield(t=(0,ye.Z)(function*(r,o){if(mF(c=o.code)&&c!==ge.ABORTED){const h=r.jr.shift();$h(r).dr(),yield w1(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield yy(r)}var c}),function(r,o){return t.apply(this,arguments)})(n,e)),C1(n)&&D1(n)})).apply(this,arguments)}function Bk(n,e){return Uk.apply(this,arguments)}function Uk(){return(Uk=(0,ye.Z)(function*(n,e){const t=Ve(n);e?(t.Wr.delete(2),yield gw(t)):e||(t.Wr.add(2),yield _y(t),t.Hr.set("Unknown"))})).apply(this,arguments)}function vy(n){return n.Yr||(n.Yr=function(e,t,r){const o=Ve(e);return o.$r(),new UB(t,o.sr,o.credentials,o.N,r)}(n.datastore,n.asyncQueue,{Si:zB.bind(null,n),Ci:qB.bind(null,n),Rr:WB.bind(null,n)}),n.Gr.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Yr.dr(),Mk(n)?Ak(n):n.Hr.set("Unknown")):(yield n.Yr.stop(),E1(n))});return function(t){return e.apply(this,arguments)}}())),n.Yr}function $h(n){return n.Xr||(n.Xr=function(e,t,r){const o=Ve(e);return o.$r(),new jB(t,o.sr,o.credentials,o.N,r)}(n.datastore,n.asyncQueue,{Si:ZB.bind(null,n),Ci:XB.bind(null,n),Cr:QB.bind(null,n),Dr:JB.bind(null,n)}),n.Gr.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Xr.dr(),yield yy(n)):(yield n.Xr.stop(),n.jr.length>0&&(Ne("RemoteStore",`Stopping write stream with ${n.jr.length} pending writes`),n.jr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Xr}class jk{constructor(e,t,r,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,c){const h=Date.now()+r,_=new jk(e,t,h,o,c);return _.start(r),_}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function by(n,e){if(gr("AsyncQueue",`${e}: ${n}`),eg(n))return new Ae(ge.UNAVAILABLE,`${e}: ${n}`);throw n}class Ey{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Xe.comparator(t.key,r.key):(t,r)=>Xe.comparator(t.key,r.key),this.keyedMap=QR(),this.sortedSet=new ci(this.comparator)}static emptySet(e){return new Ey(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ey)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ey;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class I1{constructor(){this.Zr=new ci(Xe.comparator)}track(e){const t=e.doc.key,r=this.Zr.get(t);r?0!==e.type&&3===r.type?this.Zr=this.Zr.insert(t,e):3===e.type&&1!==r.type?this.Zr=this.Zr.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Zr=this.Zr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Zr=this.Zr.remove(t):1===e.type&&2===r.type?this.Zr=this.Zr.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):$e():this.Zr=this.Zr.insert(t,e)}eo(){const e=[];return this.Zr.inorderTraversal((t,r)=>{e.push(r)}),e}}class wy{constructor(e,t,r,o,c,h,_,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=_,this.excludesMetadataChanges=b}static fromInitialDocuments(e,t,r,o){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new wy(e,t,Ey.emptySet(t),c,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&m(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class e2{constructor(){this.no=void 0,this.listeners=[]}}class t2{constructor(){this.queries=new py(e=>v(e),m),this.onlineState="Unknown",this.so=new Set}}function Hk(n,e){return Gk.apply(this,arguments)}function Gk(){return(Gk=(0,ye.Z)(function*(n,e){const t=Ve(n),r=e.query;let o=!1,c=t.queries.get(r);if(c||(o=!0,c=new e2),o)try{c.no=yield t.onListen(r)}catch(h){const _=by(h,`Initialization of query '${w(e.query)}' failed`);return void e.onError(_)}t.queries.set(r,c),c.listeners.push(e),e.io(t.onlineState),c.no&&e.ro(c.no)&&qk(t)})).apply(this,arguments)}function $k(n,e){return zk.apply(this,arguments)}function zk(){return(zk=(0,ye.Z)(function*(n,e){const t=Ve(n),r=e.query;let o=!1;const c=t.queries.get(r);if(c){const h=c.listeners.indexOf(e);h>=0&&(c.listeners.splice(h,1),o=0===c.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)})).apply(this,arguments)}function n2(n,e){const t=Ve(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const _ of h.listeners)_.ro(o)&&(r=!0);h.no=o}}r&&qk(t)}function r2(n,e,t){const r=Ve(n),o=r.queries.get(e);if(o)for(const c of o.listeners)c.onError(t);r.queries.delete(e)}function qk(n){n.so.forEach(e=>{e.next()})}class Wk{constructor(e,t,r){this.query=e,this.oo=t,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=r||{}}ro(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new wy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.uo(e)&&(this.oo.next(e),t=!0):this.ho(e,this.onlineState)&&(this.lo(e),t=!0),this.ao=e,t}onError(e){this.oo.error(e)}io(e){this.onlineState=e;let t=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),t=!0),t}ho(e,t){return!e.fromCache||!(this.options.fo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}uo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(e){e=wy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}class s2{constructor(e,t){this.payload=e,this.byteLength=t}wo(){return"metadata"in this.payload}}class T1{constructor(e){this.N=e}zn(e){return Cc(this.N,e)}Hn(e){return e.metadata.exists?xF(this.N,e.document,!1):Vn.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return Ei(e)}}class o2{constructor(e,t,r){this._o=e,this.localStore=t,this.N=r,this.queries=[],this.documents=[],this.progress=S1(e)}mo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}yo(e){const t=new Map,r=new T1(this.N);for(const o of e)if(o.metadata.queries){const c=r.zn(o.metadata.name);for(const h of o.metadata.queries){const _=(t.get(h)||pn()).add(c);t.set(h,_)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function(n,e,t,r){return mk.apply(this,arguments)}(e.localStore,new T1(e.N),e.documents,e._o.id),r=e.yo(e.documents);for(const o of e.queries)yield AB(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",new EB(Object.assign({},e.progress),t)})()}}function S1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class A1{constructor(e){this.key=e}}class M1{constructor(e){this.key=e}}class x1{constructor(e,t){this.query=e,this.po=t,this.To=null,this.current=!1,this.Eo=pn(),this.mutatedKeys=pn(),this.Io=x(e),this.Ao=new Ey(this.Io)}get Ro(){return this.po}bo(e,t){const r=t?t.Po:new I1,o=t?t.Ao:this.Ao;let c=t?t.mutatedKeys:this.mutatedKeys,h=o,_=!1;const b=XE(this.query)&&o.size===this.query.limit?o.last():null,C=ew(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((M,O)=>{const G=o.get(M),z=I(this.query,O)?O:null,J=!!G&&this.mutatedKeys.has(G.key),me=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let Ie=!1;G&&z?G.data.isEqual(z.data)?J!==me&&(r.track({type:3,doc:z}),Ie=!0):this.vo(G,z)||(r.track({type:2,doc:z}),Ie=!0,(b&&this.Io(z,b)>0||C&&this.Io(z,C)<0)&&(_=!0)):!G&&z?(r.track({type:0,doc:z}),Ie=!0):G&&!z&&(r.track({type:1,doc:G}),Ie=!0,(b||C)&&(_=!0)),Ie&&(z?(h=h.add(z),c=me?c.add(M):c.delete(M)):(h=h.delete(M),c=c.delete(M)))}),XE(this.query)||ew(this.query))for(;h.size>this.query.limit;){const M=XE(this.query)?h.last():h.first();h=h.delete(M.key),c=c.delete(M.key),r.track({type:1,doc:M})}return{Ao:h,Po:r,Ln:_,mutatedKeys:c}}vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;const c=e.Po.eo();c.sort((C,M)=>function(O,G){const z=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e()}};return z(O)-z(G)}(C.type,M.type)||this.Io(C.doc,M.doc)),this.Vo(r);const h=t?this.So():[],_=0===this.Eo.size&&this.current?1:0,b=_!==this.To;return this.To=_,0!==c.length||b?{snapshot:new wy(this.query,e.Ao,o,c,e.mutatedKeys,0===_,b,!1),Do:h}:{Do:h}}io(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new I1,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}Vo(e){e&&(e.addedDocuments.forEach(t=>this.po=this.po.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.po=this.po.delete(t)),this.current=e.current)}So(){if(!this.current)return[];const e=this.Eo;this.Eo=pn(),this.Ao.forEach(r=>{this.Co(r.key)&&(this.Eo=this.Eo.add(r.key))});const t=[];return e.forEach(r=>{this.Eo.has(r)||t.push(new M1(r))}),this.Eo.forEach(r=>{e.has(r)||t.push(new A1(r))}),t}No(e){this.po=e.Gn,this.Eo=pn();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return wy.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class a2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class l2{constructor(e){this.key=e,this.ko=!1}}class c2{constructor(e,t,r,o,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.$o={},this.Oo=new py(_=>v(_),m),this.Fo=new Map,this.Mo=new Set,this.Lo=new ci(Xe.comparator),this.Bo=new Map,this.Uo=new yk,this.qo={},this.Ko=new Map,this.jo=ng.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function u2(n,e){return Kk.apply(this,arguments)}function Kk(){return(Kk=(0,ye.Z)(function*(n,e){const t=_O(n);let r,o;const c=t.Oo.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),o=c.view.xo();else{const h=yield gy(t.localStore,d(e)),_=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield Yk(t,e,r,"current"===_),t.isPrimaryClient&&iS(t.remoteStore,h)}return o})).apply(this,arguments)}function Yk(n,e,t,r){return Zk.apply(this,arguments)}function Zk(){return(Zk=(0,ye.Z)(function*(n,e,t,r){n.Wo=(M,O,G)=>{return(z=(0,ye.Z)(function*(J,me,Ie,He){let ct=me.view.bo(Ie);ct.Ln&&(ct=yield eS(J.localStore,me.query,!1).then(({documents:gn})=>me.view.bo(gn,ct)));const Ut=He&&He.targetChanges.get(me.targetId),st=me.view.applyChanges(ct,J.isPrimaryClient,Ut);return oO(J,me.targetId,st.Do),st.snapshot}),function(J,me,Ie,He){return z.apply(this,arguments)})(n,M,O,G);var z};const o=yield eS(n.localStore,e,!0),c=new x1(e,o.Gn),h=c.bo(o.documents),_=ow.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),b=c.applyChanges(h,n.isPrimaryClient,_);oO(n,t,b.Do);const C=new a2(e,t,c);return n.Oo.set(e,C),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),b.snapshot})).apply(this,arguments)}function d2(n,e){return Qk.apply(this,arguments)}function Qk(){return(Qk=(0,ye.Z)(function*(n,e){const t=Ve(n),r=t.Oo.get(e),o=t.Fo.get(r.targetId);if(o.length>1)return t.Fo.set(r.targetId,o.filter(c=>!m(c,e))),void t.Oo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield my(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),mw(t.remoteStore,r.targetId),Cy(t,r.targetId)}).catch(rg))):(Cy(t,r.targetId),yield my(t.localStore,r.targetId,!0))})).apply(this,arguments)}function Jk(){return(Jk=(0,ye.Z)(function*(n,e,t){const r=yO(n);try{const o=yield function(c,h){const _=Ve(c),b=jr.now(),C=h.reduce((O,G)=>O.add(G.key),pn());let M;return _.persistence.runTransaction("Locally write mutations","readwrite",O=>_.Qn.Pn(O,C).next(G=>{M=G;const z=[];for(const J of h){const me=FV(J,M.get(J.key));null!=me&&z.push(new Lh(J.key,me,UT(me.value.mapValue),Qn.exists(!0)))}return _.In.addMutationBatch(O,b,z,h)})).then(O=>(O.applyToLocalDocumentSet(M),{batchId:O.batchId,changes:M}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(c,h,_){let b=c.qo[c.currentUser.toKey()];b||(b=new ci(Bt)),b=b.insert(h,_),c.qo[c.currentUser.toKey()]=b}(r,o.batchId,t),yield Ju(r,o.changes),yield yy(r.remoteStore)}catch(o){const c=by(o,"Failed to persist write");t.reject(c)}})).apply(this,arguments)}function R1(n,e){return Xk.apply(this,arguments)}function Xk(){return(Xk=(0,ye.Z)(function*(n,e){const t=Ve(n);try{const r=yield DB(t.localStore,e);e.targetChanges.forEach((o,c)=>{const h=t.Bo.get(c);h&&(mt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.ko=!0:o.modifiedDocuments.size>0?mt(h.ko):o.removedDocuments.size>0&&(mt(h.ko),h.ko=!1))}),yield Ju(t,r,e)}catch(r){yield rg(r)}})).apply(this,arguments)}function k1(n,e,t){const r=Ve(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.Oo.forEach((c,h)=>{const _=h.view.io(e);_.snapshot&&o.push(_.snapshot)}),function(c,h){const _=Ve(c);_.onlineState=h;let b=!1;_.queries.forEach((C,M)=>{for(const O of M.listeners)O.io(h)&&(b=!0)}),b&&qk(_)}(r.eventManager,e),o.length&&r.$o.Rr(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function f2(n,e,t){return eO.apply(this,arguments)}function eO(){return(eO=(0,ye.Z)(function*(n,e,t){const r=Ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Bo.get(e),c=o&&o.key;if(c){let h=new ci(Xe.comparator);h=h.insert(c,Vn.newNoDocument(c,It.min()));const _=pn().add(c),b=new sw(It.min(),new Map,new _r(Bt),h,_);yield R1(r,b),r.Lo=r.Lo.remove(c),r.Bo.delete(e),aO(r)}else yield my(r.localStore,e,!1).then(()=>Cy(r,e,t)).catch(rg)})).apply(this,arguments)}function p2(n,e){return tO.apply(this,arguments)}function tO(){return(tO=(0,ye.Z)(function*(n,e){const t=Ve(n),r=e.batch.batchId;try{const o=yield CB(t.localStore,e);sO(t,r,null),iO(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ju(t,o)}catch(o){yield rg(o)}})).apply(this,arguments)}function g2(n,e,t){return nO.apply(this,arguments)}function nO(){return(nO=(0,ye.Z)(function*(n,e,t){const r=Ve(n);try{const o=yield function(c,h){const _=Ve(c);return _.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let C;return _.In.lookupMutationBatch(b,h).next(M=>(mt(null!==M),C=M.keys(),_.In.removeMutationBatch(b,M))).next(()=>_.In.performConsistencyCheck(b)).next(()=>_.Qn.Pn(b,C))})}(r.localStore,e);sO(r,e,t),iO(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ju(r,o)}catch(o){yield rg(o)}})).apply(this,arguments)}function rO(){return(rO=(0,ye.Z)(function*(n,e){const t=Ve(n);Gh(t.remoteStore)||Ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const h=Ve(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",_=>h.In.getHighestUnacknowledgedBatchId(_))}(t.localStore);if(-1===r)return void e.resolve();const o=t.Ko.get(r)||[];o.push(e),t.Ko.set(r,o)}catch(r){const o=by(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}})).apply(this,arguments)}function iO(n,e){(n.Ko.get(e)||[]).forEach(t=>{t.resolve()}),n.Ko.delete(e)}function sO(n,e,t){const r=Ve(n);let o=r.qo[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),r.qo[r.currentUser.toKey()]=o}}function Cy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Fo.get(e))n.Oo.delete(r),t&&n.$o.Go(r,t);n.Fo.delete(e),n.isPrimaryClient&&n.Uo.cs(e).forEach(r=>{n.Uo.containsKey(r)||O1(n,r)})}function O1(n,e){n.Mo.delete(e.path.canonicalString());const t=n.Lo.get(e);null!==t&&(mw(n.remoteStore,t),n.Lo=n.Lo.remove(e),n.Bo.delete(t),aO(n))}function oO(n,e,t){for(const r of t)r instanceof A1?(n.Uo.addReference(r.key,e),_2(n,r)):r instanceof M1?(Ne("SyncEngine","Document no longer in limbo: "+r.key),n.Uo.removeReference(r.key,e),n.Uo.containsKey(r.key)||O1(n,r.key)):$e()}function _2(n,e){const t=e.key,r=t.path.canonicalString();n.Lo.get(t)||n.Mo.has(r)||(Ne("SyncEngine","New document in limbo: "+t),n.Mo.add(r),aO(n))}function aO(n){for(;n.Mo.size>0&&n.Lo.size<n.maxConcurrentLimboResolutions;){const e=n.Mo.values().next().value;n.Mo.delete(e);const t=new Xe(en.fromString(e)),r=n.jo.next();n.Bo.set(r,new l2(t)),n.Lo=n.Lo.insert(t,r),iS(n.remoteStore,new Bh(d(Jp(t.path)),r,2,ns.T))}}function Ju(n,e,t){return lO.apply(this,arguments)}function lO(){return(lO=(0,ye.Z)(function*(n,e,t){const r=Ve(n),o=[],c=[],h=[];var _;r.Oo.isEmpty()||(r.Oo.forEach((_,b)=>{h.push(r.Wo(b,e,t).then(C=>{if(C){r.isPrimaryClient&&r.sharedClientState.updateQueryState(b.targetId,C.fromCache?"not-current":"current"),o.push(C);const M=hk.kn(b.targetId,C);c.push(M)}}))}),yield Promise.all(h),r.$o.Rr(o),yield(_=(0,ye.Z)(function*(b,C){const M=Ve(b);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>Me.forEach(C,G=>Me.forEach(G.Nn,z=>M.persistence.referenceDelegate.addReference(O,G.targetId,z)).next(()=>Me.forEach(G.xn,z=>M.persistence.referenceDelegate.removeReference(O,G.targetId,z)))))}catch(O){if(!eg(O))throw O;Ne("LocalStore","Failed to update sequence numbers: "+O)}for(const O of C){const G=O.targetId;if(!O.fromCache){const z=M.Un.get(G),me=z.withLastLimboFreeSnapshotVersion(z.snapshotVersion);M.Un=M.Un.insert(G,me)}}}),function(b,C){return _.apply(this,arguments)})(r.localStore,c))})).apply(this,arguments)}function y2(n,e){return cO.apply(this,arguments)}function cO(){return(cO=(0,ye.Z)(function*(n,e){const t=Ve(n);if(!t.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const r=yield c1(t.localStore,e);t.currentUser=e,(o=t).Ko.forEach(h=>{h.forEach(_=>{_.reject(new Ae(ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ko.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ju(t,r.Wn)}var o})).apply(this,arguments)}function v2(n,e){const t=Ve(n),r=t.Bo.get(e);if(r&&r.ko)return pn().add(r.key);{let o=pn();const c=t.Fo.get(e);if(!c)return o;for(const h of c){const _=t.Oo.get(h);o=o.unionWith(_.view.Ro)}return o}}function b2(n,e){return uO.apply(this,arguments)}function uO(){return(uO=(0,ye.Z)(function*(n,e){const t=Ve(n),r=yield eS(t.localStore,e.query,!0),o=e.view.No(r);return t.isPrimaryClient&&oO(t,e.targetId,o.Do),o})).apply(this,arguments)}function E2(n){return dO.apply(this,arguments)}function dO(){return(dO=(0,ye.Z)(function*(n){const e=Ve(n);return f1(e.localStore).then(t=>Ju(e,t))})).apply(this,arguments)}function w2(n,e,t,r){return hO.apply(this,arguments)}function hO(){return(hO=(0,ye.Z)(function*(n,e,t,r){const o=Ve(n),c=yield function(h,_){const b=Ve(h),C=Ve(b.In);return b.persistence.runTransaction("Lookup mutation documents","readonly",M=>C.Xt(M,_).next(O=>O?b.Qn.Pn(M,O):Me.resolve(null)))}(o.localStore,e);var _;null!==c?("pending"===t?yield yy(o.remoteStore):"acknowledged"===t||"rejected"===t?(sO(o,e,r||null),iO(o,e),_=e,Ve(Ve(o.localStore).In).te(_)):$e(),yield Ju(o,c)):Ne("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function fO(){return(fO=(0,ye.Z)(function*(n,e){const t=Ve(n);if(_O(t),yO(t),!0===e&&!0!==t.Qo){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield P1(t,r.toArray());t.Qo=!0,yield Bk(t.remoteStore,!0);for(const c of o)iS(t.remoteStore,c)}else if(!1===e&&!1!==t.Qo){const r=[];let o=Promise.resolve();t.Fo.forEach((c,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(Cy(t,h),my(t.localStore,h,!0))),mw(t.remoteStore,h)}),yield o,yield P1(t,r),function(c){const h=Ve(c);h.Bo.forEach((_,b)=>{mw(h.remoteStore,b)}),h.Uo.us(),h.Bo=new Map,h.Lo=new ci(Xe.comparator)}(t),t.Qo=!1,yield Bk(t.remoteStore,!1)}})).apply(this,arguments)}function P1(n,e,t){return pO.apply(this,arguments)}function pO(){return(pO=(0,ye.Z)(function*(n,e,t){const r=Ve(n),o=[],c=[];for(const h of e){let _;const b=r.Fo.get(h);if(b&&0!==b.length){_=yield gy(r.localStore,d(b[0]));for(const C of b){const M=r.Oo.get(C),O=yield b2(r,M);O.snapshot&&c.push(O.snapshot)}}else{const C=yield h1(r.localStore,h);_=yield gy(r.localStore,C),yield Yk(r,N1(C),h,!1)}o.push(_)}return r.$o.Rr(c),o})).apply(this,arguments)}function N1(n){return KR(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function D2(n){const e=Ve(n);return Ve(Ve(e.localStore).persistence).pn()}function I2(n,e,t,r){return gO.apply(this,arguments)}function gO(){return(gO=(0,ye.Z)(function*(n,e,t,r){const o=Ve(n);if(o.Qo)Ne("SyncEngine","Ignoring unexpected query state notification.");else if(o.Fo.has(e))switch(t){case"current":case"not-current":{const c=yield f1(o.localStore),h=sw.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Ju(o,c,h);break}case"rejected":yield my(o.localStore,e,!0),Cy(o,e,r);break;default:$e()}})).apply(this,arguments)}function T2(n,e,t){return mO.apply(this,arguments)}function mO(){return(mO=(0,ye.Z)(function*(n,e,t){const r=_O(n);if(r.Qo){for(const o of e){if(r.Fo.has(o)){Ne("SyncEngine","Adding an already active target "+o);continue}const c=yield h1(r.localStore,o),h=yield gy(r.localStore,c);yield Yk(r,N1(c),h.targetId,!1),iS(r.remoteStore,h)}for(const o of t)r.Fo.has(o)&&(yield my(r.localStore,o,!1).then(()=>{mw(r.remoteStore,o),Cy(r,o)}).catch(rg))}})).apply(this,arguments)}function _O(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=R1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f2.bind(null,e),e.$o.Rr=n2.bind(null,e.eventManager),e.$o.Go=r2.bind(null,e.eventManager),e}function yO(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g2.bind(null,e),e}class F1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.N=pw(e.databaseInfo.databaseId),t.sharedClientState=t.Ho(e),t.persistence=t.Jo(e),yield t.persistence.start(),t.gcScheduler=t.Yo(e),t.localStore=t.Xo(e)})()}Yo(e){return null}Xo(e){return l1(this.persistence,new a1,e.initialUser,this.N)}Jo(e){return new PB(vk.Ns,this.N)}Ho(e){return new m1}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class L1 extends F1{constructor(e,t,r){super(),this.Zo=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e),yield function(n){return gk.apply(this,arguments)}(r.localStore),yield r.Zo.initialize(r,e),yield yO(r.Zo.syncEngine),yield yy(r.Zo.remoteStore),yield r.persistence.nn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Xo(e){return l1(this.persistence,new a1,e.initialUser,this.N)}Yo(e){return new gB(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Jo(e){const t=dk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?no.withCacheSize(this.cacheSizeBytes):no.DEFAULT;return new uk(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,y1(),rS(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(e){return new m1}}class A2 extends L1{constructor(e,t){super(e,t,!1),this.Zo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e);const o=r.Zo.syncEngine;r.sharedClientState instanceof Ck&&(r.sharedClientState.syncEngine={_i:w2.bind(null,o),mi:I2.bind(null,o),gi:T2.bind(null,o),pn:D2.bind(null,o),wi:E2.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.nn(function(){var c=(0,ye.Z)(function*(h){yield function(n,e){return fO.apply(this,arguments)}(r.Zo.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return c.apply(this,arguments)}}())})()}Ho(e){const t=y1();if(!Ck.bt(t))throw new Ae(ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=dk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ck(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class vO{initialize(e,t){var r=this;return(0,ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>k1(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=y2.bind(null,r.syncEngine),yield Bk(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new t2}createDatastore(e){const t=pw(e.databaseInfo.databaseId),r=new BB(e.databaseInfo);return new HB(e.credentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,c=_=>k1(this.syncEngine,_,0),h=_1.bt()?new _1:new FB,new $B(t,r,o,c,h);var t,r,o,c,h}createSyncEngine(e,t){return function(r,o,c,h,_,b,C){const M=new c2(r,o,c,h,_,b);return C&&(M.Qo=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const r=Ve(t);Ne("RemoteStore","RemoteStore shutting down."),r.Wr.add(5),yield _y(r),r.zr.shutdown(),r.Hr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function V1(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class oS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.tc(this.observer.next,e)}error(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}ec(){this.muted=!0}tc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class M2{constructor(e,t){this.nc=e,this.N=t,this.metadata=new Pr,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(r=>{r&&r.wo()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.nc.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}zo(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.ic()})()}ic(){var e=this;return(0,ye.Z)(function*(){const t=yield e.rc();if(null===t)return null;const r=e.sc.decode(t),o=Number(r);isNaN(o)&&e.oc(`length string (${r}) is not valid number`);const c=yield e.cc(o);return new s2(JSON.parse(c),t.length+o)})()}ac(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}rc(){var e=this;return(0,ye.Z)(function*(){for(;e.ac()<0&&!(yield e.uc()););if(0===e.buffer.length)return null;const t=e.ac();t<0&&e.oc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}cc(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.uc())&&t.oc("Reached the end of bundle when more is expected.");const r=t.sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}oc(e){throw this.nc.cancel(),new Error(`Invalid bundle format: ${e}`)}uc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.nc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class x2{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ae(ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,ye.Z)(function*(c,h){const _=Ve(c),b=cw(_.N)+"/documents",C={documents:h.map(z=>lw(_.N,z))},M=yield _.Ki("BatchGetDocuments",b,C),O=new Map;M.forEach(z=>{const J=function(n,e){return"found"in e?function(t,r){mt(!!r.found);const o=Cc(t,r.found.name),c=Ei(r.found.updateTime),h=new bi({mapValue:{fields:r.found.fields}});return Vn.newFoundDocument(o,c,h)}(n,e):"missing"in e?function(t,r){mt(!!r.missing),mt(!!r.readTime);const o=Cc(t,r.missing),c=Ei(r.readTime);return Vn.newNoDocument(o,c)}(n,e):$e()}(_.N,z);O.set(J.key.toString(),J)});const G=[];return h.forEach(z=>{const J=O.get(z.toString());mt(!!J),G.push(J)}),G}),function(c,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new iw(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const c=Xe.fromPath(o);e.mutations.push(new ZR(c,e.precondition(c)))}),yield(r=(0,ye.Z)(function*(o,c){const h=Ve(o),_=cw(h.N)+"/documents",b={writes:c.map(C=>KT(h.N,C))};yield h.Li("Commit",_,b)}),function(o,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw $e();t=It.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ae(ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Qn.updateTime(t):Qn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(It.min()))throw new Ae(ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qn.updateTime(t)}return Qn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class R2{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.hc=5,this.ar=new Dk(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){var e=this;this.ar.Xi((0,ye.Z)(function*(){const t=new x2(e.datastore),r=e.fc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(c=>{e.dc(c)}))}).catch(o=>{e.dc(o)})}))}fc(e){try{const t=this.updateFunction(e);return!rs(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}dc(e){this.hc>0&&this.wc(e)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(e)}wc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!mF(t)}return!1}}class k2{constructor(e,t,r){var o=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=r,this.user=vi.UNAUTHENTICATED,this.clientId=FT.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var c=(0,ye.Z)(function*(h){Ne("FirestoreClient","Received user=",h.uid),yield o.credentialListener(h),o.user=h});return function(h){return c.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(r){const o=by(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function B1(n,e){return bO.apply(this,arguments)}function bO(){return(bO=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,ye.Z)(function*(c){r.isEqual(c)||(yield c1(e.localStore,c),r=c)});return function(c){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function U1(n,e){return EO.apply(this,arguments)}function EO(){return(EO=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield wO(n);Ne("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>{return(c=(0,ye.Z)(function*(h,_){const b=Ve(h);b.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const C=Gh(b);b.Wr.add(3),yield _y(b),C&&b.Hr.set("Unknown"),yield b.remoteSyncer.handleCredentialChange(_),b.Wr.delete(3),yield gw(b)}),function(h,_){return c.apply(this,arguments)})(e.remoteStore,o);var c}),n.onlineComponents=e})).apply(this,arguments)}function wO(n){return CO.apply(this,arguments)}function CO(){return(CO=(0,ye.Z)(function*(n){return n.offlineComponents||(Ne("FirestoreClient","Using default OfflineComponentProvider"),yield B1(n,new F1)),n.offlineComponents})).apply(this,arguments)}function aS(n){return DO.apply(this,arguments)}function DO(){return(DO=(0,ye.Z)(function*(n){return n.onlineComponents||(Ne("FirestoreClient","Using default OnlineComponentProvider"),yield U1(n,new vO)),n.onlineComponents})).apply(this,arguments)}function j1(n){return wO(n).then(e=>e.persistence)}function IO(n){return wO(n).then(e=>e.localStore)}function H1(n){return aS(n).then(e=>e.remoteStore)}function TO(n){return aS(n).then(e=>e.syncEngine)}function Dy(n){return SO.apply(this,arguments)}function SO(){return(SO=(0,ye.Z)(function*(n){const e=yield aS(n),t=e.eventManager;return t.onListen=u2.bind(null,e.syncEngine),t.onUnlisten=d2.bind(null,e.syncEngine),t})).apply(this,arguments)}function G1(n,e,t={}){const r=new Pr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(o,c,h,_,b){const C=new oS({next:O=>{c.enqueueAndForget(()=>$k(o,M));const G=O.docs.has(h);!G&&O.fromCache?b.reject(new Ae(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&O.fromCache&&_&&"server"===_.source?b.reject(new Ae(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(O)},error:O=>b.reject(O)}),M=new Wk(Jp(h.path),C,{includeMetadataChanges:!0,fo:!0});return Hk(o,M)}(yield Dy(n),n.asyncQueue,e,t,r)})),r.promise}function $1(n,e,t={}){const r=new Pr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(o,c,h,_,b){const C=new oS({next:O=>{c.enqueueAndForget(()=>$k(o,M)),O.fromCache&&"server"===_.source?b.reject(new Ae(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(O)},error:O=>b.reject(O)}),M=new Wk(h,C,{includeMetadataChanges:!0,fo:!0});return Hk(o,M)}(yield Dy(n),n.asyncQueue,e,t,r)})),r.promise}class j2{constructor(e,t,r,o,c,h,_,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=_,this.useFetchStreams=b}}class Iy{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Iy&&e.projectId===this.projectId&&e.database===this.database}}const z1=new Map;function AO(n,e,t){if(!t)throw new Ae(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function q1(n,e,t,r){if(!0===e&&!0===r)throw new Ae(ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function W1(n){if(!Xe.isDocumentKey(n))throw new Ae(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function K1(n){if(Xe.isDocumentKey(n))throw new Ae(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function lS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":$e()}function nn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lS(n);throw new Ae(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Y1(n,e){if(e<=0)throw new Ae(ge.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Z1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ae(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ae(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,q1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _w{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z1({}),this._settingsFrozen=!1,e instanceof Iy?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ae(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Iy(r.options.projectId)}(e))}get app(){if(!this._app)throw new Ae(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ae(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z1(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new zE;switch(t.type){case"gapi":const r=t.client;return mt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new NT(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ae(ge.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=z1.get(e);t&&(Ne("ComponentProvider","Removing Datastore"),z1.delete(e),t.terminate())}(this),Promise.resolve()}}class $n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ic(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class ss{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ss(this.firestore,e,this._query)}}class Ic extends ss{constructor(e,t,r){super(e,t,Jp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new Xe(e))}withConverter(e){return new Ic(this.firestore,e,this._path)}}function Q1(n,e,...t){if(n=(0,Vt.m9)(n),AO("collection","path",e),n instanceof _w){const r=en.fromString(e,...t);return K1(r),new Ic(n,null,r)}{if(!(n instanceof $n||n instanceof Ic))throw new Ae(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(en.fromString(e,...t));return K1(r),new Ic(n.firestore,null,r)}}function cS(n,e,...t){if(n=(0,Vt.m9)(n),1===arguments.length&&(e=FT.I()),AO("doc","path",e),n instanceof _w){const r=en.fromString(e,...t);return W1(r),new $n(n,null,new Xe(r))}{if(!(n instanceof $n||n instanceof Ic))throw new Ae(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(en.fromString(e,...t));return W1(r),new $n(n.firestore,n instanceof Ic?n.converter:null,new Xe(r))}}function J1(n,e){return n=(0,Vt.m9)(n),e=(0,Vt.m9)(e),(n instanceof $n||n instanceof Ic)&&(e instanceof $n||e instanceof Ic)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function X1(n,e){return n=(0,Vt.m9)(n),e=(0,Vt.m9)(e),n instanceof ss&&e instanceof ss&&n.firestore===e.firestore&&m(n._query,e._query)&&n.converter===e.converter}class $2{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new Dk(this,"async_queue_retry"),this.Rc=()=>{const t=rS();t&&Ne("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ar.tr()};const e=rS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.bc(),this.Pc(e)}enterRestrictedMode(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;const t=rS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Rc)}}enqueue(e){if(this.bc(),this.gc)return new Promise(()=>{});const t=new Pr;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.mc.push(e),this.vc()))}vc(){var e=this;return(0,ye.Z)(function*(){if(0!==e.mc.length){try{yield e.mc[0](),e.mc.shift(),e.ar.reset()}catch(t){if(!eg(t))throw t;Ne("AsyncQueue","Operation failed with retryable error: "+t)}e.mc.length>0&&e.ar.Xi(()=>e.vc())}})()}Pc(e){const t=this._c.then(()=>(this.Ec=!0,e().catch(r=>{throw this.Tc=r,this.Ec=!1,gr("INTERNAL UNHANDLED ERROR: ",function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),h}(r)),r}).then(r=>(this.Ec=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.bc(),this.Ac.indexOf(e)>-1&&(t=0);const o=jk.createAndSchedule(this,e,t,r,c=>this.Vc(c));return this.yc.push(o),o}bc(){this.Tc&&$e()}verifyOperationInProgress(){}Sc(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e._c,yield t}while(t!==e._c)})()}Dc(e){for(const t of this.yc)if(t.timerId===e)return!0;return!1}Cc(e){return this.Sc().then(()=>{this.yc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.yc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sc()})}Nc(e){this.Ac.push(e)}Vc(e){const t=this.yc.indexOf(e);this.yc.splice(t,1)}}function MO(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class z2{constructor(){this._progressObserver={},this._taskCompletionResolver=new Pr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class or extends _w{constructor(e,t){super(e,t),this.type="firestore",this._queue=new $2,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||eL(this),this._firestoreClient.terminate()}}function ui(n){return n._firestoreClient||eL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function eL(n){var e;const t=n._freezeSettings(),r=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new j2(n._databaseId,c,n._persistenceKey,(_=t).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_.useFetchStreams));var c,_;n._firestoreClient=new k2(n._credentials,n._queue,r)}function tL(n,e,t){const r=new Pr;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield B1(n,t),yield U1(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(c=o).name?c.code===ge.FAILED_PRECONDITION||c.code===ge.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var c})).then(()=>r.promise)}function nL(n){if(n._initialized||n._terminated)throw new Ae(ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Xu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ae(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Tc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tc(Hr.fromBase64String(e))}catch(t){throw new Ae(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Tc(Hr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ig{constructor(e){this._methodName=e}}class uS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}}const tU=/^__.*__$/;class nU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Lh(e,this.data,this.fieldMask,t,this.fieldTransforms):new rw(e,this.data,t,this.fieldTransforms)}}class rL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Lh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function iL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e()}}class dS{constructor(e,t,r,o,c,h){this.settings=e,this.databaseId=t,this.N=r,this.ignoreUndefinedProperties=o,void 0===c&&this.xc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(e){return new dS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.$c({path:r,Fc:!1});return o.Mc(e),o}Lc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.$c({path:r,Fc:!1});return o.xc(),o}Bc(e){return this.$c({path:void 0,Fc:!0})}Uc(e){return fS(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Mc(this.path.get(e))}Mc(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(iL(this.kc)&&tU.test(e))throw this.Uc('Document fields cannot begin and end with "__"')}}class rU{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=r||pw(e)}jc(e,t,r,o=!1){return new dS({kc:e,methodName:t,Kc:r,path:Nr.emptyPath(),Fc:!1,qc:o},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function sg(n){const e=n._freezeSettings(),t=pw(n._databaseId);return new rU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hS(n,e,t,r,o,c={}){const h=n.jc(c.merge||c.mergeFields?2:0,e,t,o);OO("Data must be an object, but it was:",h,r);const _=aL(r,h);let b,C;if(c.merge)b=new ju(h.fieldMask),C=h.fieldTransforms;else if(c.mergeFields){const M=[];for(const O of c.mergeFields){const G=PO(e,O,t);if(!h.contains(G))throw new Ae(ge.INVALID_ARGUMENT,`Field '${G}' is specified in your field mask but missing from your input data.`);cL(M,G)||M.push(G)}b=new ju(M),C=h.fieldTransforms.filter(O=>b.covers(O.field))}else b=null,C=h.fieldTransforms;return new nU(new bi(_),b,C)}class yw extends ig{_toFieldTransform(e){if(2!==e.kc)throw e.Uc(1===e.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yw}}function sL(n,e,t){return new dS({kc:3,Kc:e.settings.Kc,methodName:n._methodName,Fc:t},e.databaseId,e.N,e.ignoreUndefinedProperties)}class xO extends ig{_toFieldTransform(e){return new va(e.path,new Ke)}isEqual(e){return e instanceof xO}}class iU extends ig{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=sL(this,e,!0),r=this.Qc.map(c=>og(c,t)),o=new rt(r);return new va(e.path,o)}isEqual(e){return this===e}}class sU extends ig{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=sL(this,e,!0),r=this.Qc.map(c=>og(c,t)),o=new Cn(r);return new va(e.path,o)}isEqual(e){return this===e}}class oU extends ig{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=new ya(e.N,Y(e.N,this.Wc));return new va(e.path,t)}isEqual(e){return this===e}}function RO(n,e,t,r){const o=n.jc(1,e,t);OO("Data must be an object, but it was:",o,r);const c=[],h=bi.empty();sr(r,(b,C)=>{const M=NO(e,b,t);C=(0,Vt.m9)(C);const O=o.Lc(M);if(C instanceof yw)c.push(M);else{const G=og(C,O);null!=G&&(c.push(M),h.set(M,G))}});const _=new ju(c);return new rL(h,_,o.fieldTransforms)}function kO(n,e,t,r,o,c){const h=n.jc(1,e,t),_=[PO(e,r,t)],b=[o];if(c.length%2!=0)throw new Ae(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let G=0;G<c.length;G+=2)_.push(PO(e,c[G])),b.push(c[G+1]);const C=[],M=bi.empty();for(let G=_.length-1;G>=0;--G)if(!cL(C,_[G])){const z=_[G];let J=b[G];J=(0,Vt.m9)(J);const me=h.Lc(z);if(J instanceof yw)C.push(z);else{const Ie=og(J,me);null!=Ie&&(C.push(z),M.set(z,Ie))}}const O=new ju(C);return new rL(M,O,h.fieldTransforms)}function oL(n,e,t,r=!1){return og(t,n.jc(r?4:3,e))}function og(n,e){if(lL(n=(0,Vt.m9)(n)))return OO("Unsupported field value:",e,n),aL(n,e);if(n instanceof ig)return function(t,r){if(!iL(r.kc))throw r.Uc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Uc(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.kc)throw e.Uc("Nested arrays are not supported");return function(t,r){const o=[];let c=0;for(const h of t){let _=og(h,r.Bc(c));null==_&&(_={nullValue:"NULL_VALUE"}),o.push(_),c++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Vt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Y(r.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=jr.fromDate(t);return{timestampValue:aw(r.N,o)}}if(t instanceof jr){const o=new jr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:aw(r.N,o)}}if(t instanceof uS)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Tc)return{bytesValue:IF(r.N,t._byteString)};if(t instanceof $n){const o=r.databaseId,c=t.firestore._databaseId;if(!c.isEqual(o))throw r.Uc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:JR(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Uc(`Unsupported field value: ${lS(t)}`)}(n,e)}function aL(n,e){const t={};return xh(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sr(n,(r,o)=>{const c=og(o,e.Oc(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function lL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof jr||n instanceof uS||n instanceof Tc||n instanceof $n||n instanceof ig)}function OO(n,e,t){if(!lL(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=lS(t);throw e.Uc("an object"===r?n+" a custom object":n+" "+r)}var r}function PO(n,e,t){if((e=(0,Vt.m9)(e))instanceof Xu)return e._internalPath;if("string"==typeof e)return NO(n,e);throw fS("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const aU=new RegExp("[~\\*/\\[\\]]");function NO(n,e,t){if(e.search(aU)>=0)throw fS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xu(...e.split("."))._internalPath}catch(r){throw fS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function fS(n,e,t,r,o){const c=r&&!r.isEmpty(),h=void 0!==o;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let b="";return(c||h)&&(b+=" (found",c&&(b+=` in field ${r}`),h&&(b+=` in document ${o}`),b+=")"),new Ae(ge.INVALID_ARGUMENT,_+n+b)}function cL(n,e){return n.some(t=>t.isEqual(e))}class vw{constructor(e,t,r,o,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new lU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class lU extends vw{data(){return super.data()}}function pS(n,e){return"string"==typeof e?NO(n,e):e instanceof Xu?e._internalPath:e._delegate._internalPath}class ag{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ed extends vw{constructor(e,t,r,o,c,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(pS("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class bw extends ed{data(e={}){return super.data(e)}}class zh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ag(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new bw(this._firestore,this._userDataWriter,r.key,r,new ag(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new bw(r._firestore,r._userDataWriter,h.doc.key,h.doc,new ag(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const _=new bw(r._firestore,r._userDataWriter,h.doc.key,h.doc,new ag(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let b=-1,C=-1;return 0!==h.type&&(b=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),1!==h.type&&(c=c.add(h.doc),C=c.indexOf(h.doc.key)),{type:cU(h.type),doc:_,oldIndex:b,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e()}}function uL(n,e){return n instanceof ed&&e instanceof ed?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof zh&&e instanceof zh&&n._firestore===e._firestore&&X1(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function dL(n){if(ew(n)&&0===n.explicitOrderBy.length)throw new Ae(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ew{}function qh(n,...e){for(const t of e)n=t._apply(n);return n}class uU extends Ew{constructor(e,t,r){super(),this.Gc=e,this.zc=t,this.Hc=r,this.type="where"}_apply(e){const t=sg(e.firestore),r=function(o,c,h,_,b,C,M){let O;if(b.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Ae(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on FieldPath.documentId().`);if("in"===C||"not-in"===C){_L(M,C);const z=[];for(const J of M)z.push(mL(_,o,J));O={arrayValue:{values:z}}}else O=mL(_,o,M)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||_L(M,C),O=oL(h,"where",M,"in"===C||"not-in"===C);const G=Ui.create(b,C,O);return function(z,J){if(J.v()){const Ie=s(z);if(null!==Ie&&!Ie.isEqual(J.field))throw new Ae(ge.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ie.toString()}' and '${J.field.toString()}'`);const He=i(z);null!==He&&yL(0,J.field,He)}const me=function(Ie,He){for(const ct of Ie.filters)if(He.indexOf(ct.op)>=0)return ct.op;return null}(z,function(Ie){switch(Ie){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(J.op));if(null!==me)throw new Ae(ge.INVALID_ARGUMENT,me===J.op?`Invalid query. You cannot use more than one '${J.op.toString()}' filter.`:`Invalid query. You cannot use '${J.op.toString()}' filters with '${me.toString()}' filters.`)}(o,G),G}(e._query,0,t,e.firestore._databaseId,this.Gc,this.zc,this.Hc);return new ss(e.firestore,e.converter,function(o,c){const h=o.filters.concat([c]);return new cl(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class hU extends Ew{constructor(e,t){super(),this.Gc=e,this.Jc=t,this.type="orderBy"}_apply(e){const t=function(r,o,c){if(null!==r.startAt)throw new Ae(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ae(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new Qp(o,c);return function(_,b){if(null===i(_)){const C=s(_);null!==C&&yL(0,C,b.field)}}(r,h),h}(e._query,this.Gc,this.Jc);return new ss(e.firestore,e.converter,function(r,o){const c=r.explicitOrderBy.concat([o]);return new cl(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class hL extends Ew{constructor(e,t,r){super(),this.type=e,this.Yc=t,this.Xc=r}_apply(e){return new ss(e.firestore,e.converter,f(e._query,this.Yc,this.Xc))}}class fL extends Ew{constructor(e,t,r){super(),this.type=e,this.Zc=t,this.ta=r}_apply(e){const t=gL(e,this.type,this.Zc,this.ta);return new ss(e.firestore,e.converter,(o=t,new cl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class pL extends Ew{constructor(e,t,r){super(),this.type=e,this.Zc=t,this.ta=r}_apply(e){const t=gL(e,this.type,this.Zc,this.ta);return new ss(e.firestore,e.converter,(o=t,new cl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function gL(n,e,t,r){if(t[0]=(0,Vt.m9)(t[0]),t[0]instanceof vw)return function(o,c,h,_,b){if(!_)throw new Ae(ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const C=[];for(const M of l(o))if(M.field.isKeyField())C.push(ny(c,_.key));else{const O=_.data.field(M.field);if(WE(O))throw new Ae(ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const G=M.field.canonicalString();throw new Ae(ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${G}' (used as the orderBy) does not exist.`)}C.push(O)}return new Zp(C,b)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=sg(n.firestore);return function(c,h,_,b,C,M){const O=c.explicitOrderBy;if(C.length>O.length)throw new Ae(ge.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const G=[];for(let z=0;z<C.length;z++){const J=C[z];if(O[z].field.isKeyField()){if("string"!=typeof J)throw new Ae(ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof J}`);if(!a(c)&&-1!==J.indexOf("/"))throw new Ae(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${b}() must be a plain document ID, but '${J}' contains a slash.`);const me=c.path.child(en.fromString(J));if(!Xe.isDocumentKey(me))throw new Ae(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${b}() must result in a valid document path, but '${me}' is not because it contains an odd number of segments.`);const Ie=new Xe(me);G.push(ny(h,Ie))}else{const me=oL(_,b,J);G.push(me)}}return new Zp(G,M)}(n._query,n.firestore._databaseId,o,e,t,r)}}function mL(n,e,t){if("string"==typeof(t=(0,Vt.m9)(t))){if(""===t)throw new Ae(ge.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!a(e)&&-1!==t.indexOf("/"))throw new Ae(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(en.fromString(t));if(!Xe.isDocumentKey(r))throw new Ae(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ny(n,new Xe(r))}if(t instanceof $n)return ny(n,t._key);throw new Ae(ge.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${lS(t)}.`)}function _L(n,e){if(!Array.isArray(n)||0===n.length)throw new Ae(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ae(ge.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function yL(n,e,t){if(!t.isEqual(e))throw new Ae(ge.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class FO{convertValue(e,t="none"){switch(Gu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $e()}}convertObject(e,t){const r={};return sr(e.fields,(o,c)=>{r[o]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new uS(mr(e.latitude),mr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=BT(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Yp(e));default:return null}}convertTimestamp(e){const t=Ec(e);return new jr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=en.fromString(e);mt(VF(r));const o=new Iy(r.get(1),r.get(3)),c=new Xe(r.popFirst(5));return o.isEqual(t)||gr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function gS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class bU extends FO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}class vL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=sg(e)}set(e,t,r){this._verifyNotCommitted();const o=Wh(e,this._firestore),c=gS(o.converter,t,r),h=hS(this._dataReader,"WriteBatch.set",o._key,c,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,Qn.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const c=Wh(e,this._firestore);let h;return h="string"==typeof(t=(0,Vt.m9)(t))||t instanceof Xu?kO(this._dataReader,"WriteBatch.update",c._key,t,r,o):RO(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(h.toMutation(c._key,Qn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Wh(e,this._firestore);return this._mutations=this._mutations.concat(new iw(t._key,Qn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Wh(n,e){if((n=(0,Vt.m9)(n)).firestore!==e)throw new Ae(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class lg extends FO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}function bL(n,e,t){n=nn(n,$n);const r=nn(n.firestore,or),o=gS(n.converter,e,t);return Ty(r,[hS(sg(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Qn.none())])}function EL(n,e,t,...r){n=nn(n,$n);const o=nn(n.firestore,or),c=sg(o);let h;return h="string"==typeof(e=(0,Vt.m9)(e))||e instanceof Xu?kO(c,"updateDoc",n._key,e,t,r):RO(c,"updateDoc",n._key,e),Ty(o,[h.toMutation(n._key,Qn.exists(!0))])}function wL(n,...e){var t,r,o;n=(0,Vt.m9)(n);let c={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||MO(e[h])||(c=e[h],h++);const _={includeMetadataChanges:c.includeMetadataChanges};if(MO(e[h])){const O=e[h];e[h]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[h+1]=null===(r=O.error)||void 0===r?void 0:r.bind(O),e[h+2]=null===(o=O.complete)||void 0===o?void 0:o.bind(O)}let b,C,M;if(n instanceof $n)C=nn(n.firestore,or),M=Jp(n._key.path),b={next:O=>{e[h]&&e[h](LO(C,n,O))},error:e[h+1],complete:e[h+2]};else{const O=nn(n,ss);C=nn(O.firestore,or),M=O._query;const G=new lg(C);b={next:z=>{e[h]&&e[h](new zh(C,G,O,z))},error:e[h+1],complete:e[h+2]},dL(n._query)}return function(O,G,z,J){const me=new oS(J),Ie=new Wk(G,me,z);return O.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return Hk(yield Dy(O),Ie)})),()=>{me.ec(),O.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return $k(yield Dy(O),Ie)}))}}(ui(C),M,_,b)}function Ty(n,e){return function(t,r){const o=new Pr;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(n,e,t){return Jk.apply(this,arguments)}(yield TO(t),r,o)})),o.promise}(ui(n),e)}function LO(n,e,t){const r=t.docs.get(e._key),o=new lg(n);return new ed(n,o,e._key,r,new ag(t.hasPendingWrites,t.fromCache),e.converter)}class xU extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=sg(e)}get(e){const t=Wh(e,this._firestore),r=new bU(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return $e();const c=o[0];if(c.isFoundDocument())return new vw(this._firestore,r,c.key,c,t.converter);if(c.isNoDocument())return new vw(this._firestore,r,t._key,null,t.converter);throw $e()})}set(e,t,r){const o=Wh(e,this._firestore),c=gS(o.converter,t,r),h=hS(this._dataReader,"Transaction.set",o._key,c,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const c=Wh(e,this._firestore);let h;return h="string"==typeof(t=(0,Vt.m9)(t))||t instanceof Xu?kO(this._dataReader,"Transaction.update",c._key,t,r,o):RO(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,h),this}delete(e){const t=Wh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Wh(e,this._firestore),r=new lg(this._firestore);return super.get(e).then(o=>new ed(this._firestore,r,t._key,o._document,new ag(!1,!1),t.converter))}}function VO(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function CL(){if("undefined"==typeof Uint8Array)throw new Ae("unimplemented","Uint8Arrays are not available in this environment.")}function DL(){if("undefined"==typeof atob)throw new Ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){yc=ku.SDK_VERSION,(0,ku._registerComponent)(new __.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),c=new or(o,new Z_(t.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC")),(0,ku.registerVersion)(jR,"3.3.0",n),(0,ku.registerVersion)(jR,"3.3.0","esm2017")}();class ww{constructor(e){this._delegate=e}static fromBase64String(e){return DL(),new ww(Tc.fromBase64String(e))}static fromUint8Array(e){return CL(),new ww(Tc.fromUint8Array(e))}toBase64(){return DL(),this._delegate.toBase64()}toUint8Array(){return CL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function BO(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class UU{enableIndexedDbPersistence(e,t){return function(n,e){nL(n=nn(n,or));const t=ui(n),r=n._freezeSettings(),o=new vO;return tL(t,o,new L1(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){nL(n=nn(n,or));const e=ui(n),t=n._freezeSettings(),r=new vO;return tL(e,r,new A2(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Ae(ge.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Pr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(r){if(!dl.bt())return Promise.resolve();const o=r+"main";yield dl.delete(o)}),function(r){return t.apply(this,arguments)})(dk(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class IL{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Iy||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Kp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var o;const c=(n=nn(n,_w))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&Kp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,_;if("string"==typeof r.mockUserToken)h=r.mockUserToken,_=vi.MOCK_USER;else{h=(0,Vt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Ae(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new vi(b)}n._credentials=new qE(new Y_(h,_))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield j1(n),t=yield H1(n);return e.setNetworkEnabled(!0),function(r){const o=Ve(r);return o.Wr.delete(0),gw(o)}(t)}))}(ui(n=nn(n,or)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield j1(n),t=yield H1(n);return e.setNetworkEnabled(!1),(r=(0,ye.Z)(function*(o){const c=Ve(o);c.Wr.add(0),yield _y(c),c.Hr.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(ui(n=nn(n,or)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,q1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new Pr;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(n,e){return rO.apply(this,arguments)}(yield TO(e),t)})),t.promise}(ui(n=nn(n,or)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new oS(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield Dy(n),o=t,Ve(r).so.add(o),void o.next();var r,o})),()=>{t.ec(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield Dy(n),o=t,void Ve(r).so.delete(o);var r,o}))}}(ui(n=nn(n,or)),MO(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Sy(this,Q1(this._delegate,e))}catch(t){throw Ms(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ea(this,cS(this._delegate,e))}catch(t){throw Ms(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xs(this,function(n,e){if(n=nn(n,_w),AO("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ae(ge.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ss(n,null,(t=e,new cl(en.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ms(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new Pr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const r=yield(o=n,aS(o).then(c=>c.datastore));var o;new R2(n.asyncQueue,r,e,t).run()})),t.promise}(ui(n=nn(n,or)),t=>e(new xU(n,t)))}(this._delegate,t=>e(new TL(this,t)))}batch(){return ui(this._delegate),new SL(new vL(this._delegate,e=>Ty(this._delegate,e)))}loadBundle(e){return function(n,e){const t=ui(n=nn(n,or)),r=new z2;return function(n,e,t,r){const o=function(c,h){let _;return _="string"==typeof c?(new TextEncoder).encode(c):c,b=function(b,C){if(b instanceof Uint8Array)return V1(b,C);if(b instanceof ArrayBuffer)return V1(new Uint8Array(b),C);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(_),new M2(b,h);var b}(t,pw(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function(n,e,t){const r=Ve(n);var o;(o=(0,ye.Z)(function*(c,h,_){try{const b=yield h.getMetadata();if(yield function(G,z){const J=Ve(G),me=Ei(z.createTime);return J.persistence.runTransaction("hasNewerBundle","readonly",Ie=>J.Je.getBundleMetadata(Ie,z.id)).then(Ie=>!!Ie&&Ie.createTime.compareTo(me)>=0)}(c.localStore,b))return yield h.close(),void _._completeWith((G=b,{taskState:"Success",documentsLoaded:G.totalDocuments,bytesLoaded:G.totalBytes,totalDocuments:G.totalDocuments,totalBytes:G.totalBytes}));_._updateProgress(S1(b));const C=new o2(b,c.localStore,h.N);let M=yield h.zo();for(;M;){const G=yield C.mo(M);G&&_._updateProgress(G),M=yield h.zo()}const O=yield C.complete();yield Ju(c,O.En,void 0),yield function(G,z){const J=Ve(G);return J.persistence.runTransaction("Save bundle","readwrite",me=>J.Je.saveBundleMetadata(me,z))}(c.localStore,b),_._completeWith(O.progress)}catch(b){Kp("SyncEngine",`Loading bundle failed with ${b}`),_._failWith(b)}var G}),function(c,h,_){return o.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield TO(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,r){const o=Ve(t);return o.persistence.runTransaction("Get named query","readonly",c=>o.Je.getNamedQuery(c,r))}(yield IO(n),e)}))}(ui(n=nn(n,or)),e).then(t=>t?new ss(n,null,t.query):null)}(this._delegate,e).then(t=>t?new xs(this,t):null)}}class mS extends FO{constructor(e){super(),this.firestore=e}convertBytes(e){return new ww(new Tc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ea.forKey(t,this.firestore,null)}}class TL{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new mS(e)}get(e){const t=ug(e);return this._delegate.get(t).then(r=>new Cw(this._firestore,new ed(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=ug(e);return r?(VO("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const c=ug(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...o),this}delete(e){const t=ug(e);return this._delegate.delete(t),this}}class SL{constructor(e){this._delegate=e}set(e,t,r){const o=ug(e);return r?(VO("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const c=ug(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...o),this}delete(e){const t=ug(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class cg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new bw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Dw(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=cg.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let c=o.get(t);return c||(c=new cg(e,new mS(e),t),o.set(t,c)),c}}cg.INSTANCES=new WeakMap;class Ea{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mS(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ea(t,new $n(t._delegate,r,new Xe(e)))}static forKey(e,t,r){return new Ea(t,new $n(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Sy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Sy(this.firestore,Q1(this._delegate,e))}catch(t){throw Ms(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Vt.m9)(e))instanceof $n&&J1(this._delegate,e)}set(e,t){t=VO("DocumentReference.set",t);try{return t?bL(this._delegate,e,t):bL(this._delegate,e)}catch(r){throw Ms(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?EL(this._delegate,e):EL(this._delegate,e,t,...r)}catch(o){throw Ms(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return Ty(nn(n.firestore,or),[new iw(n._key,Qn.none())])}(this._delegate)}onSnapshot(...e){const t=AL(e),r=ML(e,o=>new Cw(this.firestore,new ed(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return wL(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=nn(n,$n);const e=nn(n.firestore,or),t=ui(e),r=new lg(e);return function(n,e){const t=new Pr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(o,c,h){try{const _=yield function(b,C){const M=Ve(b);return M.persistence.runTransaction("read document","readonly",O=>M.Qn.An(O,C))}(o,c);_.isFoundDocument()?h.resolve(_):_.isNoDocument()?h.resolve(null):h.reject(new Ae(ge.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(_){const b=by(_,`Failed to get document '${c} from cache`);h.reject(b)}}),function(o,c,h){return r.apply(this,arguments)})(yield IO(n),e,t);var r})),t.promise}(t,n._key).then(o=>new ed(e,r,n._key,o,new ag(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=nn(n,$n);const e=nn(n.firestore,or);return G1(ui(e),n._key,{source:"server"}).then(t=>LO(e,n,t))}(this._delegate):function(n){n=nn(n,$n);const e=nn(n.firestore,or);return G1(ui(e),n._key).then(t=>LO(e,n,t))}(this._delegate),t.then(r=>new Cw(this.firestore,new ed(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ea(this.firestore,this._delegate.withConverter(e?cg.getInstance(this.firestore,e):null))}}function Ms(n,e,t){return n.message=n.message.replace(e,t),n}function AL(n){for(const e of n)if("object"==typeof e&&!BO(e))return e;return{}}function ML(n,e){var t,r;let o;return o=BO(n[0])?n[0]:BO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{o.next&&o.next(e(c))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class Cw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ea(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return uL(this._delegate,e._delegate)}}class Dw extends Cw{data(e){const t=this._delegate.data(e);return function(n,e){n||$e()}(void 0!==t),t}}class xs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mS(e)}where(e,t,r){try{return new xs(this.firestore,qh(this._delegate,function(n,e,t){const r=e,o=pS("where",n);return new uU(o,r,t)}(e,t,r)))}catch(o){throw Ms(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new xs(this.firestore,qh(this._delegate,function(n,e="asc"){const t=e,r=pS("orderBy",n);return new hU(r,t)}(e,t)))}catch(r){throw Ms(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xs(this.firestore,qh(this._delegate,function(n){return Y1("limit",n),new hL("limit",n,"F")}(e)))}catch(t){throw Ms(t,"limit()","Query.limit()")}}limitToLast(e){try{return new xs(this.firestore,qh(this._delegate,function(n){return Y1("limitToLast",n),new hL("limitToLast",n,"L")}(e)))}catch(t){throw Ms(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new xs(this.firestore,qh(this._delegate,function(...n){return new fL("startAt",n,!0)}(...e)))}catch(t){throw Ms(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new xs(this.firestore,qh(this._delegate,function(...n){return new fL("startAfter",n,!1)}(...e)))}catch(t){throw Ms(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new xs(this.firestore,qh(this._delegate,function(...n){return new pL("endBefore",n,!0)}(...e)))}catch(t){throw Ms(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new xs(this.firestore,qh(this._delegate,function(...n){return new pL("endAt",n,!1)}(...e)))}catch(t){throw Ms(t,"endAt()","Query.endAt()")}}isEqual(e){return X1(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=nn(n,ss);const e=nn(n.firestore,or),t=ui(e),r=new lg(e);return function(n,e){const t=new Pr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(o,c,h){try{const _=yield eS(o,c,!0),b=new x1(c,_.Gn),C=b.bo(_.documents),M=b.applyChanges(C,!1);h.resolve(M.snapshot)}catch(_){const b=by(_,`Failed to execute query '${c} against cache`);h.reject(b)}}),function(o,c,h){return r.apply(this,arguments)})(yield IO(n),e,t);var r})),t.promise}(t,n._query).then(o=>new zh(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=nn(n,ss);const e=nn(n.firestore,or),t=ui(e),r=new lg(e);return $1(t,n._query,{source:"server"}).then(o=>new zh(e,r,n,o))}(this._delegate):function(n){n=nn(n,ss);const e=nn(n.firestore,or),t=ui(e),r=new lg(e);return dL(n._query),$1(t,n._query).then(o=>new zh(e,r,n,o))}(this._delegate),t.then(r=>new UO(this.firestore,new zh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=AL(e),r=ML(e,o=>new UO(this.firestore,new zh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return wL(this._delegate,t,r)}withConverter(e){return new xs(this.firestore,this._delegate.withConverter(e?cg.getInstance(this.firestore,e):null))}}class HU{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Dw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class UO{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new xs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Dw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new HU(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Dw(this._firestore,r))})}isEqual(e){return uL(this._delegate,e._delegate)}}class Sy extends xs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ea(this.firestore,e):null}doc(e){try{return new Ea(this.firestore,void 0===e?cS(this._delegate):cS(this._delegate,e))}catch(t){throw Ms(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=nn(n.firestore,or),r=cS(n),o=gS(n.converter,e);return Ty(t,[hS(sg(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Qn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ea(this.firestore,t))}isEqual(e){return J1(this._delegate,e._delegate)}withConverter(e){return new Sy(this.firestore,this._delegate.withConverter(e?cg.getInstance(this.firestore,e):null))}}function ug(n){return nn(n,$n)}class jO{constructor(...e){this._delegate=new Xu(...e)}static documentId(){return new jO(Nr.keyField().canonicalString())}isEqual(e){return(e=(0,Vt.m9)(e))instanceof Xu&&this._delegate._internalPath.isEqual(e._internalPath)}}class dg{constructor(e){this._delegate=e}static serverTimestamp(){const e=new xO("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new dg(e)}static delete(){const e=new yw("deleteField");return e._methodName="FieldValue.delete",new dg(e)}static arrayUnion(...e){const t=function(...n){return new iU("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new dg(t)}static arrayRemove(...e){const t=function(...n){return new sU("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new dg(t)}static increment(e){const t=function(n){return new oU("increment",n)}(e);return t._methodName="FieldValue.increment",new dg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const GU={Firestore:IL,GeoPoint:uS,Timestamp:jr,Blob:ww,Transaction:TL,WriteBatch:SL,DocumentReference:Ea,DocumentSnapshot:Cw,Query:xs,QueryDocumentSnapshot:Dw,QuerySnapshot:UO,CollectionReference:Sy,FieldPath:jO,FieldValue:dg,setLogLevel:function(n){!function(n){vc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new __.wA("firestore-compat",t=>((e,t)=>new IL(e,t,new UU))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},GU)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.7")}(nE.Z);const xL=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function qU(n=null){return e=>e.lift(new WU(n))}class WU{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new KU(e,this.defaultValue))}}class KU extends Oi.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function YU(n=JU){return e=>e.lift(new ZU(n))}class ZU{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new QU(e,this.errorFactory))}}class QU extends Oi.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function JU(){return new xL}var XU=L(4487);function RL(n,e){return e?rr(()=>n,e):rr(()=>n)}var HO=L(9673);L(2329);const OL=new Map,sj={activated:!1,tokenObservers:[]},oj={initialized:!1,enabled:!1};function os(n){return OL.get(n)||sj}function hl(n,e){OL.set(n,e)}function yS(){return oj}class uj{constructor(e,t,r,o,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=o,o>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new Vt.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Vt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const wa=new Vt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function NL(n){if(!os(n).activated)throw wa.create("use-before-activation",{appName:n.name})}function zO(n,e){return qO.apply(this,arguments)}function qO(){return(qO=(0,ye.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});o&&(r["X-Firebase-Client"]=o.getPlatformInfoString());const c={method:"POST",body:JSON.stringify(e),headers:r};let h,_;try{h=yield fetch(n,c)}catch(O){throw wa.create("fetch-network-error",{originalErrorMessage:O.message})}if(200!==h.status)throw wa.create("fetch-status-error",{httpStatus:h.status});try{_=yield h.json()}catch(O){throw wa.create("fetch-parse-error",{originalErrorMessage:O.message})}const b=_.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw wa.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const C=1e3*Number(b[1]),M=Date.now();return{token:_.attestationToken,expireTimeMillis:M+C,issuedAtTimeMillis:M}})).apply(this,arguments)}function mj(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const Iw="firebase-app-check-store";let bS=null;function LL(){return bS||(bS=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(wa.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{const o=r.target.result;switch(r.oldVersion){case 0:o.createObjectStore(Iw,{keyPath:"compositeKey"})}}}catch(t){e(wa.create("storage-open",{originalErrorMessage:t.message}))}}),bS)}function WO(){return(WO=(0,ye.Z)(function*(n,e){const r=(yield LL()).transaction(Iw,"readwrite"),c=r.objectStore(Iw).put({compositeKey:n,value:e});return new Promise((h,_)=>{c.onsuccess=b=>{h()},r.onerror=b=>{var C;_(wa.create("storage-set",{originalErrorMessage:null===(C=b.target.error)||void 0===C?void 0:C.message}))}})})).apply(this,arguments)}const ES=new uc.Yd("@firebase/app-check");function jL(n,e){return(0,Vt.hl)()?function(n,e){return function(n,e){return WO.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ES.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function HL(){return yS().enabled}function GL(){return QO.apply(this,arguments)}function QO(){return(QO=(0,ye.Z)(function*(){const n=yS();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Tj={error:"UNKNOWN_ERROR"};function Sj(n){return Vt.US.encodeString(JSON.stringify(n),!1)}function wS(n){return JO.apply(this,arguments)}function JO(){return(JO=(0,ye.Z)(function*(n,e=!1){const t=n.app;NL(t);const r=os(t);let c,h,o=r.token;if(!o){const _=yield r.cachedTokenPromise;_&&Tw(_)&&(o=_,hl(t,Object.assign(Object.assign({},r),{token:o})),zL(t,{token:o.token}))}if(!e&&o&&Tw(o))return{token:o.token};if(HL()){const _=yield zO(mj(t,yield GL()),n.platformLoggerProvider);return yield jL(t,_),hl(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{o=yield r.provider.getToken()}catch(_){ES.error(_),c=_}return o?(h={token:o.token},hl(t,Object.assign(Object.assign({},r),{token:o})),yield jL(t,o)):h=Mj(c),zL(t,h),h})).apply(this,arguments)}function XO(n,e){const t=os(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),hl(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function zL(n,e){const t=os(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function Tw(n){return n.expireTimeMillis-Date.now()>0}function Mj(n){return{token:Sj(Tj),error:n}}class xj{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=os(this.app);for(const t of e)XO(this.app,t.next);return Promise.resolve()}}const QL="app-check-internal";(0,ku._registerComponent)(new __.wA("app-check",n=>function(n,e){return new xj(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(QL).initialize()})),(0,ku._registerComponent)(new __.wA(QL,n=>function(n){return{getToken:e=>wS(n,e),addTokenListener:e=>function(n,e,t,r){const{app:o}=n,c=os(o),h={next:t,error:r,type:e},_=Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,h]});if(!_.tokenRefresher){const b=function(n){const{app:e}=n;return new uj((0,ye.Z)(function*(){let r;if(r=os(e).token?yield wS(n,!0):yield wS(n),r.error)throw r.error}),()=>!0,()=>{const t=os(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n);_.tokenRefresher=b}if(!_.tokenRefresher.isRunning()&&c.isTokenAutoRefreshEnabled&&_.tokenRefresher.start(),c.token&&Tw(c.token)){const b=c.token;Promise.resolve().then(()=>t({token:b.token})).catch(()=>{})}else null==c.token&&c.cachedTokenPromise.then(b=>{b&&Tw(b)&&t({token:b.token})}).catch(()=>{});hl(o,_)}(n,"INTERNAL",e),removeTokenListener:e=>XO(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ku.registerVersion)("@firebase/app-check","0.5.1");class rP{constructor(){return(0,ii.vb)("app-check")}}"undefined"!=typeof window&&window;var Yj=L(7841);const XL=new u.OlP("angularfire2.auth.use-emulator"),eV=new u.OlP("angularfire2.auth.settings"),tV=new u.OlP("angularfire2.auth.tenant-id"),nV=new u.OlP("angularfire2.auth.langugage-code"),rV=new u.OlP("angularfire2.auth.use-device-language"),iV=new u.OlP("angularfire.auth.persistence"),sV=(n,e,t,r,o,c,h,_)=>(0,Ts.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=e.runOutsideAngular(()=>n.auth());if(t&&b.useEmulator(...t),r&&(b.tenantId=r),b.languageCode=o,c&&b.useDeviceLanguage(),h)for(const[C,M]of Object.entries(h))b.settings[C]=M;return _&&b.setPersistence(_),b},[t,r,o,c,h,_]);let oV=(()=>{class n{constructor(t,r,o,c,h,_,b,C,M,O,G,z){const J=new Ge.xQ,me=(0,xn.of)(void 0).pipe((0,hr.QV)(h.outsideAngular),rr(()=>c.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,941)))),(0,gt.U)(()=>(0,Ts.on)(t,c,r)),(0,gt.U)(Ie=>sV(Ie,c,_,C,M,O,b,G)),D({bufferSize:1,refCount:!1}));if(bl(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,xn.of)(null);else{me.pipe(function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?dr((o,c)=>n(o,c,r)):XU.y,oe(1),t?qU(e):YU(()=>new xL))}()).subscribe();const He=me.pipe(rr(st=>st.getRedirectResult().then(gn=>gn,()=>null)),ii.iC,D({bufferSize:1,refCount:!1})),ct=me.pipe(rr(st=>new Tr.y(gn=>({unsubscribe:c.runOutsideAngular(()=>st.onAuthStateChanged(ar=>gn.next(ar),ar=>gn.error(ar),()=>gn.complete()))})))),Ut=me.pipe(rr(st=>new Tr.y(gn=>({unsubscribe:c.runOutsideAngular(()=>st.onIdTokenChanged(ar=>gn.next(ar),ar=>gn.error(ar),()=>gn.complete()))}))));this.authState=He.pipe(RL(ct),(0,HO.R)(h.outsideAngular),(0,hr.QV)(h.insideAngular)),this.user=He.pipe(RL(Ut),(0,HO.R)(h.outsideAngular),(0,hr.QV)(h.insideAngular)),this.idToken=this.user.pipe(rr(st=>st?(0,Fi.D)(st.getIdToken()):(0,xn.of)(null))),this.idTokenResult=this.user.pipe(rr(st=>st?(0,Fi.D)(st.getIdTokenResult()):(0,xn.of)(null))),this.credential=(0,Wd.T)(He,J,this.authState.pipe(dr(st=>!st))).pipe((0,gt.U)(st=>(null==st?void 0:st.user)?st:null),(0,HO.R)(h.outsideAngular),(0,hr.QV)(h.insideAngular))}return(0,Ts.pX)(this,me,c,{spy:{apply:(Ie,He,ct)=>{(Ie.startsWith("signIn")||Ie.startsWith("createUser"))&&ct.then(Ut=>J.next(Ut))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ts.Dh),u.LFG(Ts.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ii.HU),u.LFG(XL,8),u.LFG(eV,8),u.LFG(tV,8),u.LFG(nV,8),u.LFG(rV,8),u.LFG(iV,8),u.LFG(rP,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function aV(n,e){return function(n,e=zs.z){return new Tr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function sP(n,e){return aV(n,e).pipe((0,gt.U)(t=>({payload:t,type:"query"})))}function DS(n,e){return sP(n,e).pipe(Ar(void 0),Mr(),(0,gt.U)(([t,r])=>{const o=r.payload.docChanges(),c=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,_)=>{const b=o.find(M=>M.doc.ref.isEqual(h.ref)),C=null==t?void 0:t.payload.docs.find(M=>M.ref.isEqual(h.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(h.metadata)||!b&&C&&JSON.stringify(C.metadata)===JSON.stringify(h.metadata)||c.push({type:"modified",payload:{oldIndex:_,newIndex:_,type:"modified",doc:h}})}),c}))}function lV(n,e,t){return DS(n,t).pipe(eE((r,o)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return oP(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return oP(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return oP(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(c=>c.payload),e),[]),Sd(),(0,gt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function oP(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function cV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class uV{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=DS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,gt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Ar(void 0),Mr(),dr(([r,o])=>o.length>0||!r),(0,gt.U)(([r,o])=>o),ii.iC)}auditTrail(e){return this.stateChanges(e).pipe(eE((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=cV(e);return lV(this.query,t,this.afs.schedulers.outsideAngular).pipe(ii.iC)}valueChanges(e={}){return sP(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ii.iC)}get(e){return(0,Fi.D)(this.query.get(e)).pipe(ii.iC)}add(e){return this.ref.add(e)}doc(e){return new dV(this.ref.doc(e),this.afs)}}class dV{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:c}=pV(r,t);return new uV(o,c,this.afs)}snapshotChanges(){return function(n,e){return aV(n,e).pipe(Ar(void 0),Mr(),(0,gt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ii.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,gt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Fi.D)(this.ref.get(e)).pipe(ii.iC)}}class tH{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?DS(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),dr(t=>t.length>0),ii.iC):DS(this.query,this.afs.schedulers.outsideAngular).pipe(ii.iC)}auditTrail(e){return this.stateChanges(e).pipe(eE((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=cV(e);return lV(this.query,t,this.afs.schedulers.outsideAngular).pipe(ii.iC)}valueChanges(e={}){return sP(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),ii.iC)}get(e){return(0,Fi.D)(this.query.get(e)).pipe(ii.iC)}}const hV=new u.OlP("angularfire2.enableFirestorePersistence"),fV=new u.OlP("angularfire2.firestore.persistenceSettings"),nH=new u.OlP("angularfire2.firestore.settings"),rH=new u.OlP("angularfire2.firestore.use-emulator");function pV(n,e=(t=>t)){return{query:e(n),ref:n}}let gV=(()=>{class n{constructor(t,r,o,c,h,_,b,C,M,O,G,z,J,me,Ie,He,ct){this.schedulers=b;const Ut=(0,Ts.on)(t,_,r),st=M;O&&sV(Ut,_,G,J,me,Ie,z,He),[this.firestore,this.persistenceEnabled$]=(0,Ts.cc)(`${Ut.name}.firestore`,"AngularFirestore",Ut.name,()=>{const gn=_.runOutsideAngular(()=>Ut.firestore());if(c&&gn.settings(c),st&&gn.useEmulator(...st),o&&!bl(h)){const ar=()=>{try{return(0,Fi.D)(gn.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(Gi){return"undefined"!=typeof console&&console.warn(Gi),(0,xn.of)(!1)}};return[gn,_.runOutsideAngular(ar)]}return[gn,(0,xn.of)(!1)]},[c,st,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:h}=pV(o,r),_=this.schedulers.ngZone.run(()=>c);return new uV(_,h,this)}collectionGroup(t,r){const o=r||(h=>h),c=this.firestore.collectionGroup(t);return new tH(o(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new dV(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ts.Dh),u.LFG(Ts.xv,8),u.LFG(hV,8),u.LFG(nH,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ii.HU),u.LFG(fV,8),u.LFG(rH,8),u.LFG(oV,8),u.LFG(XL,8),u.LFG(eV,8),u.LFG(tV,8),u.LFG(nV,8),u.LFG(rV,8),u.LFG(iV,8),u.LFG(rP,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),iH=(()=>{class n{constructor(){Yj.Z.registerVersion("angularfire",ii.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:hV,useValue:!0},{provide:fV,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[gV]}),n})();const sH=["*",[["mat-toolbar-row"]]],oH=["*","mat-toolbar-row"],aH=Xf(class{constructor(n){this._elementRef=n}});let lH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),cH=(()=>{class n extends aH{constructor(t,r,o){super(t),this._platform=r,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(V),u.Y36(se))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,o){if(1&t&&u.Suo(o,lH,5),2&t){let c;u.iGM(c=u.CRH())&&(r._toolbarRows=c)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&u.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[u.qOj],ngContentSelectors:oH,decls:2,vars:0,template:function(t,r){1&t&&(u.F$t(sH),u.Hsn(0),u.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),uH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[fr],fr]}),n})();const dH=["*",[["mat-card-footer"]]],hH=["*","mat-card-footer"];let mV=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(da,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:hH,decls:2,vars:0,template:function(t,r){1&t&&(u.F$t(dH),u.Hsn(0),u.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),_H=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[fr],fr]}),n})();function yH(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"mat-card",1),u.NdJ("dblclick",function(){u.CHM(t);const o=u.oxw();return o.edit.emit(o.task)}),u.TgZ(1,"h2"),u._uU(2),u.qZA(),u.TgZ(3,"p"),u._uU(4),u.qZA(),u.qZA()}if(2&n){const t=u.oxw();u.xp6(2),u.Oqu(t.task.title),u.xp6(2),u.hij(" ",t.task.description," ")}}let vH=(()=>{class n{constructor(){this.task=null,this.edit=new u.vpe}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-task"]],inputs:{task:"task"},outputs:{edit:"edit"},decls:1,vars:1,consts:[["class","item",3,"dblclick",4,"ngIf"],[1,"item",3,"dblclick"]],template:function(t,r){1&t&&u.YNc(0,yH,5,2,"mat-card",0),2&t&&u.Q6J("ngIf",r.task)},directives:[Si,mV],styles:["[_nghost-%COMP%]{display:block}.item[_ngcontent-%COMP%]{margin-bottom:10px;cursor:pointer}"]}),n})();function bH(n,e){1&n&&(u.TgZ(0,"p",13),u._uU(1,"Empty list"),u.qZA())}function EH(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"app-task",14),u.NdJ("edit",function(o){return u.CHM(t),u.oxw().editTask("todo",o)}),u.qZA()}2&n&&u.Q6J("task",e.$implicit)}function wH(n,e){1&n&&(u.TgZ(0,"p",13),u._uU(1,"Empty list"),u.qZA())}function CH(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"app-task",14),u.NdJ("edit",function(o){return u.CHM(t),u.oxw().editTask("inProgress",o)}),u.qZA()}2&n&&u.Q6J("task",e.$implicit)}function DH(n,e){1&n&&(u.TgZ(0,"p",13),u._uU(1,"Empty list"),u.qZA())}function IH(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"app-task",14),u.NdJ("edit",function(o){return u.CHM(t),u.oxw().editTask("done",o)}),u.qZA()}2&n&&u.Q6J("task",e.$implicit)}const aP=function(n,e){return[n,e]},lP=n=>{const e=new Wa([]);return n.valueChanges({idField:"id"}).subscribe(t=>{e.next(t)}),e};let TH=(()=>{class n{constructor(t,r){this.dialog=t,this.store=r,this.todo=lP(this.store.collection("todo")),this.inProgress=lP(this.store.collection("inProgress")),this.done=lP(this.store.collection("done"))}newTask(){this.dialog.open(Sp,{width:"270px",data:{task:{}}}).afterClosed().subscribe(r=>{!r||this.store.collection("todo").add(r.task)})}editTask(t,r){this.dialog.open(Sp,{width:"270px",data:{task:r,enableDelete:!0}}).afterClosed().subscribe(c=>{!c||(c.delete?this.store.collection(t).doc(r.id).delete():this.store.collection(t).doc(r.id).update(r))})}drop(t){if(t.previousContainer===t.container||!t.previousContainer.data||!t.container.data)return;const r=t.previousContainer.data[t.previousIndex];this.store.firestore.runTransaction(()=>Promise.all([this.store.collection(t.previousContainer.id).doc(r.id).delete(),this.store.collection(t.container.id).add(r)])),function(n,e,t,r){const o=lu(t,n.length-1),c=lu(r,e.length);n.length&&e.splice(c,0,n.splice(o,1)[0])}(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ip),u.Y36(gV))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:41,vars:39,consts:[["color","primary"],[1,"content-wrapper"],["mat-button","",3,"click"],[1,"container-wrapper"],[1,"container"],["cdkDropList","","id","todo",1,"list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["todoList","cdkDropList"],["class","empty-label",4,"ngIf"],["cdkDrag","",3,"task","edit",4,"ngFor","ngForOf"],["cdkDropList","","id","inProgress",1,"list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["inProgressList","cdkDropList"],["cdkDropList","","id","done",1,"list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["doneList","cdkDropList"],[1,"empty-label"],["cdkDrag","",3,"task","edit"]],template:function(t,r){if(1&t&&(u.TgZ(0,"mat-toolbar",0),u.TgZ(1,"mat-icon"),u._uU(2,"local_fire_department"),u.qZA(),u.TgZ(3,"span"),u._uU(4,"Kanban Fire"),u.qZA(),u.qZA(),u.TgZ(5,"div",1),u.TgZ(6,"button",2),u.NdJ("click",function(){return r.newTask()}),u.TgZ(7,"mat-icon"),u._uU(8,"add"),u.qZA(),u._uU(9," Add Task "),u.qZA(),u.TgZ(10,"div",3),u.TgZ(11,"div",4),u.TgZ(12,"h2"),u._uU(13,"Backlog"),u.qZA(),u.TgZ(14,"mat-card",5,6),u.NdJ("cdkDropListDropped",function(c){return r.drop(c)}),u.ALo(16,"async"),u.YNc(17,bH,2,0,"p",7),u.ALo(18,"async"),u.YNc(19,EH,1,1,"app-task",8),u.ALo(20,"async"),u.qZA(),u.qZA(),u.TgZ(21,"div",4),u.TgZ(22,"h2"),u._uU(23,"In progress"),u.qZA(),u.TgZ(24,"mat-card",9,10),u.NdJ("cdkDropListDropped",function(c){return r.drop(c)}),u.ALo(26,"async"),u.YNc(27,wH,2,0,"p",7),u.ALo(28,"async"),u.YNc(29,CH,1,1,"app-task",8),u.ALo(30,"async"),u.qZA(),u.qZA(),u.TgZ(31,"div",4),u.TgZ(32,"h2"),u._uU(33,"Done"),u.qZA(),u.TgZ(34,"mat-card",11,12),u.NdJ("cdkDropListDropped",function(c){return r.drop(c)}),u.ALo(36,"async"),u.YNc(37,DH,2,0,"p",7),u.ALo(38,"async"),u.YNc(39,IH,1,1,"app-task",8),u.ALo(40,"async"),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t){const o=u.MAs(15),c=u.MAs(25),h=u.MAs(35);let _,b,C;u.xp6(14),u.Q6J("cdkDropListData",u.lcZ(16,12,r.todo))("cdkDropListConnectedTo",u.WLB(30,aP,h,c)),u.xp6(3),u.Q6J("ngIf",0===(null==(_=u.lcZ(18,14,r.todo))?null:_.length)),u.xp6(2),u.Q6J("ngForOf",u.lcZ(20,16,r.todo)),u.xp6(5),u.Q6J("cdkDropListData",u.lcZ(26,18,r.inProgress))("cdkDropListConnectedTo",u.WLB(33,aP,o,h)),u.xp6(3),u.Q6J("ngIf",0===(null==(b=u.lcZ(28,20,r.inProgress))?null:b.length)),u.xp6(2),u.Q6J("ngForOf",u.lcZ(30,22,r.inProgress)),u.xp6(5),u.Q6J("cdkDropListData",u.lcZ(36,24,r.done))("cdkDropListConnectedTo",u.WLB(36,aP,o,c)),u.xp6(3),u.Q6J("ngIf",0===(null==(C=u.lcZ(38,26,r.done))?null:C.length)),u.xp6(2),u.Q6J("ngForOf",u.lcZ(40,28,r.done))}},directives:[cH,bh,Kb,mV,kC,Si,Wt,vH,OC],pipes:[Pc],styles:["mat-toolbar[_ngcontent-%COMP%]{margin-bottom:20px}mat-toolbar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:10px}.content-wrapper[_ngcontent-%COMP%]{max-width:1400px;margin:auto}.container-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.container[_ngcontent-%COMP%]{width:400px;margin:0 25px 25px 0}.list[_ngcontent-%COMP%]{border:solid 1px #ccc;min-height:60px;border-radius:4px}app-new-task[_ngcontent-%COMP%]{margin-bottom:30px}.empty-label[_ngcontent-%COMP%]{font-size:2em;padding-top:10px;text-align:center;opacity:.2}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}"]}),n})();const _V_firebase={apiKey:"AIzaSyBbsOEmSeAC3COLmD_XNOIXfWXt2BzmGP0",authDomain:"kanbanfire-85da2.firebaseapp.com",databaseURL:"https://kanbanfire-85da2-default-rtdb.firebaseio.com",projectId:"kanbanfire-85da2",storageBucket:"kanbanfire-85da2.appspot.com",messagingSenderId:"242719282976",appId:"1:242719282976:web:085ee4faedab168a486945",measurementId:"G-SES39JGQVQ"};let SH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[TH]}),n.\u0275inj=u.cJS({providers:[],imports:[[Kc,sM,nR,uH,_H,cA,Mx,Wm,Tx,Ex,Ts.hO.initializeApp(_V_firebase),iH]]}),n})();js().bootstrapModule(SH).catch(n=>console.error(n))},3394:(Qe,we,L)=>{"use strict";L.d(we,{Z:()=>Te});var u=L(3854),re=L(3910),F=L(8026),pe=L(5422);class ae{constructor(ue,q){this._delegate=ue,this.firebase=q,(0,F._addComponent)(ue,new re.wA("app-compat",()=>this,"PUBLIC")),this.container=ue.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ue){this._delegate.automaticDataCollectionEnabled=ue}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ue=>{this._delegate.checkDestroyed(),ue()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(ue,q=F._DEFAULT_ENTRY_NAME){var de;this._delegate.checkDestroyed();const xe=this._delegate.container.getProvider(ue);return!xe.isInitialized()&&"EXPLICIT"===(null===(de=xe.getComponent())||void 0===de?void 0:de.instantiationMode)&&xe.initialize(),xe.getImmediate({identifier:q})}_removeServiceInstance(ue,q=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ue).clearInstance(q)}_addComponent(ue){(0,F._addComponent)(this._delegate,ue)}_addOrOverwriteComponent(ue){(0,F._addOrOverwriteComponent)(this._delegate,ue)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function te(){const be=function(be){const ue={},q={__esModule:!0,initializeApp:function(Et,mn={}){const wt=F.initializeApp(Et,mn);if((0,u.r3)(ue,wt.name))return ue[wt.name];const dt=new be(wt,q);return ue[wt.name]=dt,dt},app:xe,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function(Et){const mn=Et.name,wt=mn.replace("-compat","");if(F._registerComponent(Et)&&"PUBLIC"===Et.type){const dt=(zt=xe())=>{if("function"!=typeof zt[wt])throw se.create("invalid-app-argument",{appName:mn});return zt[wt]()};void 0!==Et.serviceProps&&(0,u.ZB)(dt,Et.serviceProps),q[wt]=dt,be.prototype[wt]=function(...zt){return this._getService.bind(this,mn).apply(this,Et.multipleInstances?zt:[])}}return"PUBLIC"===Et.type?q[wt]:null},removeApp:function(Et){delete ue[Et]},useAsService:function(Et,mn){return"serverAuth"===mn?null:mn},modularAPIs:F}};function xe(Et){if(!(0,u.r3)(ue,Et=Et||F._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:Et});return ue[Et]}return q.default=q,Object.defineProperty(q,"apps",{get:function(){return Object.keys(ue).map(Et=>ue[Et])}}),xe.App=be,q}(ae);return be.INTERNAL=Object.assign(Object.assign({},be.INTERNAL),{createFirebaseNamespace:te,extendNamespace:function(q){(0,u.ZB)(be,q)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),be}(),K=new pe.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const be=self.firebase.SDK_VERSION;be&&be.indexOf("LITE")>=0&&K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Te=B;(0,F.registerVersion)("@firebase/app-compat","0.1.9",undefined)},8026:(Qe,we,L)=>{"use strict";L.r(we),L.d(we,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>ko,_DEFAULT_ENTRY_NAME:()=>ks,_addComponent:()=>as,_addOrOverwriteComponent:()=>ro,_apps:()=>jt,_clearComponents:()=>_n,_components:()=>Ht,_getProvider:()=>ln,_registerComponent:()=>ls,_removeServiceInstance:()=>Ca,deleteApp:()=>Xn,getApp:()=>$i,getApps:()=>Se,initializeApp:()=>Di,onLog:()=>Gt,registerVersion:()=>We,setLogLevel:()=>Ii});var u=L(8239),re=L(3910),F=L(5422),pe=L(3854);class ae{constructor(nt){this.container=nt}getPlatformInfoString(){return this.container.getProviders().map(At=>{if(function(tt){const nt=tt.getComponent();return"VERSION"===(null==nt?void 0:nt.type)}(At)){const Mt=At.getImmediate();return`${Mt.library}/${Mt.version}`}return null}).filter(At=>At).join(" ")}}const se="@firebase/app",te=new F.Yd("@firebase/app"),ks="[DEFAULT]",pl={[se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},jt=new Map,Ht=new Map;function as(tt,nt){try{tt.container.addComponent(nt)}catch(At){te.debug(`Component ${nt.name} failed to register with FirebaseApp ${tt.name}`,At)}}function ro(tt,nt){tt.container.addOrOverwriteComponent(nt)}function ls(tt){const nt=tt.name;if(Ht.has(nt))return te.debug(`There were multiple attempts to register component ${nt}.`),!1;Ht.set(nt,tt);for(const At of jt.values())as(At,tt);return!0}function ln(tt,nt){return tt.container.getProvider(nt)}function Ca(tt,nt,At=ks){ln(tt,nt).clearInstance(At)}function _n(){Ht.clear()}const Ft=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class yn{constructor(nt,At,Mt){this._isDeleted=!1,this._options=Object.assign({},nt),this._config=Object.assign({},At),this._name=At.name,this._automaticDataCollectionEnabled=At.automaticDataCollectionEnabled,this._container=Mt,this.container.addComponent(new re.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this.checkDestroyed(),this._automaticDataCollectionEnabled=nt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(nt){this._isDeleted=nt}checkDestroyed(){if(this.isDeleted)throw Ft.create("app-deleted",{appName:this._name})}}const ko="9.4.1";function Di(tt,nt={}){"object"!=typeof nt&&(nt={name:nt});const At=Object.assign({name:ks,automaticDataCollectionEnabled:!1},nt),Mt=At.name;if("string"!=typeof Mt||!Mt)throw Ft.create("bad-app-name",{appName:String(Mt)});const zr=jt.get(Mt);if(zr){if((0,pe.vZ)(tt,zr.options)&&(0,pe.vZ)(At,zr.config))return zr;throw Ft.create("duplicate-app",{appName:Mt})}const qt=new re.H0(Mt);for(const et of Ht.values())qt.addComponent(et);const Fe=new yn(tt,At,qt);return jt.set(Mt,Fe),Fe}function $i(tt=ks){const nt=jt.get(tt);if(!nt)throw Ft.create("no-app",{appName:tt});return nt}function Se(){return Array.from(jt.values())}function Xn(tt){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,u.Z)(function*(tt){const nt=tt.name;jt.has(nt)&&(jt.delete(nt),yield Promise.all(tt.container.getProviders().map(At=>At.delete())),tt.isDeleted=!0)})).apply(this,arguments)}function We(tt,nt,At){var Mt;let zr=null!==(Mt=pl[tt])&&void 0!==Mt?Mt:tt;At&&(zr+=`-${At}`);const qt=zr.match(/\s|\//),Fe=nt.match(/\s|\//);if(qt||Fe){const et=[`Unable to register library "${zr}" with version "${nt}":`];return qt&&et.push(`library name "${zr}" contains illegal characters (whitespace or "/")`),qt&&Fe&&et.push("and"),Fe&&et.push(`version name "${nt}" contains illegal characters (whitespace or "/")`),void te.warn(et.join(" "))}ls(new re.wA(`${zr}-version`,()=>({library:zr,version:nt}),"VERSION"))}function Gt(tt,nt){if(null!==tt&&"function"!=typeof tt)throw Ft.create("invalid-log-argument");(0,F.Am)(tt,nt)}function Ii(tt){(0,F.Ub)(tt)}ls(new re.wA("platform-logger",nt=>new ae(nt),"PRIVATE")),We(se,"0.7.8",""),We(se,"0.7.8","esm2017"),We("fire-js","")},3910:(Qe,we,L)=>{"use strict";L.d(we,{wA:()=>F,H0:()=>ne});var u=L(8239),re=L(3854);class F{constructor(B,K,U){this.name=B,this.instanceFactory=K,this.type=U,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const pe="[DEFAULT]";class ae{constructor(B,K){this.name=B,this.container=K,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const K=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(K)){const U=new re.BH;if(this.instancesDeferred.set(K,U),this.isInitialized(K)||this.shouldAutoInitialize())try{const ce=this.getOrInitializeService({instanceIdentifier:K});ce&&U.resolve(ce)}catch(ce){}}return this.instancesDeferred.get(K).promise}getImmediate(B){var K;const U=this.normalizeInstanceIdentifier(null==B?void 0:B.identifier),ce=null!==(K=null==B?void 0:B.optional)&&void 0!==K&&K;if(!this.isInitialized(U)&&!this.shouldAutoInitialize()){if(ce)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:U})}catch(_e){if(ce)return null;throw _e}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if("EAGER"===B.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:pe})}catch(K){}for(const[K,U]of this.instancesDeferred.entries()){const ce=this.normalizeInstanceIdentifier(K);try{const _e=this.getOrInitializeService({instanceIdentifier:ce});U.resolve(_e)}catch(_e){}}}}clearInstance(B=pe){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,u.Z)(function*(){const K=Array.from(B.instances.values());yield Promise.all([...K.filter(U=>"INTERNAL"in U).map(U=>U.INTERNAL.delete()),...K.filter(U=>"_delete"in U).map(U=>U._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=pe){return this.instances.has(B)}getOptions(B=pe){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:K={}}=B,U=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(U))throw Error(`${this.name}(${U}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ce=this.getOrInitializeService({instanceIdentifier:U,options:K});for(const[_e,Te]of this.instancesDeferred.entries())U===this.normalizeInstanceIdentifier(_e)&&Te.resolve(ce);return ce}onInit(B,K){var U;const ce=this.normalizeInstanceIdentifier(K),_e=null!==(U=this.onInitCallbacks.get(ce))&&void 0!==U?U:new Set;_e.add(B),this.onInitCallbacks.set(ce,_e);const Te=this.instances.get(ce);return Te&&B(Te,ce),()=>{_e.delete(B)}}invokeOnInitCallbacks(B,K){const U=this.onInitCallbacks.get(K);if(U)for(const ce of U)try{ce(B,K)}catch(_e){}}getOrInitializeService({instanceIdentifier:B,options:K={}}){let U=this.instances.get(B);if(!U&&this.component&&(U=this.component.instanceFactory(this.container,{instanceIdentifier:(te=B,te===pe?void 0:te),options:K}),this.instances.set(B,U),this.instancesOptions.set(B,K),this.invokeOnInitCallbacks(U,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,U)}catch(ce){}var te;return U||null}normalizeInstanceIdentifier(B=pe){return this.component?this.component.multipleInstances?B:pe:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ne{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const K=this.getProvider(B.name);if(K.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);K.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const K=new ae(B,this);return this.providers.set(B,K),K}getProviders(){return Array.from(this.providers.values())}}},5422:(Qe,we,L)=>{"use strict";L.d(we,{in:()=>re,Yd:()=>se,Ub:()=>ne,Am:()=>te});const u=[];var re=(()=>{return(B=re||(re={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",re;var B})();const F={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},pe=re.INFO,ae={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},X=(B,K,...U)=>{if(K<B.logLevel)return;const ce=(new Date).toISOString(),_e=ae[K];if(!_e)throw new Error(`Attempted to log a message with an invalid logType (value: ${K})`);console[_e](`[${ce}]  ${B.name}:`,...U)};class se{constructor(K){this.name=K,this._logLevel=pe,this._logHandler=X,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in re))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"==typeof K?F[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(...K){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...K),this._logHandler(this,re.DEBUG,...K)}log(...K){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...K),this._logHandler(this,re.VERBOSE,...K)}info(...K){this._userLogHandler&&this._userLogHandler(this,re.INFO,...K),this._logHandler(this,re.INFO,...K)}warn(...K){this._userLogHandler&&this._userLogHandler(this,re.WARN,...K),this._logHandler(this,re.WARN,...K)}error(...K){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...K),this._logHandler(this,re.ERROR,...K)}}function ne(B){u.forEach(K=>{K.setLogLevel(B)})}function te(B,K){for(const U of u){let ce=null;K&&K.level&&(ce=F[K.level]),U.userLogHandler=null===B?null:(_e,Te,...be)=>{const ue=be.map(q=>{if(null==q)return null;if("string"==typeof q)return q;if("number"==typeof q||"boolean"==typeof q)return q.toString();if(q instanceof Error)return q.message;try{return JSON.stringify(q)}catch(de){return null}}).filter(q=>q).join(" ");Te>=(null!=ce?ce:_e.logLevel)&&B({level:re[Te].toLowerCase(),message:ue,args:be,type:_e.name})}}}},8239:(Qe,we,L)=>{"use strict";function u(F,pe,ae,X,se,ne,te){try{var B=F[ne](te),K=B.value}catch(U){return void ae(U)}B.done?pe(K):Promise.resolve(K).then(X,se)}function re(F){return function(){var pe=this,ae=arguments;return new Promise(function(X,se){var ne=F.apply(pe,ae);function te(K){u(ne,X,se,te,B,"next",K)}function B(K){u(ne,X,se,te,B,"throw",K)}te(void 0)})}}L.d(we,{Z:()=>re})}},Qe=>{Qe(Qe.s=4013)}]);